<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Tangerine Community"><link href=../navigation/ rel=prev><link href=../artwork/icons/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.17"><title>What's new - Tangerine Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.bcfcd587.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#whats-new class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Tangerine Documentation" class="md-header__button md-logo" aria-label="Tangerine Documentation" data-md-component=logo> <img src=../assets/tangerine-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tangerine Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> What's new </span> </div> </div> </div> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Tangerine-Community/Tangerine title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Tangerine Documentation" class="md-nav__button md-logo" aria-label="Tangerine Documentation" data-md-component=logo> <img src=../assets/tangerine-logo.svg alt=logo> </a> Tangerine Documentation </label> <div class=md-nav__source> <a href=https://github.com/Tangerine-Community/Tangerine title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Forms Editor </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Forms Editor </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor/ class=md-nav__link> <span class=md-ellipsis> Editor Guides </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_2> <label class=md-nav__link for=__nav_2_1_2 id=__nav_2_1_2_label tabindex=0> <span class=md-ellipsis> Getting Started with Editor </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_2> <span class="md-nav__icon md-icon"></span> Getting Started with Editor </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor/getting-started-editor/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/create-new-group/ class=md-nav__link> <span class=md-ellipsis> Creating a New Group </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/create-new-form/ class=md-nav__link> <span class=md-ellipsis> Creating a New Instrument/Form </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/edit-form/ class=md-nav__link> <span class=md-ellipsis> Editing the Form </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/add-sections/ class=md-nav__link> <span class=md-ellipsis> Adding Sections and Question to a Form </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/input-types/ class=md-nav__link> <span class=md-ellipsis> Different Input Types </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/skip-logic/ class=md-nav__link> <span class=md-ellipsis> Skip Logic </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/validation/ class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/calculated-inputs/ class=md-nav__link> <span class=md-ellipsis> Calculated inputs </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/downloading-your-data/ class=md-nav__link> <span class=md-ellipsis> Downloading your data (Download CSV) </span> </a> </li> <li class=md-nav__item> <a href=../../../data-collector/deployment class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> <li class=md-nav__item> <a href=../editor/getting-started-editor/user-management/ class=md-nav__link> <span class=md-ellipsis> User management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_3> <label class=md-nav__link for=__nav_2_1_3 id=__nav_2_1_3_label tabindex=0> <span class=md-ellipsis> Advanced Form Programming </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_3> <span class="md-nav__icon md-icon"></span> Advanced Form Programming </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor/advanced-form-programming/ class=md-nav__link> <span class=md-ellipsis> Advanced Form Programming Guides </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/local-content-development/ class=md-nav__link> <span class=md-ellipsis> Local content development </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/rename-section-ids/ class=md-nav__link> <span class=md-ellipsis> Renaming Section Ids </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/dynamic-values/ class=md-nav__link> <span class=md-ellipsis> Dynamic Values in Questions </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/content-sets/ class=md-nav__link> <span class=md-ellipsis> Content sets </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/custom-scripts/ class=md-nav__link> <span class=md-ellipsis> Custom scripts </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/custom-apps/ class=md-nav__link> <span class=md-ellipsis> Custom Apps </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/custom-dashboard/ class=md-nav__link> <span class=md-ellipsis> Custom Dashboard in Tangerine's Web Interface </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/globals/ class=md-nav__link> <span class=md-ellipsis> Global Variables </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/password-policy/ class=md-nav__link> <span class=md-ellipsis> Password Policy </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/kiosk-or-fullscreen-modes/ class=md-nav__link> <span class=md-ellipsis> Kiosk or Fullscreen modes </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/form-versions/ class=md-nav__link> <span class=md-ellipsis> Form Versions </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/reserved-words/ class=md-nav__link> <span class=md-ellipsis> Reserved words in Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/translations/ class=md-nav__link> <span class=md-ellipsis> Translations </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/custom-fonts/ class=md-nav__link> <span class=md-ellipsis> Adding custom fonts to your forms </span> </a> </li> <li class=md-nav__item> <a href=../editor/advanced-form-programming/class/ class=md-nav__link> <span class=md-ellipsis> Class module (Teach) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_4> <label class=md-nav__link for=__nav_2_1_4 id=__nav_2_1_4_label tabindex=0> <span class=md-ellipsis> Form developers cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_4> <span class="md-nav__icon md-icon"></span> Form developers cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor/form-developers-cookbook/ class=md-nav__link> <span class=md-ellipsis> The Tangerine Form Developers' Cookbook </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_5> <label class=md-nav__link for=__nav_2_1_5 id=__nav_2_1_5_label tabindex=0> <span class=md-ellipsis> Case module </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_5> <span class="md-nav__icon md-icon"></span> Case module </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor/case-module/ class=md-nav__link> <span class=md-ellipsis> Case Module </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/case-archive/ class=md-nav__link> <span class=md-ellipsis> Case, Event and Form Archive and Unarchive </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/case-data-model/ class=md-nav__link> <span class=md-ellipsis> Case Management Data Model </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/case-management-group/ class=md-nav__link> <span class=md-ellipsis> Case Management Group </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/case-module-cookbook/ class=md-nav__link> <span class=md-ellipsis> Case Module Cookbook </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/case-service-api/ class=md-nav__link> <span class=md-ellipsis> API: caseService </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/custom-case-reports/ class=md-nav__link> <span class=md-ellipsis> Custom Case Reports </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/data-structure/ class=md-nav__link> <span class=md-ellipsis> Data Structure </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/get-and-set-event-data/ class=md-nav__link> <span class=md-ellipsis> Get and set event data </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/how-to-create-a-workflow-for-changing-case-location/ class=md-nav__link> <span class=md-ellipsis> How to create a workflow for changing a Case's location </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/how-to-pass-data-between-forms-in-a-case/ class=md-nav__link> <span class=md-ellipsis> How to pass data between Forms in a Case </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/how-to-use-form-response-data-in-an-event-form-listing/ class=md-nav__link> <span class=md-ellipsis> How to use Form Response data in an Event Form Listing </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/how-to-use-form-response-data-in-an-event-listing/ class=md-nav__link> <span class=md-ellipsis> How to use Form Response data in an Event Listing </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/on-device-data-corrections-using-issues/ class=md-nav__link> <span class=md-ellipsis> On Device Data Corrections using Issues </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/on-device-data-corrections/ class=md-nav__link> <span class=md-ellipsis> On Device Data Corrections </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/prepare-form-logic-for-issues/ class=md-nav__link> <span class=md-ellipsis> Preparing form logic for compatibility with Issues </span> </a> </li> <li class=md-nav__item> <a href=../editor/case-module/role-base-access/ class=md-nav__link> <span class=md-ellipsis> Role Based Access </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Data Collector </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Data Collector </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../data-collector/ class=md-nav__link> <span class=md-ellipsis> Data Collector Guide </span> </a> </li> <li class=md-nav__item> <a href=../data-collector/install-app/ class=md-nav__link> <span class=md-ellipsis> Tangerine app Installation </span> </a> </li> <li class=md-nav__item> <a href=../data-collector/registration/ class=md-nav__link> <span class=md-ellipsis> User registration </span> </a> </li> <li class=md-nav__item> <a href=../data-collector/data-collector/ class=md-nav__link> <span class=md-ellipsis> Data collection on Device </span> </a> </li> <li class=md-nav__item> <a href=../data-collector/data-sync/ class=md-nav__link> <span class=md-ellipsis> Data Synchronization </span> </a> </li> <li class=md-nav__item> <a href=../data-collector/update-app/ class=md-nav__link> <span class=md-ellipsis> App Update </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> System Administrator </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> System Administrator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../system-administrator/ class=md-nav__link> <span class=md-ellipsis> System Administrator Guide </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/automating-upgrades-of-tangerine/ class=md-nav__link> <span class=md-ellipsis> Automating Upgrades of Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/configuring-aws-cloudwatch-for-logs/ class=md-nav__link> <span class=md-ellipsis> Configuring AWS Cloudwatch </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/couchdb/ class=md-nav__link> <span class=md-ellipsis> CouchDB </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/install-multiple-apks-config/ class=md-nav__link> <span class=md-ellipsis> Installing Multiple Tangerine apps on the same tablet </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/install-on-aws/ class=md-nav__link> <span class=md-ellipsis> Installing Tangerine on AWS </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/installation/ class=md-nav__link> <span class=md-ellipsis> Installation steps overview </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/integrate-group-with-github/ class=md-nav__link> <span class=md-ellipsis> Integrate a group's content with a repository on Github </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/managing-data-conflicts/ class=md-nav__link> <span class=md-ellipsis> Managing Data Conflicts </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/managing-legacy-conflict-issues/ class=md-nav__link> <span class=md-ellipsis> Managing Legacy Conflict Issues </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/mysql-js/ class=md-nav__link> <span class=md-ellipsis> MySQL-JS Module </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/mysql-module/ class=md-nav__link> <span class=md-ellipsis> MySQL Module (Legacy) </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/rescuing-a-full-Tangerine-tablet/ class=md-nav__link> <span class=md-ellipsis> Rescuing a Full Tangerine Tablet </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/restore-from-backup/ class=md-nav__link> <span class=md-ellipsis> Restoring from a Backup </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/sync-protocol-1/ class=md-nav__link> <span class=md-ellipsis> Sync Protocol 1 </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/sync-protocol-2/ class=md-nav__link> <span class=md-ellipsis> Sync Protocol 2 (two-way sync) </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/sync-strategies/ class=md-nav__link> <span class=md-ellipsis> Sync Strategies </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/tangerine-nginx-ssl/ class=md-nav__link> <span class=md-ellipsis> Configuring Nginx as SSL proxy server for Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/troubleshooting-android-devices/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting Android Devices </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/upgrade-checklist/ class=md-nav__link> <span class=md-ellipsis> Upgrade checklist </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/upgrade-instructions/ class=md-nav__link> <span class=md-ellipsis> Upgrade instructions </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/upgrades/ class=md-nav__link> <span class=md-ellipsis> Upgrades </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Get Involved </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Get Involved </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Developer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../developer/ class=md-nav__link> <span class=md-ellipsis> Developer Guide Contents </span> </a> </li> <li class=md-nav__item> <a href=../developer/bootstrapping-tangerine/ class=md-nav__link> <span class=md-ellipsis> Bootstrapping Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../developer/class-deletions/ class=md-nav__link> <span class=md-ellipsis> Deletions in Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../developer/class-docs/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../developer/cordova-plugin-development/ class=md-nav__link> <span class=md-ellipsis> Cordova plugin development </span> </a> </li> <li class=md-nav__item> <a href=../developer/creating-clean-dev-content/ class=md-nav__link> <span class=md-ellipsis> Creating Clean Development Content </span> </a> </li> <li class=md-nav__item> <a href=../developer/data-structures/ class=md-nav__link> <span class=md-ellipsis> Tangerine Data Structures - Document Collections and Types </span> </a> </li> <li class=md-nav__item> <a href=../developer/debugging-reporting/ class=md-nav__link> <span class=md-ellipsis> Debugging reporting </span> </a> </li> <li class=md-nav__item> <a href=../developer/debugging_node_apps/ class=md-nav__link> <span class=md-ellipsis> Debugging node apps </span> </a> </li> <li class=md-nav__item> <a href=../developer/deletion-strategy/ class=md-nav__link> <span class=md-ellipsis> Deletion Strategy </span> </a> </li> <li class=md-nav__item> <a href=../developer/development-bullet-points/ class=md-nav__link> <span class=md-ellipsis> Bullet points for Tangerine Development </span> </a> </li> <li class=md-nav__item> <a href=../developer/docker-network-issues/ class=md-nav__link> <span class=md-ellipsis> Docker Network Issues </span> </a> </li> <li class=md-nav__item> <a href=../developer/how-tangerine-is-built/ class=md-nav__link> <span class=md-ellipsis> How Tangerine code is generated </span> </a> </li> <li class=md-nav__item> <a href=../developer/i18n-translation/ class=md-nav__link> <span class=md-ellipsis> i18n/Translation </span> </a> </li> <li class=md-nav__item> <a href=../developer/load-testing/ class=md-nav__link> <span class=md-ellipsis> Load testing </span> </a> </li> <li class=md-nav__item> <a href=../developer/modules/ class=md-nav__link> <span class=md-ellipsis> Tangy Modules </span> </a> </li> <li class=md-nav__item> <a href=../developer/reporting-mango-tips/ class=md-nav__link> <span class=md-ellipsis> Tips for making queries for Reports using Mango </span> </a> </li> <li class=md-nav__item> <a href=../developer/reverse-proxy-for-developers/ class=md-nav__link> <span class=md-ellipsis> Reverse Proxy for Developers </span> </a> </li> <li class=md-nav__item> <a href=../developer/supporting-custom-elements/ class=md-nav__link> <span class=md-ellipsis> Supporting custom elements and external libs </span> </a> </li> <li class=md-nav__item> <a href=../developer/sync-sessions/ class=md-nav__link> <span class=md-ellipsis> Sync Sessions </span> </a> </li> <li class=md-nav__item> <a href=../developer/tangerine-dev-tutorial-notes/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../developer/tangerine-globals/ class=md-nav__link> <span class=md-ellipsis> Globals in Tangerine </span> </a> </li> <li class=md-nav__item> <a href=../developer/testing-conflicts/ class=md-nav__link> <span class=md-ellipsis> Conflicts </span> </a> </li> <li class=md-nav__item> <a href=../developer/viewing-forms-and-data/ class=md-nav__link> <span class=md-ellipsis> Viewing Forms and Form Data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../product-suite class=md-nav__link> <span class=md-ellipsis> Product Suite </span> </a> </li> <li class=md-nav__item> <a href="https://moodle.tangerinecentral.org/course/index.php?categoryid=14" class=md-nav__link> <span class=md-ellipsis> Learn </span> </a> </li> <li class=md-nav__item> <a href=../system-administrator/installation class=md-nav__link> <span class=md-ellipsis> Setup your Platform </span> </a> </li> <li class=md-nav__item> <a href=https://www.tangerinecentral.org/pricing class=md-nav__link> <span class=md-ellipsis> Sign up </span> </a> </li> <li class=md-nav__item> <a href=../about/ class=md-nav__link> <span class=md-ellipsis> About Tangerine </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#v3321 class=md-nav__link> <span class=md-ellipsis> v3.32.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3320 class=md-nav__link> <span class=md-ellipsis> v3.32.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3312 class=md-nav__link> <span class=md-ellipsis> v3.31.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3311 class=md-nav__link> <span class=md-ellipsis> v3.31.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3310 class=md-nav__link> <span class=md-ellipsis> v3.31.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3302 class=md-nav__link> <span class=md-ellipsis> v3.30.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3301 class=md-nav__link> <span class=md-ellipsis> v3.30.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3300 class=md-nav__link> <span class=md-ellipsis> v3.30.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3291 class=md-nav__link> <span class=md-ellipsis> v3.29.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3290 class=md-nav__link> <span class=md-ellipsis> v3.29.0 </span> </a> </li> <li class=md-nav__item> <a href=#v328 class=md-nav__link> <span class=md-ellipsis> v3.28 </span> </a> </li> <li class=md-nav__item> <a href=#v3278 class=md-nav__link> <span class=md-ellipsis> v3.27.8 </span> </a> </li> <li class=md-nav__item> <a href=#v3277 class=md-nav__link> <span class=md-ellipsis> v3.27.7 </span> </a> </li> <li class=md-nav__item> <a href=#v3276 class=md-nav__link> <span class=md-ellipsis> v3.27.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3275 class=md-nav__link> <span class=md-ellipsis> v3.27.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3274 class=md-nav__link> <span class=md-ellipsis> v3.27.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3273 class=md-nav__link> <span class=md-ellipsis> v3.27.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3272 class=md-nav__link> <span class=md-ellipsis> v3.27.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3271 class=md-nav__link> <span class=md-ellipsis> v3.27.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3270 class=md-nav__link> <span class=md-ellipsis> v3.27.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3262 class=md-nav__link> <span class=md-ellipsis> v3.26.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3261 class=md-nav__link> <span class=md-ellipsis> v3.26.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3260 class=md-nav__link> <span class=md-ellipsis> v3.26.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3251 class=md-nav__link> <span class=md-ellipsis> v3.25.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3250 class=md-nav__link> <span class=md-ellipsis> v3.25.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3246 class=md-nav__link> <span class=md-ellipsis> v3.24.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3244 class=md-nav__link> <span class=md-ellipsis> v3.24.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3243-final class=md-nav__link> <span class=md-ellipsis> v3.24.3-final </span> </a> </li> <li class=md-nav__item> <a href=#v3242 class=md-nav__link> <span class=md-ellipsis> v3.24.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3241 class=md-nav__link> <span class=md-ellipsis> v3.24.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3240 class=md-nav__link> <span class=md-ellipsis> v3.24.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3231 class=md-nav__link> <span class=md-ellipsis> v3.23.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3230 class=md-nav__link> <span class=md-ellipsis> v3.23.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3224 class=md-nav__link> <span class=md-ellipsis> v3.22.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3223 class=md-nav__link> <span class=md-ellipsis> v3.22.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3222 class=md-nav__link> <span class=md-ellipsis> v3.22.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3221 class=md-nav__link> <span class=md-ellipsis> v3.22.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3220 class=md-nav__link> <span class=md-ellipsis> v3.22.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3210 class=md-nav__link> <span class=md-ellipsis> v3.21.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3204 class=md-nav__link> <span class=md-ellipsis> v3.20.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3203 class=md-nav__link> <span class=md-ellipsis> v3.20.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3202 class=md-nav__link> <span class=md-ellipsis> v3.20.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3201 class=md-nav__link> <span class=md-ellipsis> v3.20.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3200 class=md-nav__link> <span class=md-ellipsis> v3.20.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3193 class=md-nav__link> <span class=md-ellipsis> v3.19.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3192 class=md-nav__link> <span class=md-ellipsis> v3.19.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3191 class=md-nav__link> <span class=md-ellipsis> v3.19.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3190 class=md-nav__link> <span class=md-ellipsis> v3.19.0 </span> </a> </li> <li class=md-nav__item> <a href=#v31810 class=md-nav__link> <span class=md-ellipsis> v3.18.10 </span> </a> </li> <li class=md-nav__item> <a href=#v3189 class=md-nav__link> <span class=md-ellipsis> v3.18.9 </span> </a> </li> <li class=md-nav__item> <a href=#v3188 class=md-nav__link> <span class=md-ellipsis> v3.18.8 </span> </a> </li> <li class=md-nav__item> <a href=#v3187 class=md-nav__link> <span class=md-ellipsis> v3.18.7 </span> </a> </li> <li class=md-nav__item> <a href=#v3186 class=md-nav__link> <span class=md-ellipsis> v3.18.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3185 class=md-nav__link> <span class=md-ellipsis> v3.18.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3184 class=md-nav__link> <span class=md-ellipsis> v3.18.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3183 class=md-nav__link> <span class=md-ellipsis> v3.18.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3182 class=md-nav__link> <span class=md-ellipsis> v3.18.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3181 class=md-nav__link> <span class=md-ellipsis> v3.18.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3180 class=md-nav__link> <span class=md-ellipsis> v3.18.0 </span> </a> <nav class=md-nav aria-label=v3.18.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-features class=md-nav__link> <span class=md-ellipsis> New Features </span> </a> </li> <li class=md-nav__item> <a href=#bugfixes class=md-nav__link> <span class=md-ellipsis> Bugfixes </span> </a> </li> <li class=md-nav__item> <a href=#new-documentation class=md-nav__link> <span class=md-ellipsis> New Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v31712 class=md-nav__link> <span class=md-ellipsis> v3.17.12 </span> </a> </li> <li class=md-nav__item> <a href=#v31711 class=md-nav__link> <span class=md-ellipsis> v3.17.11 </span> </a> </li> <li class=md-nav__item> <a href=#v31710 class=md-nav__link> <span class=md-ellipsis> v3.17.10 </span> </a> </li> <li class=md-nav__item> <a href=#v3179 class=md-nav__link> <span class=md-ellipsis> v3.17.9 </span> </a> <nav class=md-nav aria-label=v3.17.9> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-features-and-buffixes class=md-nav__link> <span class=md-ellipsis> New Features and Buffixes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v3178 class=md-nav__link> <span class=md-ellipsis> v3.17.8 </span> </a> </li> <li class=md-nav__item> <a href=#v3177 class=md-nav__link> <span class=md-ellipsis> v3.17.7 </span> </a> </li> <li class=md-nav__item> <a href=#v3176 class=md-nav__link> <span class=md-ellipsis> v3.17.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3175 class=md-nav__link> <span class=md-ellipsis> v3.17.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3174 class=md-nav__link> <span class=md-ellipsis> v3.17.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3173 class=md-nav__link> <span class=md-ellipsis> v3.17.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3172 class=md-nav__link> <span class=md-ellipsis> v3.17.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3171 class=md-nav__link> <span class=md-ellipsis> v3.17.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3170 class=md-nav__link> <span class=md-ellipsis> v3.17.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3165 class=md-nav__link> <span class=md-ellipsis> v3.16.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3164 class=md-nav__link> <span class=md-ellipsis> v3.16.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3163 class=md-nav__link> <span class=md-ellipsis> v3.16.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3162 class=md-nav__link> <span class=md-ellipsis> v3.16.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3161 class=md-nav__link> <span class=md-ellipsis> v3.16.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3160 class=md-nav__link> <span class=md-ellipsis> v3.16.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3158 class=md-nav__link> <span class=md-ellipsis> v3.15.8 </span> </a> </li> <li class=md-nav__item> <a href=#v3157 class=md-nav__link> <span class=md-ellipsis> v3.15.7 </span> </a> </li> <li class=md-nav__item> <a href=#v3156 class=md-nav__link> <span class=md-ellipsis> v3.15.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3155 class=md-nav__link> <span class=md-ellipsis> v3.15.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3154 class=md-nav__link> <span class=md-ellipsis> v3.15.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3153 class=md-nav__link> <span class=md-ellipsis> v3.15.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3152 class=md-nav__link> <span class=md-ellipsis> v3.15.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3151 class=md-nav__link> <span class=md-ellipsis> v3.15.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3150 class=md-nav__link> <span class=md-ellipsis> v3.15.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3146 class=md-nav__link> <span class=md-ellipsis> v3.14.6 </span> </a> </li> <li class=md-nav__item> <a href=#v3143 class=md-nav__link> <span class=md-ellipsis> v3.14.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3142 class=md-nav__link> <span class=md-ellipsis> v3.14.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3141 class=md-nav__link> <span class=md-ellipsis> v3.14.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3140 class=md-nav__link> <span class=md-ellipsis> v3.14.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3131 class=md-nav__link> <span class=md-ellipsis> v3.13.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3130 class=md-nav__link> <span class=md-ellipsis> v3.13.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3125 class=md-nav__link> <span class=md-ellipsis> v3.12.5 </span> </a> </li> <li class=md-nav__item> <a href=#v3124 class=md-nav__link> <span class=md-ellipsis> v3.12.4 </span> </a> </li> <li class=md-nav__item> <a href=#v3123 class=md-nav__link> <span class=md-ellipsis> v3.12.3 </span> </a> </li> <li class=md-nav__item> <a href=#v3122 class=md-nav__link> <span class=md-ellipsis> v3.12.2 </span> </a> </li> <li class=md-nav__item> <a href=#v3121 class=md-nav__link> <span class=md-ellipsis> v3.12.1 </span> </a> </li> <li class=md-nav__item> <a href=#v3120 class=md-nav__link> <span class=md-ellipsis> v3.12.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3110 class=md-nav__link> <span class=md-ellipsis> v3.11.0 </span> </a> </li> <li class=md-nav__item> <a href=#v3100 class=md-nav__link> <span class=md-ellipsis> v3.10.0 </span> </a> </li> <li class=md-nav__item> <a href=#v391 class=md-nav__link> <span class=md-ellipsis> v3.9.1 </span> </a> </li> <li class=md-nav__item> <a href=#v390 class=md-nav__link> <span class=md-ellipsis> v3.9.0 </span> </a> </li> <li class=md-nav__item> <a href=#v381 class=md-nav__link> <span class=md-ellipsis> v3.8.1 </span> </a> </li> <li class=md-nav__item> <a href=#v380 class=md-nav__link> <span class=md-ellipsis> v3.8.0 </span> </a> <nav class=md-nav aria-label=v3.8.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=#sync-protocol-2-module class=md-nav__link> <span class=md-ellipsis> Sync Protocol 2 Module </span> </a> </li> <li class=md-nav__item> <a href=#case-module class=md-nav__link> <span class=md-ellipsis> Case Module </span> </a> </li> <li class=md-nav__item> <a href=#developer-updates class=md-nav__link> <span class=md-ellipsis> Developer Updates </span> </a> </li> <li class=md-nav__item> <a href=#upgrade-instructions class=md-nav__link> <span class=md-ellipsis> Upgrade instructions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v372 class=md-nav__link> <span class=md-ellipsis> v3.7.2 </span> </a> </li> <li class=md-nav__item> <a href=#v371 class=md-nav__link> <span class=md-ellipsis> v3.7.1 </span> </a> </li> <li class=md-nav__item> <a href=#v370 class=md-nav__link> <span class=md-ellipsis> v3.7.0 </span> </a> </li> <li class=md-nav__item> <a href=#v365 class=md-nav__link> <span class=md-ellipsis> v3.6.5 </span> </a> </li> <li class=md-nav__item> <a href=#v364 class=md-nav__link> <span class=md-ellipsis> v3.6.4 </span> </a> </li> <li class=md-nav__item> <a href=#v363 class=md-nav__link> <span class=md-ellipsis> v3.6.3 </span> </a> </li> <li class=md-nav__item> <a href=#v362 class=md-nav__link> <span class=md-ellipsis> v3.6.2 </span> </a> </li> <li class=md-nav__item> <a href=#v361 class=md-nav__link> <span class=md-ellipsis> v3.6.1 </span> </a> </li> <li class=md-nav__item> <a href=#v360 class=md-nav__link> <span class=md-ellipsis> v3.6.0 </span> </a> </li> <li class=md-nav__item> <a href=#v350 class=md-nav__link> <span class=md-ellipsis> v3.5.0 </span> </a> </li> <li class=md-nav__item> <a href=#v340 class=md-nav__link> <span class=md-ellipsis> v3.4.0 </span> </a> </li> <li class=md-nav__item> <a href=#v331 class=md-nav__link> <span class=md-ellipsis> v3.3.1 </span> </a> </li> <li class=md-nav__item> <a href=#v330 class=md-nav__link> <span class=md-ellipsis> v3.3.0 </span> </a> </li> <li class=md-nav__item> <a href=#v320 class=md-nav__link> <span class=md-ellipsis> v3.2.0 </span> </a> </li> <li class=md-nav__item> <a href=#v310 class=md-nav__link> <span class=md-ellipsis> v3.1.0 </span> </a> </li> <li class=md-nav__item> <a href=#v300-beta13 class=md-nav__link> <span class=md-ellipsis> v3.0.0-beta13 </span> </a> <nav class=md-nav aria-label=v3.0.0-beta13> <ul class=md-nav__list> <li class=md-nav__item> <a href=#upgrade-instructions-from-v3-betas class=md-nav__link> <span class=md-ellipsis> Upgrade instructions from v3 betas </span> </a> </li> <li class=md-nav__item> <a href=#new-features-since-v300-beta12 class=md-nav__link> <span class=md-ellipsis> New features since v3.0.0-beta12 </span> </a> </li> <li class=md-nav__item> <a href=#known-issues class=md-nav__link> <span class=md-ellipsis> Known issues </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#200-pre-release class=md-nav__link> <span class=md-ellipsis> 2.0.0 (pre-release) </span> </a> <nav class=md-nav aria-label="2.0.0 (pre-release)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#user-stories class=md-nav__link> <span class=md-ellipsis> User Stories </span> </a> </li> <li class=md-nav__item> <a href=#bugs class=md-nav__link> <span class=md-ellipsis> Bugs </span> </a> </li> <li class=md-nav__item> <a href=#technical class=md-nav__link> <span class=md-ellipsis> Technical </span> </a> </li> <li class=md-nav__item> <a href=#upgrade-directions class=md-nav__link> <span class=md-ellipsis> Upgrade directions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v220 class=md-nav__link> <span class=md-ellipsis> v2.2.0 </span> </a> <nav class=md-nav aria-label=v2.2.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#user-stories_1 class=md-nav__link> <span class=md-ellipsis> User Stories </span> </a> </li> <li class=md-nav__item> <a href=#technical_1 class=md-nav__link> <span class=md-ellipsis> Technical </span> </a> </li> <li class=md-nav__item> <a href=#upgrade-direcections class=md-nav__link> <span class=md-ellipsis> Upgrade direcections </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=whats-new>What's new<a class=headerlink href=#whats-new title="Permanent link">&para;</a></h1> <h2 id=v3321>v3.32.1<a class=headerlink href=#v3321 title="Permanent link">&para;</a></h2> <p><strong>General Updates</strong></p> <ul> <li><a href=https://github.com/Tangerine-Community/Tangerine/issues/3776>#3776</a> Add platform config variable T_USER_SHORT_CODE_LENGTH to set the length of the user short code</li> </ul> <p>Enables configuration of the length of the user profile short code, which are used in Tangerine Sync Protocol 1 to import existing responses into a device. The default length in 6 characters. Tangerine users with custom userProfileIds should consider increasing the value to avoid duplicate ids. To change the value, set <code>T_USER_SHORT_CODE_LENGTH</code> in the <code>config.sh</code> file to set the length of the user short code, then run <code>docker exec -it tangerine push-all-groups-views</code>.</p> <ul> <li>Add shared csv template parameter to generate csv data sets script and API</li> </ul> <p>The <code>/api/create/csvDataSets/</code> API and script called <a href=./server/src/scripts/generate-csv-data-sets/bin.js>generate-csv-data-sets</a> are useful to generate CSV Data Sets (Spreadsheets) across all forms in all groups. This change adds a second parameter called <code>sharedCsvTemplateId</code> which is the CouchDB Id of a Spreadsheet Template stored in the groups database named <code>group-&lt;id&gt;-csv-templates</code>. When the parameter is provided to the script or API, the CSV Template will be applied to control the headers on the CSV datasets produced by the process. Only CSVs will be produced for groups that have the <code>sharedCsvTemplateId</code> template in the <code>group-&lt;id&gt;-csv-templates</code> database.</p> <ul> <li>Format Form Titles in Tangerine Web UI to show the form title or form id with translations</li> <li>Fixes <a href=https://github.com/Tangerine-Community/Tangerine/issues/3735>#3735</a></li> <li>Closes <a href=https://github.com/Tangerine-Community/Tangerine/issues/3751>#3751</a></li> </ul> <p>Form Titles will now appear in more places in the Tangerine Web UI for improved readability. If the form title doesn't contain <code>t-lang</code> tag, return the text. Otherwise, it will use the English translation if it exists or the first translation if there's no English version of the title. Use the same heuristic in the pipe when creating and naming csv files.</p> <ul> <li>Tangy Audio Recording and Audio Playback Inputs</li> </ul> <p>Two new inputs are available for recording and playing back audio.</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>tangy-audio-recording</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;test-audio&quot;</span> <span class=na>label</span><span class=o>=</span><span class=s>&quot;Record Audio&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>tangy-audio-recording</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>tangy-audio-playback</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;test-playback&quot;</span> <span class=na>label</span><span class=o>=</span><span class=s>&quot;Audio Playback&quot;</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;assets/sounds/fewtimes_Eng.mp3&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>tangy-audio-playback</span><span class=p>&gt;</span>
</code></pre></div> <ul> <li>Add Modern Standard Arabic (MSA) to the list of supported languages</li> </ul> <p>Users can set the language of the tablet to Modern Standard Arabic (MSA) by selecting the 'Arabic' in the client and add <code>t-lang ar</code> tags to text labels in forms</p> <ul> <li><a href=https://github.com/Tangerine-Community/Tangerine/pull/3811>3811</a> Documentation Overhaul</li> </ul> <p><strong>Libraries and Dependencies</strong> - <a href=https://github.com/Tangerine-Community/translation-web-component>translation-web-component</a>: Update <code>t-select</code> with a <code>currentLanguageDirection</code> property to enable RTL support. - tangy-form: Updates and fixes for Audio Recording and Playback inputs - tangy-form-editor: Updates and fixes for Audio Recording and Playback widgets</p> <p><strong>Server upgrade instructions</strong></p> <p>See the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-instructions>Server Upgrade Instructions</a>.</p> <p><em>Special Instructions for this release:</em> </p> <p>Once the Tangerine and CouchDB are running, run the upgrade script for v3.32.1:</p> <p><code>docker exec -it tangerine /tangerine/server/src/upgrade/v3.32.1.js</code></p> <h2 id=v3320>v3.32.0<a class=headerlink href=#v3320 title="Permanent link">&para;</a></h2> <p>Tangerine v3.32.0 contains a major update to the deployment and fuctionality of Online Surveys including the introduction of authentication and case association. </p> <p><strong>Online Survey Authentication</strong></p> <p>Online Surveys can now be released for public access or require authentication. When authentication is required, data collectors will be required to provide a device user Access Code to access the survey. The survey will be associated with the device user who provided the short code. </p> <p>To deploy an Online Survey and require authentication: 1. Create the form 2. Add the <code>"requireAccessCode": true</code> property to the <code>app-config.json</code> file 3. Navigate to Deploy &gt; Release Online Survey for the group 4. In the Unpublished Surveys list, click the <svg xmlns=http://www.w3.org/2000/svg height=24px viewbox="0 -960 960 960" width=24px fill="rgb(255, 149, 34)"><path d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"/></svg> icon to deploy a survey and require an access code.</p> <p><strong>Custom Markdown for Online Survey Login Page</strong></p> <p>Custom styling (text, logos, formatting etc.) can be added to the login page for Online Surveys. In the content set repository, create a file called <code>client/custom-login-markup.html</code>. The file can contain any valid html. Any images can be added to the <code>media</code> folder and used in the html. Example <a href=content-sets/case-module/client/custom-login-markup.html>Custom Login Markup</a>.</p> <p><strong>Online Survey Case Form Authentication</strong></p> <p>Online Surveys with authentication can also be configured when using the Case Module. This is useful for studies who want to deploy secure forms without needing to install a full PWA or APK for one form associated with the case. For example, a mother-child cohort study deploys Tangerine to track the health of the mother and child after birth. Labs are collected in the field and sent for analysis. Instead of requiring the lab to install a tablet or PWA with the Tangerine app, the lab forms can be deployed online to simplify the completion process.</p> <p>To configure forms for secure deployment online in Case, add the <code>"allowOnline": true</code> property to the <code>eventFormDefinitions</code> section in the case definition file. See the form definition for <code>form-allowed-online-survey</code> in <a href=./content-sets/case-module/client/case-type-1.json>case-type-1</a>.</p> <p><strong>Online Survey Help Link</strong></p> <p>A help link can be added to the web pages for Online Surveys and will appear with the <svg xmlns=http://www.w3.org/2000/svg height=24px viewbox="0 -960 960 960" width=24px fill=#5f6368><path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg> icon in the header. Define the link url by adding the <code>"helpLink": "https://www.tangerinecentral.org"</code> property to the <code>app-config.json</code> file. When clicked, the link will open in a new browser window.</p> <p><strong>Tangerine Case APIs</strong></p> <ul> <li><code>/userProfile/createUserProfile/:groupId</code><ul> <li>Creates a user-profile document in the group</li> <li>Additional body data in json format will add properties to the user-profile: <code>{ "age": "7", "dob": "1/1/2018"}</code></li> </ul> </li> <li><code>/case/createCase/:groupId/:caseDefinitionId</code><ul> <li>Creates a case in the group with the case type defined by the case definition id</li> <li>Additional body data in json format will add properties to the case: <code>{ "age": "7", "dob": "1/1/2018"}</code></li> </ul> </li> <li><code>/case/readCase/:groupId/:caseId</code><ul> <li>Read a case from the group with the case id</li> </ul> </li> <li><code>/case/createCaseEvent/:groupId/:caseId/:caseDefinitionId/:caseEventDefinitionId</code><ul> <li>Creates an event with the event type as defined in the case definition</li> </ul> </li> <li><code>/case/createParticipant/:groupId/:caseId/:caseDefinitionId/:caseRoleId</code><ul> <li>Creates a participant with the case role as defined in the case definition</li> </ul> </li> <li><code>/case/getCaseEventFormSurveyLinks/:groupId/:caseId/</code> Returns a JSON document with the urls for all case forms with active online surveys in the format: <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;eventDefinitionId&quot;</span><span class=p>:</span><span class=w> </span><span class=err>eve</span><span class=kc>nt</span><span class=err>.caseEve</span><span class=kc>nt</span><span class=err>De</span><span class=kc>f</span><span class=err>i</span><span class=kc>n</span><span class=err>i</span><span class=kc>t</span><span class=err>io</span><span class=kc>n</span><span class=err>Id</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;eventFormDefinitionId&quot;</span><span class=p>:</span><span class=w> </span><span class=err>eve</span><span class=kc>nt</span><span class=err>Form.eve</span><span class=kc>nt</span><span class=err>FormDe</span><span class=kc>f</span><span class=err>i</span><span class=kc>n</span><span class=err>i</span><span class=kc>t</span><span class=err>io</span><span class=kc>n</span><span class=err>Id</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;formId&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>f</span><span class=err>ormId</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;url&quot;</span><span class=p>:</span><span class=w> </span><span class=err>url</span>
<span class=p>}</span>
</code></pre></div></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>See the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-instructions>Server Upgrade Instructions</a>.</p> <p><em>Special Instructions for this release:</em> N/A</p> <h2 id=v3312>v3.31.2<a class=headerlink href=#v3312 title="Permanent link">&para;</a></h2> <p><strong>General Updates</strong></p> <ul> <li>Add APIs to access MySQL tables Data Managers who have been granted the <code>can_access_mysql_api</code> permission can now access Tangerine MySQL data through the web interface. This is useful for building reporting dashboards within Tangerine or through other tools like PowerBI, R, Stata or Tableau. </li> </ul> <p>See the <a href=docs/editor/custom-dashboard.md>Custom Dashboard Example</a> for instructions.</p> <ul> <li>Scoring: Add scoring percent and denominator values When Tangerine form scoring is turned on, each section will now output the score, percent, and denominator values. The values will be output in csv and mysql data as:</li> <li><code>&lt;section_name&gt;_score_denominator</code></li> <li><code>&lt;section_name&gt;_score_percent</code></li> </ul> <p>Projects who want this functionality to run on existing uploads can use a Tangerine Wedge script: <a href=https://github.com/ICTatRTI/couchdb-subscribe-and-action-example/tree/unicef-bangla-section-score-count-and-percent>Add Scoring Percent and Denominator</a></p> <ul> <li>Add server scripts: New server administration scripts</li> </ul> <p><strong>Fixes</strong> - After adding a user to a group, navigate back to the user table - Run 'npm install' during APK and PWA builds to ensure installation of dependencies and build for custom code</p> <p><strong>Libs and Dependencies</strong> - Bump tangy-form to v4.46.1 to add scoring percent and denominator values - Bump tangy-form-editor to v7.18.2</p> <p><strong>Server upgrade instructions</strong></p> <p>See the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-instructions>Server Upgrade Instructions</a>.</p> <p><em>Special Instructions for this release:</em> N/A</p> <h2 id=v3311>v3.31.1<a class=headerlink href=#v3311 title="Permanent link">&para;</a></h2> <p><strong>General Updates</strong></p> <ul> <li>Allow mysql outputs of TANGY-TIMED and TANGY-UNTIMED-GRID data</li> </ul> <p><strong>Administration</strong></p> <ul> <li>The <code>reporting-cache-clear</code> script will honor the environmnt variable <code>T_ONLY_PROCESS_THESE_GROUPS</code> to limit the groups processed</li> <li>Set <code>T_ONLY_PROCESS_THESE_GROUPS</code> to a comma-separated list of group names to limit the groups cleared and then processed by the script</li> </ul> <p><strong>Fixes</strong> - Fixes for editing of Form Responses in the server web UI * Edits of Attendence, Behavior, and Scoring are currently prohibited in the server web UI * Verified and Archived Form Responses must be Unverified and Unarchived before editing is available - Teacher Dashboard Scoring: Fix issues with custom scoring - Fix output of Case Participants to mysql - Fix online survey release</p> <p><strong>Libs and Dependencies</strong> - Bump version of <code>tangy-form</code> to v4.54.4 * Fix check for 'readOnly' input metadata * Fix undefined access of input without tagName * Fix missing function parens</p> <p><strong>Server upgrade instructions</strong></p> <p>See the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-instructions>Server Upgrade Instructions</a>.</p> <p><em>Special Instructions for this release:</em> N/A</p> <h2 id=v3310>v3.31.0<a class=headerlink href=#v3310 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li> <p><strong>Audio and Visual Feedback</strong>: A new Prompt Box widget available in form authoring allows a form designer to add audio and visual feedback connected to Radio Block widgets. This feature provides a toolset for creating self-guided assessments. See the example in <a href=https://github.com/Tangerine-Community/tangy-form/blob/master/CHANGELOG.md#v4430>tangy-forms</a>. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3473>#3473</a></p> </li> <li> <p>Client Login Screen Custom HTML: A new app-config.json setting, <code>customLoginMarkup</code>, allows for custom HTML to be added to the login screen. This feature is useful for adding custom branding or additional information to the login screen. As an example: <div class=highlight><pre><span></span><code><span class=nt>&quot;customLoginMarkup&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&lt;div style=&#39;text-align: center;&#39;&gt;&lt;img src=&#39;assets/media/logo.png&#39; alt=&#39;logo&#39; style=&#39;max-width: 100%;&#39;&gt;&lt;/div&gt;&quot;</span>
</code></pre></div></p> </li> <li> <p><strong>Improved Data Management</strong>: </p> </li> <li>Data Managers now have access to a full workflow to review, edit, and verify data in the Tangerine web server. The Data Manager can click on a record and enter a new screen that allows them to perform actions align with a data collection supervision process.</li> <li>Searching has been improved to allow seaqrching for a specific ID in the imported data. This feature is useful for finding specific records synced to the server when reviewing or editing completed form responses. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3681>#3681</a></li> </ul> <p><strong>Fixes</strong> - Client Search Service: exclude archived cases from recent activity - Media library cannot upload photos <a href=https://github.com/Tangerine-Community/Tangerine/issues/3583>#3583</a> - User Profile Import: The process of importing an existing device user now allows for retries and an asynchronous process to download existing records. This fixes an issue cause by timeouts when trying to import a user with a large number of records. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3696>#3696</a> - When <code>T_ONLY_PROCESS_THESE_GROUPS</code> has a list of one or more groups, running <code>reporting-cache-clear</code> will only process the groups in the list</p> <p><strong>Tangerine Teach</strong></p> <ul> <li>Add toggle in Attendence Check for 'late'. A teacher can click through the status of 'present', 'late', or 'absent' for each student.</li> <li>Use <code>studentRegistrationFields</code> to control showing name and surname of student in the student dashboard</li> </ul> <p><strong>Libs and Dependencies</strong> - Bump version of <code>tangy-form</code> to v4.31.1 and <code>tangy-form-editor</code> to v7.18.0 for the new Prompt Box widget - Bump version of <code>tangy-form</code> to v4.45.1 for disabling of <code>tangy-gps</code> in server edits</p> <p><strong>Server upgrade instructions</strong></p> <p>See the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-instructions>Server Upgrade Instructions</a>.</p> <p><em>Special Instructions for this release:</em> </p> <p>Once the Tangerine and CouchDB are running, run the upgrade script for v3.31.0:</p> <p><code>docker exec -it tangerine /tangerine/server/src/upgrade/v3.31.0.js</code></p> <h2 id=v3302>v3.30.2<a class=headerlink href=#v3302 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Customizable 'About' Page on client <a href=https://github.com/Tangerine-Community/Tangerine/pull/3677>#3677</a> -- Form developers can create or update a form with the id 'about'. There is an example form in the <a href=https://github.com/Tangerine-Community/Tangerine/tree/release/v3.30.2/content-sets/default/client/about>Content Sets</a> -- The form will appear in the 'About' page on the client</li> </ul> <p><strong>General Updates</strong> - Password Visibility -- the login and register screen on the client shows an 'eye' icon used to hide or show passwords - Re-organization of the client app menu - Reintroduce <code>registrationRequiresServerUser</code> app config setting to make managing central user more flexible - use <code>registrationRequiresServerUser</code> to require an import code when registering users on the client - use <code>centrallyManagedUserProfile</code> to require an import code AND only allow changes to the user profile on the server - use <code>hideProfile</code> to hide the manage user profile page from on the client</p> <p><strong>Teach Module Updates</strong> - Behavior screen show a link instead of a checkbox to access the Behavior form - Hint text added to attendance, behavior, and scoring tables - Improved save messaging for attendance and scoring - In Attendance Reports: - add start and end dates to view a custom date range report - Fix the names not displaying in the tables</p> <p><strong>Fixes</strong> - Get Media Uploads working in Editor <a href=https://github.com/Tangerine-Community/Tangerine/issues/3583>#3583</a> - CSV Generation broken with 'doLocalWorkaround is undefined' error</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. 
df -h
# If there is not more than 12 GB plus the size of the data folder, create more space before proceeding. 
# Good candidates to remove are: data back-up folders and older versions of the Tangerine image
# rm -rf ../data-backup-&lt;date&gt;
# docker rmi tangerine/tangerine:&lt;version&gt;
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.30.1 v3.30.1
./start.sh v3.30.2
# Run the update to copy the new About page to all groups on your site.
docker exec -it tangerine /tangerine/server/src/upgrade/v3.30.2.js
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:&lt;previous_version&gt;
</code></pre></div> <h2 id=v3301>v3.30.1<a class=headerlink href=#v3301 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong> - Multiple Location Lists can be configured using the Tangerine server web interface -- Create and manage location lists for use in Tangerine forms -- The default location list is used for device and device user assignment. - The app-config.json teachProperties has new properties, <code>"unitDates"</code> and <code>"studentRegistrationFields"</code>: <div class=highlight><pre><span></span><code>&quot;unitDates&quot;: [{&quot;name&quot;: &quot;Unidad 1&quot;,&quot;start&quot;: &quot;2023-02-15&quot;, &quot;end&quot;: &quot;2023-04-23&quot;}, {&quot;name&quot;: &quot;Unidad 2&quot;,&quot;start&quot;: &quot;2023-04-24&quot;, &quot;end&quot;: &quot;2023-06-30&quot;}], 
&quot;studentRegistrationFields&quot;: [&quot;student_name&quot;, &quot;student_surname&quot;, &quot;phone&quot;, &quot;classId&quot;]
</code></pre></div> The <code>unitDates</code> property is used to configure the dates for each unit in the Class module. The <code>studentRegistrationFields</code> property is used to configure the fields from the Student Registration form to be saved in the class attendance, behavior, and score register and CSV's. - The app-config.json teachProperties has a new property, <code>"showAttendanceCalendar"</code>, which enables the Attendance Calendar in the Class module when set to true. - Intl/locale support in Class: The class module currently supports the es-gt locale. Add additional locales in class/module.ts: <div class=highlight><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>registerLocaleData</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;@angular/common&#39;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>localeEsGt</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;@angular/common/locales/es-GT&#39;</span><span class=p>;</span>
<span class=nx>registerLocaleData</span><span class=p>(</span><span class=nx>localeEsGt</span><span class=p>);</span>
</code></pre></div> - The "Request spreadsheets" CSV output form now has three new forms to view if <code>useAttendanceFeature</code> is set to true in app-config.json: Attendance, Behavior, and Score</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. 
df -h
# If there is not more than 12 GB plus the size of the data folder, create more space before proceeding. 
# Good candidates to remove are: data back-up folders and older versions of the Tangerine image
# rm -rf ../data-backup-&lt;date&gt;
# docker rmi tangerine/tangerine:&lt;version&gt;
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.30.1 v3.30.1
./start.sh v3.30.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:&lt;previous_version&gt;
</code></pre></div> <h2 id=v3300>v3.30.0<a class=headerlink href=#v3300 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>The 'teach' content-set now supports an optional 'Attendance' feature, enabled by adding <code>"useAttendanceFeature": true</code> and <code>"homeUrl": "attendance-dashboard"</code> to app-config.json. It also has a new Class/Attendance menu which enables collection of those values per student, and an 'Attendance' report. </li> <li>The Attendance records generate _id's based on the grade, curriculum, user, and date and time of the record, so that they can be sorted chronologically. See dashboard.service generateSearchableId for details.</li> <li>Class now supports <code>eventFormRedirect</code> to redirect to different url after submit: <code>on-submit="window.eventFormRedirect =</code>/attendance-check<code>"</code></li> <li> <p>New app-config.json configuration for teach properties: ```js "teachProperties": { "units": ["Unidad 1", "Unidad 2"], "attendancePrimaryThreshold": 80, "attendanceSecondaryThreshold": 70, "scoringPrimaryThreshold": 70, "scoringSecondaryThreshold": 60, "behaviorPrimaryThreshold": 90, "behaviorSecondaryThreshold": 80, "useAttendanceFeature": true } The PrimaryThreshold and SecondaryThreshold values are used to determine the color of the cell in the reports.</p> </li> <li> <p>Updated docker-tangerine-base-image to v3.8.0, which adds the cordova-plugin-x-socialsharing plugin and enables sharing to WhatsApp.</p> </li> </ul> <p><strong>Fixes</strong> - Fixed PWA assets (sound,video) only work when online <a href=https://github.com/Tangerine-Community/Tangerine/issues/1905>#1905</a></p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade. 
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.30.0 v3.30.0
./start.sh v3.30.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.29.1
</code></pre></div> <h2 id=v3291>v3.29.1<a class=headerlink href=#v3291 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix undefined referencein markQualifyingEventsAsComplete</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. 
df -h
# If there is not more than 12 GB plus the size of the data folder, create more space before proceeding. 
# Good candidates to remove are: data back-up folders and older versions of the Tangerine image
# rm -rf ../data-backup-&lt;date&gt;
# docker rmi tangerine/tangerine:&lt;version&gt;
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.29.1 v3.29.1
./start.sh v3.29.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:&lt;previous_version&gt;
</code></pre></div> <h2 id=v3290>v3.29.0<a class=headerlink href=#v3290 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong> - Case, Event and Form Archive and Unarchive</p> <p>We have released an update to Tangerine which allows for the archiving and un-archiving of both events, and forms within events. This is an extension of the already existing functionality by which an entire case can be archived. The purpose of this is to empower data management teams using Tangerine to "clean up" messy cases where extraneous data has been added to a case in error, or by a conflict situation. The purpose of this document is to summarize both the configuration to enable this, and to demonstrate the use of these functions. This functionality will only apply to the web-based version of Tangerine, and will not be available on tablets.</p> <p><strong>Package Updates</strong> - Updated tangy-form to v4.40.0</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. 
df -h
# If there is not more than 12 GB plus the size of the data folder, create more space before proceeding. 
# Good candidates to remove are: data back-up folders and older versions of the Tangerine image
# rm -rf ../data-backup-&lt;date&gt;
# docker rmi tangerine/tangerine:&lt;version&gt;
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.29.0 v3.29.0
./start.sh v3.29.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:&lt;previous_version&gt;
</code></pre></div> <h2 id=v328>v3.28<a class=headerlink href=#v328 title="Permanent link">&para;</a></h2> <ul> <li>This became v4</li> </ul> <h2 id=v3278>v3.27.8<a class=headerlink href=#v3278 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong> - New server configuration setting for output value of optionally not answered questions - The value set in the config variable <code>T_REPORTING_MARK_OPTIONAL_NO_ANSWER_WITH</code> in <code>config.sh</code> will be the value of questions that are optional and not answered by the respondent. - The default value is "SKIPPED" for consistency with previous outputs - CSV outputs now include the metadata variables <code>startDateTime</code> and <code>endDateTime</code> auto-calculated from the <code>startUnixTime</code> and <code>endUnixTime</code> variables - Additional parameter for the csv data set generation process to ignore <code>user-profile</code> and <code>reports</code> from the output csv files</p> <p><strong>Fixes</strong> - Copy all media directories from the client form directories to ensure assets are available in online surveys - Allows form developers to publish images and sounds in online surveys - Fix the language dropdown in online surveys - Outputs will no longer try to process outputs for <code>TANGY-TEMPLTE</code> inputs</p> <p><strong>Breaking Changes</strong> - Removes build dependencies for legacy python <code>mysql</code> output module - For those using the legacy module, <a href=https://docs.tangerinecentral.org/system-administrator/mysql-js/ >see the documentation move to the new <code>mysql-js</code> module</a></p> <p><strong>Package Updates</strong> - Lock @ts-stack/markdown to 1.4.0 to prevent breaking of builds</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade. 
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.27.8 v3.27.8
./start.sh v3.27.8
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.7
</code></pre></div> <h2 id=v3277>v3.27.7<a class=headerlink href=#v3277 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Enable mysql-js module outputs for online-survey app data</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout -b v3.27.7 v3.27.7
./start.sh v3.27.7
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.6
</code></pre></div> <h2 id=v3276>v3.27.6<a class=headerlink href=#v3276 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Address issues using the CaseService <code>createCaseEvent</code> API in <code>on-submit</code> logic by making the function synchronous</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.6
./start.sh v3.27.6
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.5
</code></pre></div> <h2 id=v3275>v3.27.5<a class=headerlink href=#v3275 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - CSV Generation: Fix permissions on generate csv batch script</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.5
./start.sh v3.27.5
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.4
</code></pre></div> <h2 id=v3274>v3.27.4<a class=headerlink href=#v3274 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Synchronization: Update Reduce Batch Size button to apply during normal sync for pull and push</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.4
./start.sh v3.27.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.3
</code></pre></div> <h2 id=v3273>v3.27.3<a class=headerlink href=#v3273 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Fix running the <code>reporting-cache-clear</code> command on the <code>mysql-js</code> module - Extend the particpantID key to 80 chars to handle long keys for T_MYSQL_MULTI_PARTICIPANT_SCHEMA - For those using <code>mysql-js</code>: This change requires running <code>reporting-cache-clear</code> to take effect. - Fix missing groupId in user-profile PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3494>#3494</a> - This bugfix added groupId to the user-profile. - In mysql-js, it also throws an error when groupId is missing. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3494/files#diff-84876aa37057bd8bf558b8f60d01b30821e3dbfd53ba442d5a74432822ceb11bR779>Relevant commit</a>. This is different from earlier behavior, which lets the document pass without an error. All docs should have a groupId. </p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.2
./start.sh v3.27.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.2
</code></pre></div> <h2 id=v3272>v3.27.2<a class=headerlink href=#v3272 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Tangerine on Android APK ignore requestFullscreen() <a href=https://github.com/Tangerine-Community/Tangerine/issues/3539>#3539</a> - This fix above also adds a new app-config.json property - <code>exitClicks</code> - enables admin to set number of clicks to exit kioskMode. - Fixed: Tangy-radio button and tangy keyboard do not render on Online survey <a href=https://github.com/Tangerine-Community/Tangerine/issues/3551>#3551</a></p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.2
./start.sh v3.27.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.1
</code></pre></div> <h2 id=v3271>v3.27.1<a class=headerlink href=#v3271 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Limit debugging logs in csv generation to prevent exec from hitting max_buffer issue - Add protection to use of onEventOpen and onEventClose API</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.1
./start.sh v3.27.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.27.0
</code></pre></div> <h2 id=v3270>v3.27.0<a class=headerlink href=#v3270 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong> - Update triggers for Case API hooks</p> <p>The Case Service API has a set of functions that are triggered on events. An implementer of Tangerine using the Case module can add these triggers to their case definition json in order to hook into these actions. The variable name to add is the trigger, e.g. <code>onCaseOpen</code> and the value is valid javascript that will run when the trigger is fired. The following changes were made to the hooks:</p> <p>-- <code>onCaseClose</code> hook will fire when the case is closed by the user by clicking the 'X' in the upper-left corner -- <code>onCaseOpen</code> hook will fire when the case is opened (no change) -- <code>onEventOpen</code> has been changed to fire when a Case Event is clicked on the Case Summary page -- <code>onEventClose</code> has been changed to fire when the Event page is closed -- <code>onEventCreate</code> has been added and will fire when the user creates a new event using the dropdown in the Case Summary page -- <code>onEventFormOpen</code> has been added and will fire when the user opens a form from the Event page -- <code>onEventFormClose</code> has been added and will fire when the user closes a form</p> <p><strong>Fixes</strong> - Check for custom search js when creating user dbs (Tangerine Preview)</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.27.0
./start.sh v3.27.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.26.2
</code></pre></div> <h2 id=v3262>v3.26.2<a class=headerlink href=#v3262 title="Permanent link">&para;</a></h2> <p><strong>DEPRECATION NOTICE AND UPCOMING MODULE DELETION</strong></p> <p>The mysql module is deprecated; it will be removed <em>soon</em> from this source code in the v3.28.0 release. We have been using the mysql-js in production for a few months and it is more performant and reliable than the output of the mysql module. We recommend switching to the mysql-js module. See the <a href=./docs/system-administrator/mysql-js.md>MySQL-JS Module doc</a> for upgrade and configuration information.</p> <p><strong>New Features</strong> - New group content-set dropdown: PR 3275 - <a href=https://github.com/Tangerine-Community/Tangerine/pull/3275>https://github.com/Tangerine-Community/Tangerine/pull/3275</a> - enables a content-set dropdown and is already in main. Modify the template (content-sets-example.json) and rename to content-sets.json to enable the dropdown.</p> <p><strong>Fixes</strong> - Created Feedback dialog to resolve layout issue on mobile devices PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3533>#3533</a> - Fix for Class listing breaks if you archive all classes in Teach; unable to add new classes. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3491>#3491</a> - Fix for Mysql tables not populating; ER_TOO_BIG_ROWSIZE error in Tangerine logs. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3488>#3488</a> - Changed location of mysql-js config file to point to the mysql-js directory. Also increased memory parameters in conf.d/config-file.cnf. - If you are using the mysql container and are having errors with very large forms, the new settings in ./server/src/mysql-js/conf.d/config-file.js should help. You will need to completely rebuild the mysql database. See the "Resetting MySQL databases" section in the <a href=./docs/systems-administrator/mysql-js.md>MySQL-JS Module docs</a>. - Important: If you already have a mysql instance running and don't want to rebuild the mysql database, delete the <code>innodb-page-size=64K</code> line from ./server/src/mysql-js/conf.d/config-file.js; otherwise, your mysql instance will not start. - Fix for CSV Download fails with larger forms. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3483>#3483</a></p> <p><strong>Backports</strong></p> <p>The following feature was backported from v3.24.6 patch release:</p> <ul> <li>T_UPLOAD_WITHOUT_UPDATING_REV : A new config.sh setting for use in high-load instances using sync-protocol-1. *** Using this setting COULD CAUSE DATA LOSS. *** This setting uses a different function to process uploads that does not do a GET before the PUT in order to upload a document. Please note that if there is a conflict it try to POST the doc which will create a new id and copy the _id to originalId. If that fails, it will log the error and not upload the document to the server, but still send an 'OK' status to client. The failure would result in data loss.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.26.2
./start.sh v3.26.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.26.1
</code></pre></div> <h2 id=v3261>v3.26.1<a class=headerlink href=#v3261 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong> - New configuration parameter: <code>T_LIMIT_NUMBER_OF_CHANGES</code> - Number of change docs from the Couchdb changes feed queried by reporting-worker (i.e. use as the limit parameter). Default: 200. - Added volume mapping for translations dir in start script. - A new <code>mysql-js</code> module replaces the old <code>mysql</code> module. Documentation is <a href=https://docs.tangerinecentral.org/system-administrator/mysql-js/ >here</a>. The new <code>mysql-js</code> module is faster and more accurate than the old <code>mysql</code> module. It no longer uses an intermediate "group-uuid-mysql" couchdb; instead, it reads from the _changes feed and writes directly to a MySql database. To use the new module, add <code>mysql-js</code> to the T_MODULES list of modules and configure the following settings: - T_MYSQL_CONTAINER_NAME="mysql" # Either the name of the mysql Docker container or the hostname of a mysql server or AWS RDS Mysql instance. - T_MYSQL_USER="admin" # Username for mysql credentials - T_MYSQL_PASSWORD="password" # Password for mysql credentials - T_USE_MYSQL_CONTAINER="true" # If using a Docker container, set to true. This will automatically start a mysql container when using a Tangerine launch script.</p> <p><strong>Fixes</strong> - Student subtest report incorrect for custom logic inputs <a href=https://github.com/Tangerine-Community/Tangerine/issues/3464>#3464</a> - Init paid-worker file when server restarted. - Fix bug in start.sh script for --link option - Rename T_REBUILD_MYSQL_DBS to T_ONLY_PROCESS_THESE_GROUPS. Configure T_REBUILD_MYSQL_DBS to list group databases to be skipped when processing data through modules such as mysql and csv.</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.26.1
./start.sh v3.26.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.26.0
</code></pre></div> <h2 id=v3260>v3.26.0<a class=headerlink href=#v3260 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong></p> <ul> <li>MySQL JS Module: -- Track and output changes through the CouchDB Changes Feed -- Connect to a MySQL Server of your choice via a url and credentials</li> <li>Add app-config flag to force confirmation of each form response created on the client</li> <li>Update to tangy-form and tangy-form-editor which enables configuration of automatic scoring in Editor for groups using Class. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1021>#1021</a></li> <li>Documented a list of <a href=./docs/editor/reserved-words.md>Reserved words in Tangerine</a></li> <li>Bump docker-tangerine-base-image to v3.7.4 (enables RECORD_AUDIO permission for APK's), tangy-form to 4.38.3, tangy-form-editor to 7.15.4.</li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Add protection when using Case APIs that load other cases than the currently active case</li> <li>feat(custom-scoring): If customScore exists, use it [#3450](<a href=https://github.com/Tangerine-Community/Tangerine/pull/3450>https://github.com/Tangerine-Community/Tangerine/pull/3450</a></li> <li>fix(record-audio): Request audio permissions <a href=https://github.com/Tangerine-Community/Tangerine/pull/3451>#3451</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.26.0
./start.sh v3.26.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.26.0
</code></pre></div> <h2 id=v3251>v3.25.1<a class=headerlink href=#v3251 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix logic in has merge change permissions</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.25.1
./start.sh v3.25.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.25.1
</code></pre></div> <h2 id=v3250>v3.25.0<a class=headerlink href=#v3250 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong></p> <ul> <li>Improvements to Issues on the Client and Server <a href=https://github.com/Tangerine-Community/Tangerine/pull/3413>3413</a> -- Add app-config flag to allow client users to Commit changes to Issues -- Add user-role permissions to select which events or forms Issue changes can be commited on the client -- Pull form responses changed in Issues on the server down to the client</li> <li>Add parameter to CSV Dataset Generation that allows exclusion of archived form definitions</li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Apply isIssueContext correctly on the client</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.25.0
./start.sh v3.25.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.25.0
</code></pre></div> <h2 id=v3246>v3.24.6<a class=headerlink href=#v3246 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong></p> <ul> <li>T_UPLOAD_WITHOUT_UPDATING_REV : A new config.sh setting for use in high-load instances using sync-protocol-1. *** Using this setting COULD CAUSE DATA LOSS. *** This setting uses a different function to process uploads that does not do a GET before the PUT in order to upload a document. Please note that if there is a conflict it will copy the _id to originalId and POST the doc, which will create a new id. If that fails, it will log the error and not upload the document to the server, but still send an 'OK' status to client. The failure would result in data loss.</li> </ul> <h2 id=v3244>v3.24.4<a class=headerlink href=#v3244 title="Permanent link">&para;</a></h2> <p><strong>NEW Features</strong></p> <ul> <li>Ability to add scoring from the interface (24 hours) <a href=https://github.com/Tangerine-Community/Tangerine/issues/1021>#1021</a></li> </ul> <p><strong>Fixes</strong></p> <ul> <li>User is forced to stay on form until submission [#3215] - changed current-form-id to incomplete-response-id</li> <li>Bumped tangy-form to 4.37.0 and tangy-form-editor to 7.14.11.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.24.4
./start.sh v3.24.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.24.3-final
</code></pre></div> <h2 id=v3243-final>v3.24.3-final<a class=headerlink href=#v3243-final title="Permanent link">&para;</a></h2> <p>Please note that this release is tagged v3.24.3-final, not v3.24.3. This is a deviation from our usual format; we will resume the previous format in the next release.</p> <p><strong>New Feature</strong> - To force user to stay on form until submission, set `"forceCompleteForms":true' in the group app-config.json. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3215>#3215</a></p> <p><strong>Fixes</strong> - Separate Archived and Active forms in Request Spreadsheet screen <a href=https://github.com/Tangerine-Community/Tangerine/issues/3222>#3222</a> - When incomplete results upload is enabled on a group, do not save empty record when using sync-protocol 1. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3360>#3360</a> - Enable editing the "No" confirmation alert for tangy-consent <a href=https://github.com/Tangerine-Community/Tangerine/issues/3025>#3025</a> - Fix Sync error caused by async directory error when creating media directories <a href=https://github.com/Tangerine-Community/Tangerine/issues/3374>#3374</a> - Exclude client-uploads folder from APK and PWA releases <a href=https://github.com/Tangerine-Community/Tangerine/issues/3371>#3371</a> - Remove ordering of inputs when creating spreadsheets <a href=https://github.com/Tangerine-Community/Tangerine/issues/3252>#3252</a> - Bumped tangy-form-editor to v7.14.8 to add Video Capture input warning text <a href=https://github.com/Tangerine-Community/Tangerine/issues/3376>#3376</a> - Bumped tangy-form to <a href=https://github.com/Tangerine-Community/tangy-form/releases/tag/v4.36.3>4.36.3</a>. - Updated the online-survey-app routing to route to a specific form, and also adds an optional routing option. PR:<a href=https://github.com/Tangerine-Community/Tangerine/pull/3387>#3387</a></p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.24.3-final
./start.sh v3.24.3-final
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.24.2
</code></pre></div> <h2 id=v3242>v3.24.2<a class=headerlink href=#v3242 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Hide Case Events form the Schedule View that are 'inactive' - Add the 'endUnixTimestamp' to mysql outputs generated by the python module - Remove unnecessary and expensive query for conflicts during synchronization on the client PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3365/files>#3365</a></p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.24.2
./start.sh v3.24.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.24.1
</code></pre></div> <h2 id=v3241>v3.24.1<a class=headerlink href=#v3241 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Feature: New version of mysql module, called mysql-js, which is coded in javascript instead of python. This module exports records much faster than previous version. It should also use much less memory and provide more flexibility in terms of column data types and (eventually) support of different types of databases. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3047>#3047</a></li> <li>Feature: Enable upload of files created by the tangy-photo-capture and tangy-video-capture inputs. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3354>#3354</a> Note: In order to cause minimal negative impact upon current projects, the default behavior will be to save image files created by the tangy-photo-capture input to the database, instead of saving to a file and uploading. That being said, it is preferable to save as a file and upload. To over-ride this default, set the new <code>mediaFileStorageLocation</code> property to 'file' in the group's app-config.json. The default is 'database'. If this property is not defined, it will save to the database. New groups will be created with <code>mediaFileStorageLocation</code> set to 'file'. Videos created using the tangy-video-capture input will always be uploaded to the server due to their large file size. </li> </ul> <p><strong>Fixes</strong> - The default password policy (T_PASSWORD_POLICY in config.sh) has been improved to support most special characters and the T_PASSWORD_RECIPE description has been updated to list the permitted special characters. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3299>https://github.com/Tangerine-Community/Tangerine/issues/3299</a></p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=o>(</span><span class=se>\`</span><span class=w> </span>~<span class=w> </span>!<span class=w> </span>@<span class=w> </span><span class=c1># $ % ^ &amp; * ( ) \ - _ = + &lt; &gt; , . ; : \ | [ ] { } )</span>
</code></pre></div> <ul> <li>Enable forms without location to be viewed in visits listing. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3347>#3347</a></li> <li>Fix results with cycle sequences that do not generate a CSV file. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3249>#3249</a> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3345>3345</a></li> <li>Enable grids to be hidden based on skip logic <a href=https://github.com/Tangerine-Community/Tangerine/issues/1391>#1391</a></li> <li>Add confirmation to consent form if 'No' selected before the form is closed <a href=https://github.com/Tangerine-Community/Tangerine/issues/3025>#3025</a>. Activate this feature using the new property: <code>confirm-no="true"</code>.</li> <li>Fix app config doNotOptimize logic PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3358>#3358</a></li> <li>Those using the <code>doNotOptimize</code> flag <strong>must</strong> reverse the logic in the <code>appConfig.sh</code> file when updating to this version</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.24.1
./start.sh v3.24.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.24.0
</code></pre></div> <h2 id=v3240>v3.24.0<a class=headerlink href=#v3240 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>App user can reduce the batch size as a workaround when experiencing 'out-of-memory' errors with Rewind Sync</li> <li>On occasion Rewind Sync will fail to complete due to 'out-of-memory' issues. The Advanced Sync section of the Sync page now shows a checkbox that when checked will reduce the batch sizes used to perform the Rewind Sync. As noted in the UI, the Rewind Sync will take longer to process however in most cases it will be able to complete the process. The batch size reduction will be reverted once the Rewind Sync is complete or the user unchecks the box.</li> <li>System Admin can scan a QR code to download an APK or PWA release</li> <li>When deploying Tangerine, it can be a long process to download and install the APK or PWA on multiple devices. To improve the deployment process, the Release tables now show a QR code that when scanned will download the release directly to a new device without the need to type in the URL.</li> <li>Improvements to Sync: In case of false positives on push, keep pushing until nothing is pushed</li> <li>Client Case Service API:</li> <li>Case Event and Event Form (De)activation <a href=https://github.com/Tangerine-Community/Tangerine/pull/3334>3334</a><ul> <li>activateCaseEvent: Marks a Case Event as 'active' and shows it in the Case Event list</li> <li>deactivateCaseEvent: Marks a Case Event as 'inactive' and hides it in the Case Event list</li> <li>activateEventForm: Marks an Event Form as 'active' and shows it in the Event Form list</li> <li>deactivateEventForm: Marks an Event Form as 'inactive' and hides it in the Event Form list</li> </ul> </li> <li>Editor Case Service API:</li> <li>Add useful APIs used in the client Case Service API to the editor Case Service API <a href=https://github.com/Tangerine-Community/Tangerine/pull/3325/files>3325</a></li> <li>Option to sync a case before viewing it <a href=https://github.com/Tangerine-Community/Tangerine/pull/3237>3237</a></li> <li>Support for showing photo and signatures in Issues</li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Fix after update messaging and async issues</li> </ul> <p><strong>Translations</strong> - Include Vietnamese translations</p> <p><strong>Deprecations</strong> - Comparison Sync has been removed from this release to reduce confusion reported by Tangerine users. The Rewind Sync functionality out-performs Comparison Sync and is recommended for use when needed on all deployments.</p> <h2 id=v3231>v3.23.1<a class=headerlink href=#v3231 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fixed bug in sync on PWA's. Also, do note that video file upload using the new tangy-form input <code>&lt;tangy-video-capture&gt;</code> only works for APKs Issue: [#3338] <a href=https://github.com/Tangerine-Community/Tangerine/issues/3338>https://github.com/Tangerine-Community/Tangerine/issues/3338</a></li> <li>Fixed tangy-form-editor to 7.14.2 to fix bug with input widget for tangy-keyboard-input (postfix field).</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.23.1
./start.sh v3.23.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.23.0
</code></pre></div> <h2 id=v3230>v3.23.0<a class=headerlink href=#v3230 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Enabled video upload feature which uses the new tangy-form input <code>&lt;tangy-video-capture&gt;</code>. There is a new video file upload section in the sync feature for both sync-protocol 1 and 2. implementation details in this PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3327/files>3327</a>. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3212>#3212</a> The new tangy-form input <code>&lt;tangy-video-capture&gt;</code> takes the following properties:</li> <li>frontCamera: Boolean. Whether to use the front camera or the back camera. Default is <code>true</code>.</li> <li>noVideoConstraints: Boolean. Whether to force use of front or back camera. If true, chooses the first available source. Default is <code>true</code>.</li> <li>codec: String. The codec to use. Default is 'video/webm;codecs=vp9,opus' - AKA webm vp9. It is possible the device may not support all of these codecs. Other potential codecs include <code>video/webm;codecs=vp8,opus</code> and <code>video/webm;codecs=h264,opus</code>.</li> <li>videoWidth: Number. The width of the video. Default is <code>1280</code> and videoHeight: Number. The height of the video. Default is <code>720</code>.</li> <li>Bump tangy-form lib to 4.34.3, tangy-form-editor to 7.14.1. </li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Add postfix property to tangy-keyboard-input. Also add highlight to value entered. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3321>3321</a></li> </ul> <h2 id=v3224>v3.22.4<a class=headerlink href=#v3224 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Feature: Tangerine CLI for dropping mysql tables and resetting mysql .ini files. PR: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3281>#3281</a> Usage: <code>docker exec tangerine module-cache-clear mysql</code></li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Error when mysql module creates a table with duplicate participantId PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3280>#3279</a> </li> <li>New languages - Bengali, Dari, Hindi, Pashto, Portuguese, Updated Russian, Swahili, Urdu <a href=https://github.com/Tangerine-Community/Tangerine/pull/3263>#3263</a></li> <li>Filter archived case events out of Schedule View <a href=https://github.com/Tangerine-Community/Tangerine/pull/3267>#3267</a></li> <li>Many fixes to Teach:</li> <li>Add Current Date to Teach Subtest Report <a href=https://github.com/Tangerine-Community/Tangerine/pull/3273>#3273</a></li> <li>Remove some appended Teach CSV columns <a href=https://github.com/Tangerine-Community/Tangerine/pull/3271>#3271</a></li> <li>Fix student subtest report failing by transforming data only for related curriculum <a href=https://github.com/Tangerine-Community/Tangerine/pull/3272>#3272</a></li> <li>Student subtask report is failing with error <a href=https://github.com/Tangerine-Community/Tangerine/issues/3270>#3270</a></li> <li>CSV file contains tangy-input metadata and displaces all inputs <a href=https://github.com/Tangerine-Community/Tangerine/issues/3227>#3227</a></li> <li>Fix summary upload <a href=https://github.com/Tangerine-Community/Tangerine/pull/3265>#3265</a></li> <li>Records should be one doc per Student per Curriculum per Class. Not per Student per Curriculum per Class per Item. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3264>#3264</a></li> <li>Provide Bengali number translation in Student Grouping Report <a href=https://github.com/Tangerine-Community/Tangerine/pull/3255>#3255</a></li> <li>Bengali numbers are not being replaced in Class Grouping report <a href=https://github.com/Tangerine-Community/Tangerine/issues/3228>#3228</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.22.4
./start.sh v3.22.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.22.3
</code></pre></div> <h2 id=v3223>v3.22.3<a class=headerlink href=#v3223 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix all Tangy Templates are missing when reviewing completed form responses.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.22.3
./start.sh v3.22.3
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.22.2
</code></pre></div> <h2 id=v3222>v3.22.2<a class=headerlink href=#v3222 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Download All button on Spreadsheet Request info page does not download <a href=https://github.com/Tangerine-Community/Tangerine/issues/3232>#3232</a></li> <li>Spreadsheet Requests page does not load for new groups <a href=https://github.com/Tangerine-Community/Tangerine/issues/3233>#3233</a></li> <li>Fix use of window.eventFormRedirect <a href=https://github.com/Tangerine-Community/Tangerine/pull/3211>#3211</a></li> <li>Spreadsheet Request will fail to generate Download All zip if one form has specific characters in the title <a href=https://github.com/Tangerine-Community/Tangerine/issues/3217>#3217</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.22.2
./start.sh v3.22.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.22.1
</code></pre></div> <h2 id=v3221>v3.22.1<a class=headerlink href=#v3221 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix: Tangy Template elements all say "false" if using environment variables like caseService and T <a href=https://github.com/Tangerine-Community/Tangerine/issues/3203>#3203</a></li> <li>Make issue diffs less crash prone <a href=https://github.com/Tangerine-Community/Tangerine/pull/3200>#3200</a></li> <li>Fix: Case fails to open after selecting Case in search behind a "load more" button <a href=https://github.com/Tangerine-Community/Tangerine/issues/3194>#3194</a></li> <li>Fix: Unable to scroll to last item in search list if there is not more button <a href=https://github.com/Tangerine-Community/Tangerine/issues/3195>#3195</a></li> <li>Fix: After typing a search, "load more" button appears with no search results for a few seconds <a href=https://github.com/Tangerine-Community/Tangerine/issues/3196>#3196</a></li> <li>On a Spreadsheet Request page, style the download all button's icon as white.</li> <li>Unify and fix the exclude pii label on spreadsheet requests.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Check logs for the past hour on the server to ensure it&#39;s not being actively used. Look for log messages like &quot;Created sync session&quot; for Devices that are syncing and &quot;login success&quot; for users logging in on the server. 
docker logs --since=60m tangerine
# Fetch the updates.
git fetch origin
git checkout v3.22.1
./start.sh v3.22.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.22.0
</code></pre></div> <h2 id=v3220>v3.22.0<a class=headerlink href=#v3220 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Device User should not be able to register Device Account without username <a href=https://github.com/Tangerine-Community/Tangerine/issues/3162>#3162</a></li> <li>CSV Datasets are not filtering by month and year when a 'Month' and 'Year' is selected <a href=https://github.com/Tangerine-Community/Tangerine/issues/3181>#3181</a></li> <li>Make Loc and t available on Editor's window object for consistency with Client environment <a href=https://github.com/Tangerine-Community/Tangerine/pull/3161>#3161</a></li> <li>Fix messaging during data optimization and reduce number of view optimized that are never used <a href=https://github.com/Tangerine-Community/Tangerine/pull/3165>#3165</a></li> <li>Prevent menu items from jumping around on Deploy page <a href=https://github.com/Tangerine-Community/Tangerine/pull/3169>#3169</a></li> <li>Fix bug causing document updates to get skipped over in sync after a Comparison Sync <a href=https://github.com/Tangerine-Community/Tangerine/pull/3179>#3179</a></li> </ul> <p><strong>Deprecate single csv download in favor of Spreadsheet Requests</strong></p> <p>See <a href=https://github.com/Tangerine-Community/Tangerine/pull/3182>screenshots here</a>.</p> <ul> <li>Change terminology referring to "CSV" to more commonly recognized "Spreadsheet" term.</li> <li>"CSV Datasets" term changed to "Spreadsheet Requests".</li> <li>Fix "CSV Datasets are not filtering by month and year when a 'Month' and 'Year' is selected #3181"</li> <li>Request Spreadsheets page: Submit button now hovers and is sticky to bottom of page; "*" in Month/Year selection clarified as "All months"/"All years"; "Description" no longer required and given own line for better formatting; other formatting cleanup.</li> <li>Data page: Removed deprecated CSV Download button; updated language; added "Request Spreadsheets" button for quick access to making a request for spreadsheets.</li> <li>Spreadsheet Request Info page: Now dynamically updates as Spreadsheets are rendered with row counts and status; removed unnecessary filename to download all, instead it's a "download all" button; new types of status including "File removed", "Stopped", "Available", and "In progress"; Month and Year values of "*" now clarified as "All months" and "All years"; loading screen improvements; title of page now the date the spreadsheets were requested on.</li> <li>Spreadsheet Requests page: Updated language; fixed total Spreadsheet Requests calculation in pagination; if status of Spreadsheet Request is "Available" the status shows in green; if the status of the Spreadsheet Request is "In progress" a spinner is shown where the Download button will be; labels of "More Info" and "Download" added to corresponding buttons; loading overlay now shown on initial load and when changing pages.</li> <li>Spreadsheet Templates page: Updated terminology from CSV Templates to Spreadsheet Templates.</li> </ul> <p><strong>New Features</strong></p> <ul> <li>Show recent activity as default search results <a href=https://github.com/Tangerine-Community/Tangerine/pull/3171>#3171</a></li> <li>Make a cached version of the Device information available to form logic on T.device.device <a href=https://github.com/Tangerine-Community/Tangerine/pull/3183>#3183</a></li> <li>Group Administrator configures Device Account password policy <a href=https://github.com/Tangerine-Community/Tangerine/pull/3172>#3172</a></li> <li>On search UI: limit initial results to 10 for fast load, add a "Load More" button for pagination, and style improvements <a href=https://github.com/Tangerine-Community/Tangerine/pull/3164>#3164</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.22.0
./start.sh v3.22.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.21.0
</code></pre></div> <h2 id=v3210>v3.21.0<a class=headerlink href=#v3210 title="Permanent link">&para;</a></h2> <p><strong>Developers:Good to Know</strong></p> <ul> <li>The master branch has been moved to the main branch. No development will happen on the master branch, which has been deleted. Also, please note the updates to the <a href=https://github.com/Tangerine-Community/Tangerine/blob/main/CONTRIBUTING.md#release-workflow>Release Workflow</a></li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Prevent unnecessary CaseService saves by comparing hashes <a href=https://github.com/Tangerine-Community/Tangerine/pull/3155>#3155</a></li> <li>Prevent loss of case changes when leaving incomplete form by always saving the case <a href=https://github.com/Tangerine-Community/Tangerine/pull/3156>#3156</a></li> <li>Prevent on-submit of a form running in one Case from being able to run in another case by navigating quickly to another Case. We inject <code>T</code> and <code>case</code> (caseService) variables into Tangy Form (formPlayer) from EventFormComponent. This will add <code>instanceFrom: 'EventFormComponent'</code> to the caseService (and also assigns <code>['instanceFrom'] = 'EventComponent'</code> in EventComponent). Note that if you have any use of <code>window.T</code> or <code>window.caseService</code>, you will need to make them <code>T</code> and <code>caseService</code> to take advantage of this fix. Commit: <a href=https://github.com/Tangerine-Community/Tangerine/commit/716bc5e90ec6fba59cbe55eb2bcf5ae244cf5fa8>716bc5e9</a></li> <li>Bump tangy-form to v4.29.1 and tangy-form-editor to v7.10.2 Commit: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3159/commits/a3f7853105882a7d0960c64f11816c6fea7b2163>a3f785310</a></li> </ul> <p><strong>New Features</strong></p> <ul> <li>Add support for running an SSL frontend. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3147>#3147</a></li> <li>Make CORS settings configurable by T_CORS_ALLOWED_ORIGINS Commit: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3159/commits/1f448f7efe8d55daeb6f63fa94cb29faaa0583c6>1f448f7e</a></li> <li>Add ability to generate CSV datasets for all groups and all forms. This feature provides the new generate-csv-datasets command and csvDataSets route. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3149>#3149</a></li> <li>Add support for Tangy Form's useShrinker flag, implemented as AppConfig.saveLessFormData. This is an experimental mode in Tangy Form that only captures the properties of inputs that have changed from their original state in the form. This should lead to smaller formResponses and quicker sync data transfers. Commit: <a href=https://github.com/Tangerine-Community/Tangerine/commit/35a05c2b183b3df48e90073611d2631fac6eb8bd>35a05c2b</a>, Tangy-form pull: Add support for shrinking form responses <a href=https://github.com/Tangerine-Community/tangy-form/pull/209>#209</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.21.0
./start.sh v3.21.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.20.4
</code></pre></div> <h2 id=v3204>v3.20.4<a class=headerlink href=#v3204 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fixes resuming an unfinished Event Form. Commit <a href=https://github.com/Tangerine-Community/Tangerine/pull/3154/commits/bf9749247d4d0e8b7500bbd64433f6b5f9514426>bf97492</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.20.4
./start.sh v3.20.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.20.3
</code></pre></div> <h2 id=v3203>v3.20.3<a class=headerlink href=#v3203 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Editing Timed Grids on Forms: Capture at item and Duration are compared as strings leading to unexpected validation scenarios <a href=https://github.com/Tangerine-Community/Tangerine/issues/3130>#3130</a></li> <li>Fix CORs usage in Tangerine APIs when outside applications are using credentials. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3132>#3132</a></li> <li>When Tangerine creates CouchDB users for Sync, DB Administration, and Reporting, restrict that users access to the databases for the group they are assigned. This is a tightening of security to support use cases where users of groups on the same server should be restricted from accessing other groups data on the same server when Sync Protocol 2 and Database Administrator features are being used. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3118>#3118</a></li> <li>Data Manager views in CSV which cycle sequence was used in each form response <a href=https://github.com/Tangerine-Community/Tangerine/pull/3128>#3128</a>.</li> <li>Fix access denied message when using Tangerine APIs <a href=https://github.com/Tangerine-Community/Tangerine/pull/3133>#3133</a></li> <li>Make status translateable on Tangerine Teach Task Report. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3089>#3089</a></li> <li>When editing Timed Grids on Forms, "Capture at Time" and "Duration" are compared as strings leading to unexpected validation scenarios. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3130>#3130</a></li> <li>Fix database export when using Sync Protocol 1 by using the correct database names <a href=https://github.com/Tangerine-Community/Tangerine/issues/3120>#3120</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.20.3
./start.sh v3.20.3
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.20.2
</code></pre></div> <h2 id=v3202>v3.20.2<a class=headerlink href=#v3202 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Improve listing of items in the Data menu. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3125>#3125</a></li> <li>Fix issue where Group User on server with permission to access database would not have access. Commit: <a href=https://github.com/Tangerine-Community/Tangerine/commit/a10162d92642cf83ae43aa3ad96033691e5b0a76>a10162d9</a></li> <li>Add Amharic translation.</li> <li>Fix issue when backup has never run, the Clean backups command in Maintenance on client fails, and the process alert does not go away. This PR also copies over a fix for clearing all progress messages from Editor. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3098>#3098</a></li> <li>Fix bad url for Print Content feature in Editor/Author. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3099>#3099</a></li> <li>Clicking on unavailable form in Case should not open it. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3063>#3063</a></li> <li>The csv and mysql outputs must carry over the 'archived' property from the group db. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3104>#3104</a></li> <li>Bump tangy-form to v4.28.2 and tangy-form-editor to v7.9.5. Includes fix for tangy-input-groups change logic Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2728>#2728</a></li> <li>Users should enter dataset description when creating a dataset in Editor PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3078>#3078</a></li> <li>Avoid crashes when properties on the markup are accessed before being available to the component <a href=https://github.com/Tangerine-Community/Tangerine/pull/3080>#3080</a></li> <li>Replace special chars with underscore in CSV output. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3003/ >#3003</a></li> <li>Refresh global reference to T.case when using a case so most importantly the correct context is set PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3108>#3108</a></li> <li>Link to download data set downloads a JSON file with headers and group config doc. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3114>#3114</a></li> <li>CSV template creation fails. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/3115>#3115</a></li> <li>Restart couchdb container on failure. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3112>#3112</a></li> <li>APK and PWA Updates fail with User not logged in (every time) <a href=https://github.com/Tangerine-Community/Tangerine/issues/3111>#3111</a></li> <li>Fix error when looping through input values for data dictionary. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3124>#3124</a></li> <li>Add config to allow output of multiple participants in MySQL. Consult the PR for implementation details. If you wish to enable this feature, add <code>T_MYSQL_MULTI_PARTICIPANT_SCHEMA:true</code> to the config.sh script. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/3110/ >#3110</a></li> </ul> <p><strong>Upgrade notice</strong></p> <p>If your project was already using the Data Conflicts tools that were installed manually, you must remove those in order to prevent a conflict with the Database Conflicts tool that is now automatically installed in Tangerine -&gt; Deploy -&gt; Database Conflicts. Reset the group-uuid/editor directory with the content-sets/case-module/editor components or the content-sets/case-module-starter/editor/index.html file.</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.20.2
./start.sh v3.20.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.20.1
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3201>v3.20.1<a class=headerlink href=#v3201 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix Form Editor removes manually added on-resubmit logic in tangy-form <a href=https://github.com/Tangerine-Community/Tangerine/issues/3017>#3017</a></li> <li>Support old PWAs that did not check for all permissions when installed in order to get permanent storage <a href=https://github.com/Tangerine-Community/Tangerine/issues/3084>#3084</a></li> </ul> <p><strong>New Features</strong></p> <ul> <li>Add Maintenance page to client to enable app administration tasks (clear out old backups and fix permissions) and disk space statistics. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3059>#3059</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.20.1
./start.sh v3.20.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.20.0
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3200>v3.20.0<a class=headerlink href=#v3200 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Improve rendering of Device listing. PR: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2924>#2924</a> <em>Note</em> that you must run the update or else the Device view will fail.</li> <li>Converted print form view as a single table <a href=https://github.com/Tangerine-Community/Tangerine/pull/2927>#2927</a></li> <li>Improvements to restoring a database from a backup PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2938>#2938</a></li> <li>On server group's security page, fix link to adding roles and show loading screen when saving role.</li> <li>Data outputs for CSV's now include the 'archived' property. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2988>#2988</a></li> <li>This one goes out to the coders: Prevent CaseService singleton injection into Case related components <a href=https://github.com/Tangerine-Community/Tangerine/pull/2948>#2948</a>. This is an important change in how cases are handled - they are no longer singletons. If you are developing scripts for a form and there are problems accessing T.case, see the comments in #2948 for a solution.</li> </ul> <p><strong>New Features</strong></p> <ul> <li>New CSVs related to Cases now available for Case Participants, Case Events, and Case Event Forms. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2908>https://github.com/Tangerine-Community/Tangerine/pull/2908</a></li> <li>Online Survey user is warned if they are using an unsupported web browser (Internet Explorer). <a href=https://github.com/Tangerine-Community/Tangerine/pull/3001>https://github.com/Tangerine-Community/Tangerine/pull/3001</a> </li> <li>Data Manager generates CSV with specific columns using CSV Templates.</li> <li>Data Manager restores Case Event stuck in Conflict Revision. Add the <code>can_restore_conflict_event</code> permission to the users' role(s) to enable. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2949>#2949</a></li> <li>Enable Data Conflict Manager for groups. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2997>2997</a> This is based on the <a href=https://github.com/ICTatRTI/couchdb-conflict-manager>couchdb-conflict-manager</a> web component.</li> <li>In Offline App, when submitting a form, opening a case, creating a case, etc., a new loading screen is shown. <a href=https://github.com/Tangerine-Community/Tangerine/pull/3000>#3000</a></li> <li>In Online Survey, new support for switching language without interrupting the survey. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2643>#2643</a></li> <li>For PWA's, there is a new device permissions step in device setup to guarantee persistent storage <a href=https://github.com/Tangerine-Community/Tangerine/pull/3002>#3002</a></li> <li>The login screen may now have custom markup. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2979>#2979</a></li> <li>Statistical files are now available in Stata .do format for corresponding forms <a href=https://github.com/Tangerine-Community/Tangerine/pull/2971>#2971</a></li> <li>The new <code>usePouchDbLastSequenceTracking</code> property in app-config.json and settings page enables the use of PouchDB's native last sequence tracking support when syncing. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2999>#2999</a></li> <li>The new <code>encryptionPlugin:'CryptoPouch'</code> property in app-config.json enables testing of the CryptoPouch extension currently in development. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2998>#2998</a> Please note that this feature is not yet ready for deployment. There are now three different possible storage configurations for Tangerine:</li> <li>"encryptionPlugin":"CryptoPouch" - Configures the app to use CryptoPouch, which encrypts documents in the app's indexedb for storage.</li> <li>"turnOffAppLevelEncryption": true - Configures the app without encryption, using the app's indexedb for storage instead of sqlite/sqlCypher.</li> <li>"encryptionPlugin":"SqlCipher" - or without any additional configuration (SqlCipher is the default configuration.) - Configures the app to use SqlCipher, which encrypts documents in an external sqlLite database for storage.</li> <li>We have changed how we determine which storage engine is being used. In the past we exposed a window['turnOffAppLevelEncryption'] global variable based on the same flag in app-config.json; however, now we are determining in app-init.ts which engine is running and exposing either <code>window['cryptoPouchRunning']</code> or <code>window['sqlCipherRunning']</code> to indicate which engine is running. It is important to note that even the app is configured with <code>encryptionPlugin:'CryptoPouch'</code> in app-config.json, the app may have been installed without that setting and is actually running sqlCypher. This is why it is important to observe if either <code>window['cryptoPouchRunning']</code> or <code>window['sqlCipherRunning']</code> is set. </li> </ul> <p><strong>Backports/Good to Know</strong></p> <p>When we add new features or fix issues in patch releases of Tangerine, those code changes usually get added automatically to any new releases of Tangerine. To make sure users of new releases are aware of those changes, we will occasionally mention them in this section in case they have missed them in the Changelog for the corresponding earlier release. Please note that when you install or upgrade a new Tangerine release, please review the Changelog for any changes in minor or patch releases. </p> <ul> <li>Server admin can configure regex-based password policy for Editor. Instructions in the PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2858>#2858</a> Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2844>#2844</a></li> <li>Show loading screen in more places that typically hang such as the Case loading screen, issue loading, issue commenting, and many other places when working with Issues on the sever. (demo: <a href=https://youtu.be/RkoUN41jqr4>https://youtu.be/RkoUN41jqr4</a>)</li> <li>Enhancements to support for archiving cases:</li> <li>Added ability to search archived cases. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2977>#2977</a> <em>Important</em> : Run <code>docker exec -it tangerine /tangerine/server/src/upgrade/v3.19.3.js</code> to enable searching archived cases.</li> <li>Added archive/unarchive Case functionality and permission for "can delete" <a href=https://github.com/Tangerine-Community/Tangerine/pull/2954>#2954</a></li> <li>Added backup and restore feature for Tangerine databases using device encryption. Increase the appConfig.json parameter <code>dbBackupSplitNumberFiles</code> (default: 200) to speed up the backup/restore process if your database is large. You may also change that parameter in the Export Backup user interface. Updated docs: <a href=./docs/system-administrator/restore-from-backup.md>Restoring from a Backup</a> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2910>#2910</a></li> <li>Updates to tangy-form lib to 4.25.18 (<a href=https://github.com/Tangerine-Community/tangy-form/blob/master/CHANGELOG.md#v4280>Changelog</a>), which provides:</li> <li>Support for changing a page content's language and number system without reloading the page.</li> <li>A fix for photo-capture so that it de-activates the camera when going to the next page or leaving a form. Also a new feature for configuring compression</li> <li>Implemented a new 'before-submit' event to tangy-form in order to listen to events before the 'submit' event is dispatched.</li> <li>A fix for User defined Cycle Sequences.</li> <li><em>Important</em> If your site uses csvReplacementCharacters to support search and replace configuration for CSV output, which was released v3.18.2, you must change the configuration string. See issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2804>#2804</a> for information about the new schema.</li> <li>Feature: Editor User downloads CSVs for multiple forms as a set Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2768>#2768</a> PR:<a href=https://github.com/Tangerine-Community/Tangerine/pull/2777>#2777</a></li> <li>Feature: Remove configurable characters from CSV output <a href=https://github.com/Tangerine-Community/Tangerine/issues/2787>#2787</a>.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Important upgrade: Please note that you must run update below (v3.20.0.js) to install the new listDevices view. If you don't the Devices listing will fail.</p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.20.0
./start.sh v3.20.0
# Run the update to install the new listDevices view.
docker exec -it tangerine /tangerine/server/src/upgrade/v3.20.0.js
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.19.1
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3193>v3.19.3<a class=headerlink href=#v3193 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Fix issue where loading screen would not close after submitting a proposal on an Issue.</li> <li>Fixes from v3.18.8 incorporated.</li> <li>Fixes to how role based permission rules are applied on the schedule view. </li> <li>Fix CaseService.rebaseIssue from failing due to accessing eventForms incorrectly.</li> </ul> <p><strong>New Features</strong></p> <ul> <li>Show loading screen in more places that typically hang such as the Case loading screen, issue loading, issue commenting, and many other places when working with Issues on the sever. (demo: <a href=https://youtu.be/RkoUN41jqr4>https://youtu.be/RkoUN41jqr4</a>)</li> <li>Material design applied to loading indicator on the server. </li> <li>New cancel button on loading indicator on the server. Will warn that this may cause data corruption and data loss. (demo: <a href=https://youtu.be/da9cxG5w8c0>https://youtu.be/da9cxG5w8c0</a>)</li> <li>Added ability to search archived cases. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2977>#2977</a> <em>Important</em> : Run <code>docker exec -it tangerine /tangerine/server/src/upgrade/v3.19.3.js</code> to enable searching archived cases.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.19.3
./start.sh v3.19.3
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.19.2
# Run the v3.19.3.js update to enable indexing of archived documents.
docker exec -it tangerine /tangerine/server/src/upgrade/v3.19.3.js
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3192>v3.19.2<a class=headerlink href=#v3192 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Added process indicator when archiving, un-archiving, or deleting a case. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2974>#2974</a></li> <li>Add v3.19.2 update to recover if v3.19.0 search indexing failed</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.19.2
./start.sh v3.19.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.19.1
# Perform additional upgrades.
docker exec -it tangerine bash
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3191>v3.19.1<a class=headerlink href=#v3191 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Improved backup and restore file processing. Docs: <a href=./docs/system-administrator/restore-from-backup.md>Restoring from a Backup</a> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2910>#2910</a></li> <li>Added archive/unarchive Case functionality and permission for "can delete" <a href=https://github.com/Tangerine-Community/Tangerine/pull/2954>#2954</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.19.1
./start.sh v3.19.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.19.0
# Perform additional upgrades.
docker exec -it tangerine bash
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v3190>v3.19.0<a class=headerlink href=#v3190 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ol> <li><strong>Data Manager requests and downloads CSVs for multiple forms as a set.</strong> When logged into the server and in a group, you will now find a "Download CSV Data Set" menu item under "Data". From there you can view all of the CSV Data Sets you have generated in the past, the status of wether or not they have finished generating, a link to download them, and other meta data. Click the "New Data Set" button and you will be able to select any number of forms to generate CSVs for, data for all time or a specific month, and wether or not to exclude PII. This is especially useful for generating CSVs that take longer to generate than the automatic logout built into the server. You may request a CSV Data Set, log out, and then log back in later to check in on the status and download it. A Server Administrator can also configure cron with a <code>generate-csv-data-set</code> command to generate a data set on a daily, weekly, or monthly basis, handy for situations where you want CSVs to automatically generate on the weekend and then download them on Monday. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2768>https://github.com/Tangerine-Community/Tangerine/issues/2768</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2777>https://github.com/Tangerine-Community/Tangerine/pull/2777</a>)</li> <li><strong>Data Manager archives a Case to remove it from reporting output and Devices.</strong> This adds an "archive" button on Cases that flags all related Form Responses as archived and removes them from CSV output and Search on Devices. This uses the new T.case.archive() API which adds an 'archived' flag for those docs and saves a minimal version of the doc with enough data to be indexed on the server. Search on client and server CSV output are modified to filter archived docs. When viewing cases in Editor, displays "Archived" when viewing an archived case. When client syncs, it deletes any docs with the 'archived' flag and sets deletedArchivedDocs In the replicationStatus log. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2843>https://github.com/Tangerine-Community/Tangerine/issues/2843</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2776>https://github.com/Tangerine-Community/Tangerine/pull/2776</a>)</li> <li><strong>Devices Manager reconfigures claimed Device sync settings and selects multiple Sync Locations for a Device.</strong> Details: To change a Device's sync settings currently requires a reinstall of the app on the Device and setting up all the accounts again. This PR will allow system admins to change the sync settings for a Device which then triggers on next sync a Rewind Push, database delete, then a first pull with the new sync settings. Subsequent syncs then use the new sync settings. This PR also refactors the Create and Edit forms for Devices on the server so that multiple sync locations can be added. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2867>https://github.com/Tangerine-Community/Tangerine/issues/2867</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2782>#2782</a>)</li> <li><strong>Device Manager estimates how large an initial sync will be given selected sync settings.</strong> When setting up sync settings for a Device, it is useful to know how many documents will need to be downloaded given which forms are configured for syncing down and the locations assigned. There is now a "calculate down-sync size" button at the bottom of Device edit/creation forms that when pressed will tally up the documents needing to be down synced given the device sync settings. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2845>https://github.com/Tangerine-Community/Tangerine/issues/2845</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2818>https://github.com/Tangerine-Community/Tangerine/pull/2818</a>)</li> <li><strong>Devices Manager monitors for Devices close to filling up disk space.</strong> Devices now report how much free space they have to the server after a sync. This can be monitored on the <code>Deploy &gt; Devices</code> list. When a Device reports having less than 1GB free storage, a warning is shown on the Devices list. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2779>2779</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2795>2795</a>)</li> <li><strong>Server User views the version of Tangerine installed.</strong> Any user on the server can now view the version of Tangerine installed by going to Help menu in the left nav bar. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2846>https://github.com/Tangerine-Community/Tangerine/issues/2846</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2794>https://github.com/Tangerine-Community/Tangerine/pull/2794</a>)</li> <li><strong>Database Consumer accesses Tangerine MySQL databases via web browser.</strong> Users of Tangerine's MySQL database sometimes are not allowed to install tools such as MySQL Workbench on their work computers. This PR makes starting PHPmyAdmin (a mysql viewer) as a web service a configuration option in Tangerine so no one has to install software on their computer to access Tangerine MySQL. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2847>https://github.com/Tangerine-Community/Tangerine/issues/2847</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2793>https://github.com/Tangerine-Community/Tangerine/pull/2793</a>)</li> <li><strong>Data Collector creates Account on Device and associates with any User Profile in Group (ignoring Device assignment/sync settings).</strong> By default, when a Data Collector creates an Account on Device, they can only associate with User Profiles that are assigned to the same location as the Device's Assigned Location. Add <code>"disableDeviceUserFilteringByAssignment":true</code> to the app-config.json for the group and this restriction will be removed. Tablets will also sync all User Profiles, ignoring the Device's configured Sync Location(s). (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2848>https://github.com/Tangerine-Community/Tangerine/issues/2848</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2792>https://github.com/Tangerine-Community/Tangerine/pull/2792</a>)</li> <li><strong>Form Developer writes code that can access Case's related Location metadata without writing asynchronous code.</strong> When working synchronously in forms, we don't currently have access to the related Location Node data without loading the Location List async and using T.case.case.location to search the hierarchy for the node we want. This PR loads all related Location Nodes into memory at T.case.location when the context of a Case is set. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2849>https://github.com/Tangerine-Community/Tangerine/issues/2849</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2791>https://github.com/Tangerine-Community/Tangerine/pull/2791</a>)</li> <li><strong>Server Administrator configures substitutions for CSV output.</strong> This feature allows a Server Administrator to update the group's configuration in the app database to contains Regex string replacements for CSV output. This can be handy in situations where Data Analysts are having trouble parsing CSV data that contains line breaks and commas. An example configuration to remove line breaks and commas from data would be <code>"csvReplacementCharacters": [{"search": ",", "replace": "|"}, {"search": "\n", "replace": "___"}]</code>. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2787>https://github.com/Tangerine-Community/Tangerine/issues/2787</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2788>https://github.com/Tangerine-Community/Tangerine/pull/2788</a>)</li> <li><strong>Server Administrator configures Tangerine to not auto-commit in groups' data directories to preserver manually managed git content repositories.</strong> When using git to manage group content in a git flow like manner, the automatic commit can result in unnintentional commits. System Administrators can now turn off this auto-commit by configuring Tangerine's <code>config.sh</code> with <code>T_AUTO_COMMIT="false"</code>. If set to true also include the frequency <code>T_AUTO_COMMIT_FREQUENCY="60000"</code> (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2614>https://github.com/Tangerine-Community/Tangerine/issues/2614</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2748>https://github.com/Tangerine-Community/Tangerine/pull/2748</a>)</li> <li><strong>Data Collector proposes change to a Form on a Case.</strong> The issues feature that has been available on the server is now optionally also available on Devices by <code>"allowCreationOfIssues": true</code> to <code>client/app-config.json</code> for the group you want this enabled. Most of the features of Issues you are familiar with from the server are there, except for merging proposals which is not allowed. Issues from Devices are uploaded to the server where proposals can be merged by a Data Manager. We also streamlined the Issue creation and proposal process by skipping the page to fill out an issue title/description, and then forward them directly to creating a proposal. To aid in issue titles/descriptions that make sense, Content Developers can now add <code>templateIssueTitle</code> and <code>templateIssueDescription</code> to Case Definition files. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2850>https://github.com/Tangerine-Community/Tangerine/issues/2850</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2330>https://github.com/Tangerine-Community/Tangerine/pull/2330</a>) (<a href=https://youtu.be/xWXKubQNLog>Demo Video</a>)</li> <li><strong>Data Manager updates Issue Title and Issue Description</strong> Data Managers will now find a metadata tab on an Issue where they can update the Title, Description, and new "Send to" settings. (Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2851>https://github.com/Tangerine-Community/Tangerine/issues/2851</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2330>https://github.com/Tangerine-Community/Tangerine/pull/2330</a>)</li> <li><strong>Data Manager sends an Issue to all Devices in Sync Area or specific Device</strong> When create/configuring an Issue, Data Managers now have the option to send an Issue to a specific location in a Sync Area, or send it to a specific Device by Device ID. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2854>https://github.com/Tangerine-Community/Tangerine/issues/2854</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2330>https://github.com/Tangerine-Community/Tangerine/pull/2330</a>)</li> <li><strong>Forms Developer defines custom logic for Device's search of Cases and Forms</strong> In some cases there are situations where the standard variables for searching do not cover all things we want searched, or there is a compound field we want to be searched. Adding a client/custom-search.js file allows the Forms Developer to hook into the map function used to generate the search index. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2852>https://github.com/Tangerine-Community/Tangerine/issues/2852</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2740>https://github.com/Tangerine-Community/Tangerine/pull/2740</a>)</li> <li><strong>Data Manager views list of Issues related to Case</strong> When viewing a Case on the server, the first screen when opened will now show a list of related Issues. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2723>https://github.com/Tangerine-Community/Tangerine/issues/2723</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2573>https://github.com/Tangerine-Community/Tangerine/pull/2573</a>)</li> <li><strong>Form Developer uses API to override Device User based access to Event Forms on a per Case Event basis</strong> Currently we can configure in a Case Definition the operation permissions on all instances of an Event Form. This change allows a Form Developer to write logic that would control those permissions on a per Event Form basis by setting the same <code>permissions</code> property on the Event Form itself. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2624>https://github.com/Tangerine-Community/Tangerine/issues/2624</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2660>https://github.com/Tangerine-Community/Tangerine/pull/2660</a>)</li> <li><strong>Form Developer configures Devices to skip optimization of database views not in use on Device.</strong> Some projects relying heavily on a custom app will find they do not use all of the standard Tangerine database views, thus they can be skipped during the data optimization phase after a sync. In <code>app-config.json</code>, you can add a new <code>doNotOptimize</code> property with a value as an array of views to skip. To discover what views your app is indexing, see the console logs from a device during the optimization phase. You may discover some views you can add to <code>doNotOptimize</code> to speed up that optmization process. (Commit: <a href=https://github.com/Tangerine-Community/Tangerine/commit/4b8864470c1cad98e43152dd6bb3c91ee3e576a6>https://github.com/Tangerine-Community/Tangerine/commit/4b8864470c1cad98e43152dd6bb3c91ee3e576a6</a>)</li> <li><strong>System Administrator batch imports all forms from a Tangerine v2 group into a Tangerine v3 group</strong> Tangerine v3 now has a script that will import all v2 group forms into a v3 group without having to do each form individually. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2857>https://github.com/Tangerine-Community/Tangerine/issues/2857</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2584>https://github.com/Tangerine-Community/Tangerine/pull/2584</a>)</li> </ol> <p><strong>Fixes</strong></p> <ol> <li><strong>Issue created programatically in on-submit says we must rebase but no button to rebase #2785</strong> Cases that have used the <code>T.case.createIssue()</code> API in forms to create Issues on the current form have recently found the resulting issues are broken. This is due to a change in when the Form Response is associated with the case (later than when T.case.createIssue() is called in a form's on-submit). To remedy this, we've added a new <code>T.case.queueIssueForCreation("Some label", "Some comment")</code> API. <strong>If you are using T.case.createIssue(), immediately upgrade and replace its usage with T.case.queueIssueForCreation()</strong>. (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2785>https://github.com/Tangerine-Community/Tangerine/issues/2785</a>) (Example: <a href=https://github.com/Tangerine-Community/Tangerine/blob/next/content-sets/case-module/client/test-issues-created-programatically-on-client/form.html#L5>https://github.com/Tangerine-Community/Tangerine/blob/next/content-sets/case-module/client/test-issues-created-programatically-on-client/form.html#L5</a>)</li> <li><strong>Using a simpler reverse sort for device status</strong> (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2775>https://github.com/Tangerine-Community/Tangerine/pull/2775</a>)</li> <li><strong>Increase likelihood that migration of data to mysql will recover where it left off if server restarts.</strong> (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2773>https://github.com/Tangerine-Community/Tangerine/pull/2773</a>)</li> <li><strong>From Case Definitions, the <code>onCaseOpen</code> and <code>onCaseClose</code> now also run in the server context.</strong> (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2696>https://github.com/Tangerine-Community/Tangerine/pull/2696</a>)</li> <li><strong>"openEvent is not defined" when accessing a case in Editor</strong> (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2800>https://github.com/Tangerine-Community/Tangerine/issues/2800</a>)</li> <li><strong>Synclog date/time header is incorrect and sort is broken</strong> (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2762>https://github.com/Tangerine-Community/Tangerine/issues/2762</a>)</li> <li><strong>Synchronization UX Improvements - remove error state after retries when retry is successful</strong> (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2808>https://github.com/Tangerine-Community/Tangerine/issues/2808</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2826>https://github.com/Tangerine-Community/Tangerine/pull/2826</a>)</li> <li><strong>Fix missing 'form_' from id for v2 import</strong> (Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2856>https://github.com/Tangerine-Community/Tangerine/issues/2856</a>) (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2726>https://github.com/Tangerine-Community/Tangerine/pull/2726</a>)</li> <li><strong>Minor tweak to tangerine-preview README</strong> (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2735>https://github.com/Tangerine-Community/Tangerine/pull/2735</a>)</li> </ol> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.19.0
./start.sh v3.19.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.18.3
# Perform additional upgrades.
docker exec -it tangerine bash
push-all-groups-views
update-down-sync-doc-count-by-location-id-index &#39;*&#39;
# This will index all database views in all groups. It may take many hours if 
# the project has a lot of data.
wedge pre-warm-views --target $T_COUCHDB_ENDPOINT
</code></pre></div> <h2 id=v31810>v3.18.10<a class=headerlink href=#v31810 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Backport: Make status translateable on Tangerine Teach Task Report. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3089>#3089</a></li> <li>Backport: When editing Timed Grids on Forms, "Capture at Time" and "Duration" are compared as strings leading to unexpected validation scenarios. <a href=https://github.com/Tangerine-Community/Tangerine/issues/3130>#3130</a></li> </ul> <h2 id=v3189>v3.18.9<a class=headerlink href=#v3189 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Backport: Restrict access to events by permissions when query by date on schedule view.</li> <li>Fix issue where logging in as a different user shows the previously logged in users data (Multiuser/Tablet sharing <a href=https://github.com/Tangerine-Community/Tangerine/issues/2060>https://github.com/Tangerine-Community/Tangerine/issues/2060</a>)</li> <li>Add additional translateables to Tangerine Teach components (Translatable feedback status text: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2693>https://github.com/Tangerine-Community/Tangerine/issues/2693</a>) (Missing translatable strings: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2987>https://github.com/Tangerine-Community/Tangerine/issues/2987</a>)</li> <li>Allow class title to be anywhere on form <a href=https://github.com/Tangerine-Community/Tangerine/pull/2994>#2994</a></li> </ul> <h2 id=v3188>v3.18.8<a class=headerlink href=#v3188 title="Permanent link">&para;</a></h2> <ul> <li>Add support for skipping indexes in form's cycle sequences.</li> <li>Fix radio button scoring in Teach by only adding the final value of max to the totalMax variable. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2947>https://github.com/Tangerine-Community/Tangerine/issues/2947</a></li> <li>On Tangerine Teach reports, fix calculating of "percentile", AKA percent correct grouping. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2941>https://github.com/Tangerine-Community/Tangerine/issues/2941</a></li> </ul> <h2 id=v3187>v3.18.7<a class=headerlink href=#v3187 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Back-ported some fixes to the backup and restore feature from the v3.19.1 branch.</li> <li>Fixed issue with Teach where third subtask would not open correctly.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.18.7
./start.sh v3.18.7
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.18.6
</code></pre></div> <h2 id=v3186>v3.18.6<a class=headerlink href=#v3186 title="Permanent link">&para;</a></h2> <p><strong>Updates</strong></p> <ul> <li>Updated tangy-form lib from 4.25.11 to 4.25.14 (<a href=https://github.com/Tangerine-Community/tangy-form/blob/master/CHANGELOG.md#v42514>Changelog</a>), which provides:</li> <li>A fix for photo-capture so that it de-activates the camera when going to the next page or leaving a form. </li> <li>Implemented a new 'before-submit' event to tangy-form in order to listen to events before the 'submit' event is dispatched.</li> <li>A fix for User defined Cycle Sequences.</li> </ul> <p><strong>Fixes</strong></p> <ul> <li>Remove incorrect exception classes for changes processing #2883 PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2883>#2883</a> Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2882>#2882</a></li> <li>Added backup and restore feature for Tangerine databases using device encryption. Increase the appConfig.json parameter <code>dbBackupSplitNumberFiles</code> (default: 200) to speed up the backup/restore process if your database is large. You may also change that parameter in the Export Backup user interface. Updated docs: <a href=./docs/system-administrator/restore-from-backup.md>Restoring from a Backup</a> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2910>#2910</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.18.6
./start.sh v3.18.6
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.18.5
</code></pre></div> <h2 id=v3185>v3.18.5<a class=headerlink href=#v3185 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Server admin can configure regex-based password policy for Editor. Instructions in the PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2858>#2858</a> Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2844>#2844</a></li> </ul> <h2 id=v3184>v3.18.4<a class=headerlink href=#v3184 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Backported a fix from the v3.19.0 branch for "Save the lastSequence number after each change is processed in the tangerine-mysql connector" Issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2772>#2772</a></li> <li>Address crashes when importing data using the mysql module <a href=https://github.com/Tangerine-Community/Tangerine/issues/2820>#2820</a></li> </ul> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.18.4
./start.sh v3.18.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.18.3
</code></pre></div> <h2 id=v3183>v3.18.3<a class=headerlink href=#v3183 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li><em>Important</em> If your site uses csvReplacementCharacters to support search and replace configuration for CSV output, which was released v3.18.2, you must change the configuration string. See issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2804>#2804</a> for information about the new schema.</li> <li>Backported a fix from the v3.19.0 branch for "Issue created programmatically in on-submit says we must rebase but no button to rebase #2785"</li> <li>Description: Cases that have used the <code>T.case.createIssue()</code> API in forms to create Issues on the current form have recently found the resulting issues are broken. This is due to a change in when the Form Response is associated with the case (later than when T.case.createIssue() is called in a form's on-submit). To remedy this, we've added a new <code>T.case.queueIssueForCreation("Some label", "Some comment")</code> API. <strong>If you are using T.case.createIssue(), immediately upgrade and replace its usage with T.case.queueIssueForCreation()</strong>.</li> <li>Ticket: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2785>https://github.com/Tangerine-Community/Tangerine/issues/2785</a></li> <li>Example: <a href=https://github.com/Tangerine-Community/Tangerine/blob/next/content-sets/case-module/client/test-issues-created-programatically-on-client/form.html#L5>https://github.com/Tangerine-Community/Tangerine/blob/next/content-sets/case-module/client/test-issues-created-programatically-on-client/form.html#L5</a></li> </ul> <h2 id=v3182>v3.18.2<a class=headerlink href=#v3182 title="Permanent link">&para;</a></h2> <ul> <li>Feature: Editor User downloads CSVs for multiple forms as a set Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2768>#2768</a> PR:<a href=https://github.com/Tangerine-Community/Tangerine/pull/2777>#2777</a></li> <li>Feature: Remove configurable characters from CSV output <a href=https://github.com/Tangerine-Community/Tangerine/issues/2787>#2787</a>.</li> <li>Documentation updates for backup/restore and fixes to image paths</li> <li>Fix default user profile so it doesn't assume use of roles or location</li> <li>Disabled "Print form backup" in Editor</li> <li>Improvements to display of "Print metadata" in Editor</li> <li>Update and fix for Cycle Sequences to enable numbering of sequences starting from 1. PR's: <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/231>#231</a>, <a href=https://github.com/Tangerine-Community/tangy-form/pull/269>#269</a></li> <li>Bump tangy-form to 4.25.11 and tangy-form-editor to 7.8.8.</li> </ul> <h2 id=v3181>v3.18.1<a class=headerlink href=#v3181 title="Permanent link">&para;</a></h2> <ul> <li>Fix backup when using os encryption and sync protocol 2 and cordova. (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2767>#2767</a>)</li> <li>Fix creating of new Device Users when using Sync Protocol 2. (PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2769>#2769</a>)</li> <li>Fix default user profile form for Sync Protocol 1 users. We should not assume they are using roles or location.</li> </ul> <h2 id=v3180>v3.18.0<a class=headerlink href=#v3180 title="Permanent link">&para;</a></h2> <h3 id=new-features>New Features<a class=headerlink href=#new-features title="Permanent link">&para;</a></h3> <ul> <li>Enable configurable image capture in client <a href=https://github.com/Tangerine-Community/Tangerine/issues/2695>#2695</a> </li> <li>Makes image capture work with a max size attribute - PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/218>#218</a></li> <li>Add photo capture widget <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/203>#203</a></li> <li>Serve base64 image data as image files <a href=https://github.com/Tangerine-Community/Tangerine/issues/2706>#2706</a> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2725>#2725</a></li> <li>Add Cycle sequences <a href=https://github.com/Tangerine-Community/Tangerine/issues/1603>1603</a></li> <li>Sort by lastModified in the client case search <a href=https://github.com/Tangerine-Community/Tangerine/pull/2692>#2692</a></li> <li>Enable assigning multiple roles in forCaseRole in the eventFormDefinition <a href=https://github.com/Tangerine-Community/Tangerine/pull/2694/ >#2694</a></li> <li>Enable defining custom functions or valid JavaScript expressions that will be called when an event is opened and when an event is closed. On open and close events for case and case-events: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2696/files>#2696</a></li> <li>Teach-specific strings in Russian for default content-set <a href=https://github.com/Tangerine-Community/Tangerine/pull/2676>#2676</a></li> <li>Uploads status such as app version when updating the app <a href=https://github.com/Tangerine-Community/Tangerine/issues/2756>#2756</a></li> </ul> <h3 id=bugfixes>Bugfixes<a class=headerlink href=#bugfixes title="Permanent link">&para;</a></h3> <ul> <li>Initialize <code>git</code> in content repository before running <code>git</code> commands <a href=https://github.com/Tangerine-Community/Tangerine/pull/2667>#2667</a></li> <li>Only show the links to historical releases when T_ARCHIVE_PWAS_TO_DISK and T_ARCHIVE_APKS_TO_DISK in the config.sh are set to true <a href=https://github.com/Tangerine-Community/Tangerine/issues/2608>#2608</a></li> <li>Fix form breaking when form name has single quote <a href=https://github.com/Tangerine-Community/Tangerine/issues/2489>#2489</a></li> <li>Add print options to archived forms <a href=https://github.com/Tangerine-Community/Tangerine/issues/1987>#1987</a></li> <li>Fix Grid having negative values <a href=https://github.com/Tangerine-Community/Tangerine/issues/2294>#2294</a></li> <li>Fix to allow for running on m1 Macs #2631 <a href=https://github.com/Tangerine-Community/Tangerine/pull/2631>#2631</a> Thanks @fmoko and @evansdianga!</li> <li>For projects using the Case Reporting screen but don't have anything in reports.js but do have markup in reports.html, avoid crash due to empty file <a href=https://github.com/Tangerine-Community/Tangerine/issues/2657>#2657</a></li> <li>V2 import script fixes <a href=https://github.com/Tangerine-Community/Tangerine/pull/2675>#2675</a></li> <li>Allow HTML markup in option labels <a href=https://github.com/Tangerine-Community/Tangerine/issues/2453>2453</a></li> <li>Reset grid values when grid is restarted <a href=https://github.com/Tangerine-Community/Tangerine/issues/2559>#</a></li> <li>Mark last attempted automatically when grid is auto-stopped <a href=https://github.com/Tangerine-Community/Tangerine/issues/2467>#2467</a></li> </ul> <h3 id=new-documentation>New Documentation<a class=headerlink href=#new-documentation title="Permanent link">&para;</a></h3> <ul> <li><a href=./docs/developer/deletion-strategy.md>Deleting Records</a></li> <li><a href=./docs/developer/development-bullet-points.md>Bullet points for Tangerine Development</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.18.0
./start.sh v3.18.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.11
</code></pre></div> <h2 id=v31712>v3.17.12<a class=headerlink href=#v31712 title="Permanent link">&para;</a></h2> <ul> <li>Feature: Remove configurable characters from CSV output <a href=https://github.com/Tangerine-Community/Tangerine/issues/2787>#2787</a>.</li> </ul> <p>This release also has bugfixes specific to the Class module, which now uses updated API's for form rendering. </p> <ul> <li>Feature for Class/Teach: Archive or enable a class. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2580>#2580</a></li> <li>Bugfix for Class/Teach: Teach loses data and blocks app if Class form is not submited <a href=https://github.com/Tangerine-Community/Tangerine/issues/2783>#2783</a></li> <li>Bugfix for Class/Teach: App should return user to previous Curriculum when resuming app. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2648>#2648</a></li> <li>Refactor Class to handle changes in tangy-form; Bug in CSV rendering for Tangerine Teach. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2635>#2635</a></li> </ul> <h2 id=v31711>v3.17.11<a class=headerlink href=#v31711 title="Permanent link">&para;</a></h2> <ul> <li>Added support for custom update scripts for each group. Add either a before-custom-updates.js or after-custom-updates.js to the root of your content depending on when you wish the script to run. Script needs to return a Promise. See Issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2741>2741</a> for script example. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2742>#2742</a></li> <li>Add support for filtering PII variables on Case Participant data and Event Form data in Synapse caches. List the variable names in your group's content folder <code>reporting-config.json</code>. For example: <code>{ "pii": ["foo_variable"] }</code>. This config was previously stored in the groups database.</li> <li>Fixed bug that prevented rewind sync from working.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.11
./start.sh v3.17.11
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.10
</code></pre></div> <h2 id=v31710>v3.17.10<a class=headerlink href=#v31710 title="Permanent link">&para;</a></h2> <ul> <li>Skip optimizing sync-queue, sync-conflicts, and tangy-form views after Sync Protocol 2 sync completes.</li> <li>Using <code>T.case.load()</code> in a form? This release fixes a bug where EventForm.formResponseId would be not set when submitting forms in cases where a form has loaded a different case and then the save case back again thus detaching the memory reference being previously set.</li> <li>Remove trailing whitespace from variables for mysql outputs to avoid illegal column names.</li> <li>Add response-variable-value API with support for returning jpeg and png base64 values as files.</li> <li>Refactor TANGY-SIGNATURE and TANGY-PHOTO-CAPTURE output in CSVs to be URLs of the image files.</li> <li>Creates work-around for deployments that are unable to use custom-scripts. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2711>Issue #2711</a> <a href=https://github.com/Tangerine-Community/Tangerine/pull/2712>PR #2712</a> </li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.10
./start.sh v3.17.10
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.9
</code></pre></div> <h2 id=v3179>v3.17.9<a class=headerlink href=#v3179 title="Permanent link">&para;</a></h2> <h3 id=new-features-and-buffixes>New Features and Buffixes<a class=headerlink href=#new-features-and-buffixes title="Permanent link">&para;</a></h3> <ul> <li>Prevent failed calls to <code>T.case.save()</code> in forms by avoiding any saves to a case when a form is active. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2704/ >PR</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/2700>Issue</a></li> <li>Enable assigning multiple roles in forCaseRole in the eventDefinition <a href=https://github.com/Tangerine-Community/Tangerine/pull/2694/ >#2694</a> - Cherry-picked commit <a href=https://github.com/Tangerine-Community/Tangerine/pull/2694/commits/3e4938a0a80c57c66aa8f4b0eda32b84c85ebe99>3e4938a0a80c57</a> only.</li> <li>Enable defining custom functions or valid JavaScript expressions that will be called when an event is opened and when an event is closed. On open and close events for case and case-events: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2702>#2702</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.9
./start.sh v3.17.9
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.8
</code></pre></div> <h2 id=v3178>v3.17.8<a class=headerlink href=#v3178 title="Permanent link">&para;</a></h2> <ul> <li>Fix use of initial batch size <a href=https://github.com/Tangerine-Community/Tangerine/pull/2685>#2685</a></li> <li>Created <code>generate-form-json</code> script that generates the form json for a group from its form.html file. Usage: <code>docker exec tangerine generate-form-json group-uuid</code> The script loops through a group's forms.json and creates a form.json file in each form directory, next to its forms.html. Before using this script, run <code>npm install</code>. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2686>#2686</a></li> <li>The synapse module now uses the json from <code>generate-form-json</code> to exclude PII. Also, the synapse module takes substitution and pii fields to accommodate schema changes and pii fields not identified in forms. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2697/ >#2697</a> </li> </ul> <p>Place these properties in the groups Couchdb:</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class=nt>&quot;substitutions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;mnh_screening_and_enrollment_v2&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;mnh01_screening_and_enrollment&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;pii&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=s2>&quot;firstname&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=s2>&quot;middlename&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=s2>&quot;surname&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=s2>&quot;mother_dob&quot;</span>
<span class=w>  </span><span class=p>]</span>
</code></pre></div> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.8
./start.sh v3.17.8
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.7
</code></pre></div> <h2 id=v3177>v3.17.7<a class=headerlink href=#v3177 title="Permanent link">&para;</a></h2> <ul> <li>fix CSV generation issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2681>#2681</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.7
./start.sh v3.17.7
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.6
</code></pre></div> <h2 id=v3176>v3.17.6<a class=headerlink href=#v3176 title="Permanent link">&para;</a></h2> <ul> <li>fix issue w/ empty replicationStatus?.userAgent</li> <li>Switched from just-snake-case to @queso/snake-case - better Typescript compatability.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.6
./start.sh v3.17.6
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.5
</code></pre></div> <h2 id=v3175>v3.17.5<a class=headerlink href=#v3175 title="Permanent link">&para;</a></h2> <ul> <li>Bumps tangy-form to 4.23.3, editor to 4.23.3. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2620>2620</a></li> <li>Update date carousel to 5.2.1 with fix for clicking the today button. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2677>#2677</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.5
./start.sh v3.17.5
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.4
</code></pre></div> <h2 id=v3174>v3.17.4<a class=headerlink href=#v3174 title="Permanent link">&para;</a></h2> <ul> <li>Enables support for reducing the number of documents processed in the changed feed when syncing using the 'changes_batch_size' property in app-config.json. This new setting will help sites that experience crashes when syncing or indexing documents. Using this setting <em>will</em> slow sync times. Default is 50. During recent tests, the following settings have been successful in syncing a location with over 12,700 docs that was experiencing crashes:</li> <li>"batchSize": 50</li> <li>"writeBatchSize": 50</li> <li>"changes_batch_size": 20</li> </ul> <p>Please do note that these particular settings do make sync very slow - especially for initial device sync. - Removed selector from push sync - was causing a crash on large databases. Using a filter instead in the push syncOptions to exclude '_design' docs from being pushed from the client. - Adds "Encryption Level" column to the Devices Listing, which shows if the device is running 'OS' encryption or 'in-app' encryption. - 'OS' encryption: Encryption provided by the device operating system; typically this is File-based (Android 10) or Full-disk encryption (Android 5 - 9). - 'in-app' encryption: Database is encrypted by Tangerine.</p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.4
./start.sh v3.17.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.3
</code></pre></div> <h2 id=v3173>v3.17.3<a class=headerlink href=#v3173 title="Permanent link">&para;</a></h2> <ul> <li>Automatically retry after failed sync. (<a href=https://github.com/Tangerine-Community/Tangerine/pull/2663>https://github.com/Tangerine-Community/Tangerine/pull/2663</a>)</li> <li>Do not associate form response with Event Form if only opened and no data entered.</li> <li>Fix issue causing Android Tablets using OS level encryption to spontaneously start using in-app encryption.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.3
./start.sh v3.17.3
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.2
</code></pre></div> <h2 id=v3172>v3.17.2<a class=headerlink href=#v3172 title="Permanent link">&para;</a></h2> <ul> <li>Add support for depending on Android Disk encryption as opposed to App Level encryption. Set <code>turnOffAppLevelEncryption</code> to <code>true</code> in <code>client/app-config.json</code>. Note that enabling this will not turn off App Level encryption for devices already installed, only new installations.</li> <li>Fix race condition data conflict on EventFormComponent that is triggered when opening and submitting a form quickly. Prevent data entry until Case is loaded to avoid conflicting Case save of a fast submit. </li> <li>Fix bug causing Device ID to not show up on About page on Devices.</li> <li>When syncing, push before pull to avoid having to analyze changes pulled down for push.</li> <li>Fix download links for archived APKs on Live channel.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.17.2
./start.sh v3.17.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.1
</code></pre></div> <h2 id=v3171>v3.17.1<a class=headerlink href=#v3171 title="Permanent link">&para;</a></h2> <ul> <li>Add support for Form Versions when it hasn't been used before by defaulting the first entry in formVersions when a form version isn't defined on a Form Response.</li> <li>Fix issue causing Device Admin user log in to fail.</li> <li>Restore missing <code>sectionDisable</code> function in skip logic for forms.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders.
docker start couchdb
docker start tangerine
# Fetch the updates.
git fetch origin
git checkout v3.17.1
./start.sh v3.17.1
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.17.0
</code></pre></div> <h2 id=v3170>v3.17.0<a class=headerlink href=#v3170 title="Permanent link">&para;</a></h2> <p><strong>New Features and Fixes</strong></p> <ul> <li>Device User Role access to Case Events and Event Forms <a href=https://github.com/Tangerine-Community/Tangerine/pull/2598>#2598</a></li> <li><a href=https://youtu.be/ntL-i8MVpew>Getting started with using Device User Roles</a></li> <li><a href=https://youtu.be/T0GfYHw6t6k>Demo: Device User role based access to Event Forms</a></li> <li><a href="https://www.youtube.com/watch?v=5okk6XrrfaA&feature=youtu.be">Demo: Device user role based permissions for Case Events</a></li> <li>Deactivate Case Participant API <a href=https://github.com/Tangerine-Community/Tangerine/pull/2594>#2594</a></li> <li><a href=https://youtu.be/Ulh-yCqfbFA>Demo: https://youtu.be/Ulh-yCqfbFA</a></li> <li>Data Collector with a single click opens all pages of a completed form response <a href=https://github.com/Tangerine-Community/Tangerine/issues/2596>#2596</a></li> <li><code>skip()</code> and <code>unskip()</code> functions are now available in <code>tangy-form</code> level <code>on-change</code> logic for skipping and unskipping sections, not inputs.</li> <li>Fix print form as table for some forms. (<a href=https://github.com/Tangerine-Community/Tangerine/pull/2568>https://github.com/Tangerine-Community/Tangerine/pull/2568</a>)</li> <li>Update the group icon on server <a href=https://github.com/Tangerine-Community/Tangerine/pull/2355>#2355</a></li> <li>Add window.uuid() API <a href=https://github.com/Tangerine-Community/Tangerine/pull/2595>#2595</a></li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders.
docker start couchdb
docker start tangerine
# Fetch the updates.
git fetch origin
git checkout v3.17.0
./start.sh v3.17.0
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.4
</code></pre></div> <h2 id=v3165>v3.16.5<a class=headerlink href=#v3165 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK setting have no effect. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2608>#2608</a></li> <li>Bug in CSV rendering for Tangerine Teach. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2635>#2635</a> new setting outputDisabledFieldsToCSV in groups doc</li> </ul> <p><strong>Developer Interest</strong></p> <p>There is now a content set for developing projects with the Class module enabled in content-sets/teach. Sets the following properties in app-config.json:</p> <ul> <li>"homeUrl": "dashboard"</li> <li>"uploadUnlockedFormReponses": true</li> </ul> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders. 
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.5
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.5
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.4
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3164>v3.16.4<a class=headerlink href=#v3164 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Warning about data sync: Any site that upgraded to v3.16.2 is at risk of having records stay on the tablet unless they upgrade to v3.16.3 or v3.16.4. After upgrading to v3.16.4, go to the Online Sync feature and click the new 'Advanced Options' panel. There are two new options for sync - Comparison Sync and Rewind Sync. Comparison sync enables the Sync feature to compare all document id's on the local device with the server and uploads any missing documents. Rewind Sync resets the sync "placeholder" to the beginning, ensuring that all docs are synced. It doesn't actually re-upload all docs; it instead checks that all docs have been uploaded. It is more thorough than Comparison Sync. Both of the features are for special cases and should not be used routinely. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2623>#2623</a></li> </ul> <p>There are two settings that can be configured for Comparison sync: - compareLimit (default: 150) - Document id's must be collected from both the tablet and server in order to calculate what documents need to be sync'd to the server. This setting limits the number of docs queried in each batch. - batchSize (default: 200) - Number of docs per batch when pushing documents to the server. This same configuration setting is used for normal sync, so please take care when making changes to it.</p> <p>This new "Comparison" option is very new and may have rough edges. In our experience, if the app crashes while using it, re-open the app and try again; chances are that it will work. If it consistently fails, lower the value for app-config.json's compareLimit property. </p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders.
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.4
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.3
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.3
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3163>v3.16.3<a class=headerlink href=#v3163 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li> <p>Warning about data sync: Any site that upgraded to v3.16.2 is at risk of having records stay on the tablet unless they upgrade to v3.16.3. After upgrading to v3.16.3, run the new "Push all docs to the server" feature available from the Admin Configuration menu item. This feature resets push sync to the beginning, ensuring that all docs are pushed. It doesn't actually re-upload all docs; it instead checks that all docs have been uploaded.</p> </li> <li> <p>Added "Push all docs to the server" feature to the Admin Configuration menu item.</p> </li> <li>Added Operating System and Browser Version to Device listing.</li> </ul> <p><strong>Fixes</strong> - Data collected after first registering and after updates fails to upload. Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2623>#2623</a></p> <p><strong>Server upgrade instructions</strong></p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders. 
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.3
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.3
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.2
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3162>v3.16.2<a class=headerlink href=#v3162 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Enables filtering of Case Event Schedule by Device's Assigned Location PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2591>#2591</a></li> </ul> <p><strong>Fixes</strong> - Enables editing of device description. Commit: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2613>#2613</a></p> <p><strong>Server upgrade instructions</strong></p> <p>If you want to enable filtered Case Event Schedule by Device's Assigned Location, add <code>filterCaseEventScheduleByDeviceAssignedLocation</code> to your groups' <code>app-config.json</code> set to a value of <code>true</code>.</p> <p>Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders. 
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.2
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.2
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.1
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3161>v3.16.1<a class=headerlink href=#v3161 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Improves sync stats and add "Export Device List" feature PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2610>#2610</a></li> </ul> <p><strong>Fixes</strong> - Fixes Editor form creation issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2605>#2605</a> and form copy issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2604>#2604</a> - Adds check for calculateLocalDocsForLocation before running update to index an index it depends upon. - Update tangy-form to 4.21.3, tangy-form-editor to 7.6.5 to fix dynamically set level tangy location not resuming correctly <a href=https://github.com/Tangerine-Community/tangy-form/pull/202>#202</a></p> <p><strong>Server upgrade instructions</strong> Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders. 
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.1
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.1
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.16.0
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3160>v3.16.0<a class=headerlink href=#v3160 title="Permanent link">&para;</a></h2> <p><strong>New Features</strong></p> <ul> <li>Warning about data sync: If you have implementations that have multiple tablets syncing from the same location, some docs may not be on all tablets due to issues with earlier versions of sync. This release resolves that particular issue and provides ways to ensure that all tablets share the same data. We have implemented several ways to rectify and understand potential data inconsistencies across tablets in the field:</li> <li> <p>After updating the server to 3.16.0 <em>and</em> after updating and syncing the clients, the Device dashboard will now display the number of docs on each tablet ("All Docs on Tablet") and the number of docs according to the device's Location configuration ("Form Responses on Tablet for Location"). </p> <ul> <li>Depending on the Configure/Sync settings, the "All Docs on Tablet" count may be close, but not exactly the same, since not all forms may be synced to the tablets.</li> <li>The "Form Responses on Tablet for Location" count should be the same for all tablets that share the same location configuration. Please note that "Form Responses on Tablet for Location" count needs to be activated by adding <code>"calculateLocalDocsForLocation": true</code> to app-config.json; also note that it has not been widely tested and may be unstable. (If you activate this feature, you may also add <code>"findSelectorLimit"</code> to modify how many batches are used to calculate this value. Default is 200. Lower is safer but slower.) </li> </ul> <p>These data points may help in identifying data inconsistencies. Remember - only after updating <em>and syncing</em> the tablets, will these new doc counts be populated with data in the Devices listing. Making a note of the document counts per tablet will help establish a baseline. - Next step would be to run the new "Force Full Sync" feature, which is implemented in two ways: - If you add the new <code>"forceFullSync" : true</code> setting in the group's app-config.json, the client will perform a full sync upon the next update. Since this takes time and Internet bandwidth, you may wish to notify users before enabling this feature. - When logging in as "admin" user on the client tablet, a new menu item called "Admin Configuration" will be visible below the "Settings" item. This new item enables manual operation of the "Force Full Sync" feature. It is labeled "Pull all docs from the server" in the user interface. - You may adjust the settings for how many documents "Force Full Sync" downloads at a time by adjusting the <code>initialBatchSize</code> property in app-config.json. The default is 1000 documents per batch. This setting is also used when performing the initial load of documents on a tablet. - Tangerine Release Archives: Every Tangerine APK or PWA release is saved and tagged. If your site is configured for archives (which is the default), you may download previous Android releases. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2567>#2567</a> - A "Description" field has been added to the Devices listing to faciliate identification of devices or groups of devices. <br> - <em>Beta Release</em> Mysql module: Data sync'd to Tangerine can be output to a MySQL database. Warning: This should not yet be deployed on a production server; the code for this feature is still in development. We recommend creating a separate server for the Tangerine/MySQL installation and replicate data from the production server to the Tangerine server that would provide the MySQL service. Docs: <code>docs/system-administrator/mysql-module.md</code> PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2531>#2531</a> - Devices listing offers more information about the sync process, including version, errors, and sync duration.</p> </li> </ul> <p><strong>Fixes</strong> - Changes to the sync code should improve sync stability and speed. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2592>#2592</a> You may configure certain sync properties: - initialBatchSize = (default: 1000) Number of documents downloaded in the first sync when setting up a device. - batchSize (default: 200) - Number of documents downloaded upon each subsequent sync. - writeBatchSize = (default: 50) - Number of documents written to the tablet during each sync batch. - Updated tangy-form-editor to v7.6.4, which improves functionality of <code>duplicate entire section</code>. PR: <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/173>#173</a> - Updates the Schedule View to use date-carousel 5.2.0 which provides unix timestamps instead of date strings. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2589>#2589</a> - Upgrade tangy-form to fix issue causing <code>on-open</code> of first items to not run when proposing changes in an Issue. - Deactivate App.checkStorageUsage if using Sync Protocol 2. This was not compatible and should not run. - Allow projects to disable GPS warming to save on battery with <code>disableGpsWarming</code> in <code>app-config.json</code>. - Add missing import of <code>editor/custom-scripts.js</code> when using editor so Data Dashboards can have imported JS files.</p> <p><strong>Server upgrade instructions</strong> Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Ensure git is initialized in all group folders. 
docker start couchdb
docker start tangerine
docker exec tangerine sh -c &quot;cd /tangerine/groups &amp;&amp; ls -q | xargs -i sh -c &#39;cd {} &amp;&amp; git init &amp;&amp; cd ..&#39;&quot;
# Fetch the updates.
git fetch origin
git checkout v3.16.0
# If you are enabling the new mysql module, follow the instructions in `docs/system-administrator/mysql-module.md` to update the config.sh file (steps 1 through 3)
# If you do not wish APK and PWA archives to be saved, set T_ARCHIVE_APKS_TO_DISK and/or T_ARCHIVE_PWAS_TO_DISK to false.
# Then return here before starting tangerine
# Now you are ready to start the server.
./start.sh v3.16.0
docker exec tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.6
# If setting up mysql return to step 5 in `docs/system-administrator/mysql-module.md`
</code></pre></div> <h2 id=v3158>v3.15.8<a class=headerlink href=#v3158 title="Permanent link">&para;</a></h2> <ul> <li>New Sync code reduces the number of network requests by disabling server checkpoints. It also supports three new app-config.json options to configure sync parameters that adjust data download size, how much data is written to the local database each batch, and initial data download:</li> <li>batchSize: Number of docs to pull from the server per batch. Increasing this setting will decrease the number of network requests to the server when doing a sync pull. Default: 200</li> <li>writeBatchSize: How many docs to write to the database at a time. If the database crashes, decreasing this option could be helpful. Default: 50</li> <li>useCachedDbDumps: Enables caching of the group database to a file for a single download to the client upon initial device setup. This is an experimental feature therefore it is not enabled by default. (Some server code is also currently disabled.) Those files are stored at data/groups/groupName/client/dbDumpFiles. At this point, you must delete the dbDumpFiles if you wish to update the data in the initial device load. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2560>2560</a></li> <li>Disable the v3.15.0 update from groups that use sync-protocol 1. </li> <li>Added <code>2021</code> to the report year.</li> <li>Added simple network statistics to the device replicationStatus, which is posted after every sync.</li> </ul> <p><strong>Server upgrade instructions</strong> Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.15.8
# Now you are ready to start the server.
./start.sh v3.15.8
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.7
</code></pre></div> <h2 id=v3157>v3.15.7<a class=headerlink href=#v3157 title="Permanent link">&para;</a></h2> <p><strong>New Features and Fixes</strong> - Fixes a bug in the CSV generation code that caused sections of rows in the CSV to output improperly. PR:<a href=https://github.com/Tangerine-Community/Tangerine/pull/2558>#2558</a> - Adds a server config that allows the user to control the string used for variables that are <code>undefined</code>: <code>T_REPORTING_MARK_UNDEFINED_WITH="UNDEFINED"</code> - The default value of the new config file is set to "ORIGINAL_VALUE" so existing Tangerine instances will not be effected.</p> <p><strong>Server upgrade instructions</strong> Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <p>Please add the below line into your config.sh to preserve current behavior (as a workaround for #2564) <div class=highlight><pre><span></span><code>T_REPORTING_MARK_UNDEFINED_WITH=&quot;&quot;
</code></pre></div></p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.15.7
# Now you are ready to start the server.
./start.sh v3.15.7
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.6
</code></pre></div> <h2 id=v3156>v3.15.6<a class=headerlink href=#v3156 title="Permanent link">&para;</a></h2> <p><strong>New Features and Fixes</strong> - New 'wakelock' feature for sync: When using the sync feature, the screen should not go to sleep or dim, enabling the sync process to proceed. This is especially useful during long sync processes. When you navigate to another page once Sync is complete, the wakeLock feature is disabled. - The Devices listing has a new option, "View Sync Log", which enables viewing status of the most recent replication, when available.<br> - Added error messages when internet access drops during a sync. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2540>#2540</a> - Batch size for sync is configurable via <code>pullSyncOptions</code> and <code>pushSyncOptions</code> variable in a group's app-config.json. Default is 200. If the value is set too high, the application will crash.</p> <p><strong>Server upgrade instructions</strong> Reminder: Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.15.6
# Now you are ready to start the server.
./start.sh v3.15.6
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.5
</code></pre></div> <h2 id=v3155>v3.15.5<a class=headerlink href=#v3155 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - In CSV output, if a section on a form is opened and then the later skipped, inputs on that skipped section will appear in CSV output as skipped. However, if the section is never opened, the inputs would show up in the CSV as blank values. This fix ensures that these remaining inputs are marked as skipped in CSV output. - Fix sync from breaking when syncing with a group with no data yet. - Improve messaging during sync by removing floating change counts and showing the total number of docs in the database after sync.</p> <p><strong>Server upgrade instructions</strong> Consider using the <a href=https://docs.tangerinecentral.org/system-administrator/upgrade-checklist.html>Tangerine Upgrade Checklist</a> for making sure you test the upgrade safely.</p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.15.5
# Now you are ready to start the server.
./start.sh v3.15.5
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.4
</code></pre></div> <h2 id=v3154>v3.15.4<a class=headerlink href=#v3154 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - Sync: Sites with large datasets were crashing; therefore, we implemented a new sync function that syncs batches of documents to the server. PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2532>#2532</a></p> <p><strong>Server upgrade instructions</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.15.4
# Now you are ready to start the server.
./start.sh v3.15.4
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.3
</code></pre></div> <h2 id=v3153>v3.15.3<a class=headerlink href=#v3153 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong> - After a large sync in sync protocol 2, improve overall app performance by indexing database queries. Because this may cause a long sync for projects not using this, you can set <code>indexViewsOnlyOnFirstSync</code> in <code>app-config.json</code> to <code>true</code> if you want to allow existing tables to avoid this long sync to catch up on views. - Add missing <code>custom-scripts.js</code> and <code>custom-styles.css</code> files to Editor app. We also add <code>editor</code> and <code>client</code> ID's to the body tag of the two app respectively. - Reduce database merge conflicts by preventing form responses from saving after completed. Prior to this version, on two tablets (or on a tablet and the server) if you opened the same form response and opened an item to inspect, it would cause a save on both tablets resulting in an unnesessary merge conflict. - New <code>T.case.getCaseHistory(caseId)</code> function for getting the history of save for a Case. Returns an array of JSON patches in RFC6902 format. Open a Case and run <code>await T.case.getCaseHistory()</code> in the console and it will pick up on the context. - New <code>T.case.getEventFormHistory(caseId, caseEventId, eventFormId)</code> function for getting the history of save for a form response in a Case. Returns an array of JSON patches in RFC6902 format. Open a Case, a Case Event, then an Event Form and run <code>await T.case.getEventFormHistory()</code> in the console and it will pick up on the context. - New opt-in <code>app-config.json</code> setting <code>attachHistoryToDocs</code> for enabling upload all history of Case and Event Form edits on a Tablet up to the Server. Without this setting on, the server only sees the history starting from time of upload. Note this has an impact on upload size of at least doubling it when turned on.</p> <p><strong>Important configuration notice</strong> - Set <code>indexViewsOnlyOnFirstSync</code> in <code>app-config.json</code> to <code>true</code> if you want to allow existing tables to avoid this long sync to catch up on views.</p> <p><strong>Server upgrade instructions</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.15.3
# Now you are ready to start the server.
./start.sh v3.15.3
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.2
</code></pre></div> <h2 id=v3152>v3.15.2<a class=headerlink href=#v3152 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Rshiny module: Replaces hard-coded underscore separator with the configurable <code>sep</code> variable. </li> <li>Error when processing CSV's: <a href=https://github.com/Tangerine-Community/Tangerine/issues/2517>2517</a></li> </ul> <p><strong>Important configuration notice</strong></p> <p>The v3.15.0 release included an update to the Editor Search feature <a href=https://github.com/Tangerine-Community/Tangerine/issues/2416>#2416</a> that requires adding a <code>searchSettings</code> property to forms.json. In addition to running the upgrade script for v3.15.0; you must also make sure that <em>all</em> forms in a group's forms.json have <code>searchSettings</code> configured, especially the <code>shouldIndex</code> property. Examples are in the <a href=./docs/editor/case-module/README.md#configuring-text-search>Case Module README</a> "Configuring Text Search" section.</p> <p><strong>Server upgrade instructions</strong></p> <div class=highlight><pre><span></span><code>cd tangerine
# Check the size of the data folder.
du -sh data
# Check disk for free space. Ensure there is at least 10GB + size of the data folder amount of free space in order to perform the upgrade.
df -h
# Turn off tangerine and database.
docker stop tangerine couchdb
# Create a backup of the data folder.
cp -r data ../data-backup-$(date &quot;+%F-%T&quot;)
# Fetch the updates.
git fetch origin
git checkout v3.15.2
# Now you are ready to start the server.
./start.sh v3.15.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.1
</code></pre></div> <h2 id=v3151>v3.15.1<a class=headerlink href=#v3151 title="Permanent link">&para;</a></h2> <p><strong>Fixes</strong></p> <ul> <li>Prevent opening of Event Forms on Editor when there is no corresponding Form Response available. </li> <li>Fix Issue type detection when deciding what is going to be in the 'current' tab. </li> <li>Update CSV output for signatures to be 'signature captured' and ''.</li> <li>Fix Issues view causing Issue search result to appear once per event such as comment or proposal. </li> <li>Integrate fixes in v3.14.6 including <code>T.case.isIssueContext()</code> API, and better API partity between being in an Event Form in a Case and being in an Event Form in an Issue.</li> </ul> <p><strong>Server upgrade instructions</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.15.1
# Now you are ready to start the server.
./start.sh v3.15.1
docker exec -it tangerine push-all-groups-views  
docker exec -it tangerine reporting-cache-clear  
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.15.0
</code></pre></div> <h2 id=v3150>v3.15.0<a class=headerlink href=#v3150 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features and fixes</strong></li> <li>Editor User searches Cases by keyword <a href=https://github.com/Tangerine-Community/Tangerine/issues/2416>#2416</a> - This feature enables searching by any of the variables assigned in searchSettings/variablesToIndex in forms.json. </li> <li>Transfer Participant between Cases <a href=https://github.com/Tangerine-Community/Tangerine/issues/2419>#2419</a>. Find Participant UI: <a href=https://github.com/Tangerine-Community/Tangerine/pull/2439>#2439</a>.</li> <li>Update to <a href=https://github.com/Tangerine-Community/Tangerine/blob/release/v3.15.0/docs/editor/content-sets.md>Content Set 2.1</a> adds a package.json and build step to pin lib versions and add a build step for custom-scripts.</li> <li>Added error message to Updates error alert. <a href=https://github.com/Tangerine-Community/Tangerine/commit/ccc186425bcdce0d596da34781ca36a3cf6dfbc2>ccc1864 </a></li> <li>New "Release Online Survey" menu on Server allows you to release a single form for data collection online. Note the original "Deploy -&gt; Release" menu item has been moved to "Deploy -&gt; Release Offline App".</li> <li>Fixed issue where "Tangy Gate" form element could be added in Editor but would not appear on Tablets.</li> <li>Support for new "<tangy-ethio-date>" element that brings a Partial Date style form element with support for the Ethiopian Calendar.</li> <li> <p>If using Sync Protocol 2, the first sync when registering a Device is now faster in cases where there is a lot of data already collected. Also the blank User Profile created for the Admin user on a device is no longer uploaded resulting in less noise in the Device Users list.</p> </li> <li> <p><strong>Important deprecation notice</strong></p> </li> <li>The groupName property, once used in app-config.json, is no longer supported in recent releases of Tangerine. The groupId property is used in its place. Groups that use groupName will not be able to sync; they must migrate to groupId. This issue affects groups using sync-protocol-1. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2447>#2447</a></li> <li>When form responses are unlocked in a Data Issue, the <code>on-submit</code> hook no longer runs. If you need logic to run, use the new <code>on-resubmit</code> hook.</li> <li>If using Sync Protocol 2, the "Auto Merge" feature that tries to fix database conflicts is now off by default and database conflicts will not be logged as Issues. If you would like to keep it on, set <code>"autoMergeConflicts": true</code> in your group's <code>client/app-config.json</code> file. However be aware that turning this on will result in inconsistent results (<a href=https://github.com/Tangerine-Community/Tangerine/issues/2484>https://github.com/Tangerine-Community/Tangerine/issues/2484</a>). Monitoring for database conflicts can now be done by monitoring the <code>syncConflicts</code> view via CouchDB Fauxton.</li> </ul> <p><strong>Server upgrade instructions:</strong> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.15.0
# Now you are ready to start the server.
./start.sh v3.15.0
# Update the views - there are new views for Searches and Participant Transfers.
docker exec -it tangerine reporting-cache-clear 
docker exec -it tangerine /tangerine/server/src/upgrade/v3.15.0.js
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.14.6
</code></pre></div></p> <h2 id=v3146>v3.14.6<a class=headerlink href=#v3146 title="Permanent link">&para;</a></h2> <p>Changes in v3.14.4 were abandoned, changes in v3.14.5 have been rolled into v3.15.0. The following are changes for v3.14.6.</p> <ul> <li>Improve first sync performance: On first sync, skip push but set the last push variable to whatever we left on after the first pull.</li> <li>Improve in-form API parity between context of a Case and context of an Issue proposal. Sets case context in more scenarious inside of Issue Form proposals.</li> <li>Prevent form crashes and unintentional logic by adding the new <code>T.case.isIssueContext()</code> API for detecting if in the Issue context in a form.</li> </ul> <p><strong>Server upgrade instructions:</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.14.6
# Now you are ready to start the server.
./start.sh v3.14.6
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.14.3
</code></pre></div> <h2 id=v3143>v3.14.3<a class=headerlink href=#v3143 title="Permanent link">&para;</a></h2> <ul> <li><strong>Bugfix</strong></li> <li>Auto-merged conflicts overwrite "canonical" change made on Editor server <a href=https://github.com/Tangerine-Community/Tangerine/issues/2441>#2441</a> - Prevents tablets from overwriting documents from Editor in special cases. After modifying the case record, add canonicalTimestamp to the document: <code>"canonicalTimestamp":1603854576785</code></li> <li><strong>New Features and fixes for all Tangerine</strong></li> <li>Reduce number of unnecessary saves in Editor <a href=https://github.com/Tangerine-Community/Tangerine/issues/2444>#2444</a></li> <li>Improvements to Issues Listing <a href=https://github.com/Tangerine-Community/Tangerine/issues/2398>#2398</a> Please update the group views (noted in the Server upgrade instructions below) in order to use the Issues Listing.</li> <li><strong>Upgrades in the Developers' Interest</strong></li> <li>Removed webpack from the Docker image. Custom apps should build their apps using their own webpack; the APK service will no longer perform that task. </li> </ul> <p><strong>Server upgrade instructions:</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.14.3
# Now you are ready to start the server.
./start.sh v3.14.3
# Update the views - there is a new view used for Issues.
docker exec -it tangerine push-all-groups-views
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.14.2
</code></pre></div> <h2 id=v3142>v3.14.2<a class=headerlink href=#v3142 title="Permanent link">&para;</a></h2> <ul> <li><strong>Bugfix</strong></li> <li>Fixes file path issue when bundling custom scripts in APK's.</li> </ul> <p><strong>Server upgrade instructions:</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.14.2
# Now you are ready to start the server.
./start.sh v3.14.2
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.14.1
</code></pre></div> <h2 id=v3141>v3.14.1<a class=headerlink href=#v3141 title="Permanent link">&para;</a></h2> <p>This is identical to v3.14.0 but was released to fix a problem with tangerine-preview v3.14.0 on npm.</p> <h2 id=v3140>v3.14.0<a class=headerlink href=#v3140 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features and fixes for all Tangerine</strong></li> <li><strong>Usability Improvement for Device Registration</strong>: Added "Number of devices to generate" field to Device Registration. Submitting a single form to add multiple devices to a group should simplify large deployments. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2402>#2402</a></li> <li><strong>Important bugfix for sync issue in poor network situations</strong>: If you currently have an active 3.13 deployment, run the 3.14 update on client to make sure all data is sync'd to the server. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2399>#2399</a></li> <li><strong>Automatic conflict resolution on client</strong>: Basic support for automatic merges of conflicts in EventForms. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2272>#2272</a> Documentation for <a href=https://github.com/Tangerine-Community/Tangerine/blob/master/docs/developer/testing-conflicts.md>testing conflicts</a></li> <li><strong>Form version support</strong>: Enables use of previous form versions for form display. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2365>#2365</a> Support for versioning is not yet implemented in the Editor; however, there is documentation on <a href=https://github.com/Tangerine-Community/Tangerine/blob/master/docs/editor/form-versions.md>how to implement form versions</a> manually.</li> <li><strong>User Interface updates</strong>: The 4.19.0 tangy-form lib version features the following fixes:<ul> <li>Required Field Asterisk (*) does not align with the question text <a href=https://github.com/Tangerine-Community/Tangerine/issues/2363>#2363</a></li> <li>Error Text and Warning Text have the same style - this is confusing for users <a href=https://github.com/Tangerine-Community/Tangerine/issues/2364>#2364</a></li> </ul> </li> <li><strong>Setting packageName in app-config.json causes app to crash</strong>: The docker-tangerine-base-image update to 3.7.0 improves Android and Cordova lib dependencies, and the release-apk code now rebuilds the Android code whenever an APK is built. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2366>#2366</a></li> <li><strong>New module for rshiny development</strong>: Adds option to csv module to change delimiter from '.' to '_'<a href=https://github.com/Tangerine-Community/Tangerine/issues/2314>#2314</a></li> <li><strong>Documentation Update</strong>: Re-organization of some documentation and addition of missing image files. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2401>#2401</a></li> <li><strong>Upgrades in the Developers' Interest</strong></li> <li><strong>Upgraded docker-tangerine-base-image to v3.7.1</strong>: Upgrade to Android API_LEVEL 30, Cordova 10, node:14.12.0-stretch. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1890>#1890</a> Caching cordova-android platform to avoid network issues when customizing packageName. <a href=https://github.com/Tangerine-Community/docker-tangerine-base-image/issues/7>#7</a></li> <li><strong>Important note for users of tangerine-preview</strong> There was a problem with v3.14.0 on npm; therefore, please use tangerine-preview v3.14.1.</li> </ul> <h2 id=v3131>v3.13.1<a class=headerlink href=#v3131 title="Permanent link">&para;</a></h2> <ul> <li>Fix: Issues on Editor always ask us to rebase <a href=https://github.com/Tangerine-Community/Tangerine/issues/2376>#2376</a></li> <li>Fix: Issues screen will not load after upgrading from v3.10.0 to v3.13.0 <a href=https://github.com/Tangerine-Community/Tangerine/issues/2378>#2378</a></li> <li>Fix: Issues go missing after upgrading to v3.13.0 from v3.12.x <a href=https://github.com/Tangerine-Community/Tangerine/issues/2377>#2377</a></li> <li>Please be aware: this release was made in the release/v3.13.1-alt branch and to date has only been built as the v3.13.1-rc-2 image.</li> </ul> <p><strong>Server upgrade instructions:</strong></p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.13.1
# Now you are ready to start the server.
./start.sh v3.13.1
# Run upgrade
docker exec -it tangerine /tangerine/server/src/upgrade/v3.13.1.js
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.13.0
</code></pre></div> <h2 id=v3130>v3.13.0<a class=headerlink href=#v3130 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features and fixes for all Tangerine</strong></li> <li><strong>Download Location List as CSV</strong>: You can now download a location list as a CSV. If you prefer editing a Location List via something like Excel, this makes editing an existing location list easier, which can then be imported when done editing in Excel. <em>Note:</em> Advise careful use of this export feature until <a href=https://github.com/Tangerine-Community/Tangerine/issues/2336>#2336</a> is fixed. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2107>#2107</a></li> <li><strong>Duplicate a Section</strong>:When editing a form, you can now easily duplicate an entire section with the "duplicate section" button. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2109>#2109</a>. Warning - this feature does not handle complex objects such as tangy checkbox groups well; be sure to check the code it generates. This issue will be addressed in the next 3.13 point release.</li> <li><strong>Group Data Dashboard in Editor</strong>: "Dashboard" is now a menu item available in a Group under the Data menu. This link can be enabled by group role (disabled by default). When on the Dashboard page, it displays a customizable dashboard for that specific group. Customizing Dashboards currently requires HTML and Javascript knowledge but in the future we may build a configurator for Dashboards.</li> <li><strong>More Menu Permissions in Editor</strong>:Add additional Editor permissions to completely cover menu level access in a group</li> <li><strong>Automatic conflict resolution</strong>: After a sync pull on client, detects type of conflict and resolves it. View status of merges in the Issues feature. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1763>#1763</a></li> <li><strong>Fix extending session in Editor</strong> - When prompted to extend session shows up session is not really extended. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2266>#2266</a></li> <li><strong>New Features and Fixes for Case Module</strong></li> <li><strong>Client "Issues" feature</strong>: "Issues" previously could only be viewed using Editor. With this release, Issues can now be accessed from Client in a Case module enabled Group via the top level "Issues" tab. This tab can be disabled adding or modifying <code>"showIssues": false,</code> to app-config.json. Note that only issues created targeting the "CLIENT" context (See CaseService API documentation) will show up in the Client "Issues" tab.</li> <li><strong>Easier searching on Client</strong>: Previously on Client when searching for "Facility 8" you would need to type exactly "Facility 8". Now search is case insensitive and you may type "facility 8" to match against "Facility 8".</li> <li><strong>T.case.setEventWindow API fix</strong>: Previously when setting an Event window, the end time for the window was mistakenly ignored and set to the start time. This is now fixed. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2304>#2304</a></li> <li><strong>New Features for Sync Protocol 2 Module</strong></li> <li><strong>Export device sheets</strong>: When registering Devices, we now offer an option to print "Device Sheets". Device Sheets include the registration codes for a Device and also some human readable metadata. Each row can also be used as a label for each device that can be fastened to a device using affordable clear packing tape. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2269>#2269</a></li> <li><strong>Restore Backup on Android Tablet</strong>: Backups can now be restored. Restore is an option when first opening a freshly installed APK. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2127>#2127</a></li> <li><strong>Better support for working on the same Case on two devices</strong>: When working offline on the same Case on two Devices, after a sync, it may seem like the changes on one Tablet have gone missing for some time until the "database conflicts" are resolved using the CouchDB Futon interface on the server. Starting in v3.13.0 we'll start to employ algorithms for automatically merging to speed up the process of resolving these database conflicts.</li> <li><strong>Notes for System Administrators</strong></li> <li>After upgrade, you will no longer find group content directories in <code>./data/client/content/groups/</code>, they will be in <code>./data/groups/</code>. Inside each group's directory you will also find they have been split into a <code>client</code> and <code>editor</code> directory. All previous content will now be in the <code>client</code> directory while you may place content for the Group's Data Dashboard in the <code>editor</code> folder.</li> </ul> <p><strong>Server upgrade instructions:</strong></p> <p>This update changes the path to group content to <code>/tangerine/groups/${groupId}/client</code>. If your group is managing content via a Github/cron integration, you will need to change the path to content in its cron job. Change <code>GROUP-UUID</code> to your group id in the following command:</p> <div class=highlight><pre><span></span><code>cd /home/ubuntu/tangerine/data/groups/GROUP-UUID/client &amp;&amp; GIT_SSH_COMMAND=&#39;ssh -i /root/.ssh/arc-forms-dev&#39; git pull origin master &amp;&amp; git add . &amp;&amp; git commit -m &#39;auto-commit&#39; &amp;&amp; GIT_SSH_COMMAND=&#39;ssh -i /root/.ssh/arc-forms-dev&#39; git push origin master
</code></pre></div> <p>The update:</p> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.13.0
# Now you are ready to start the server.
./start.sh v3.13.0
# Run upgrade
docker exec -it tangerine /tangerine/server/src/upgrade/v3.13.0.js
# Add or modify `&quot;showIssues&quot;: false,` to the group&#39;s app-config.json if you do not want to display the Issues tab in client.
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.12.0
</code></pre></div> <h2 id=v3125>v3.12.5<a class=headerlink href=#v3125 title="Permanent link">&para;</a></h2> <ul> <li>Fixed issue with black screen when moving from p2p tab to home</li> </ul> <h2 id=v3124>v3.12.4<a class=headerlink href=#v3124 title="Permanent link">&para;</a></h2> <ul> <li>Fixed issue with QR code boundary boxes in tangy-form <a href=https://github.com/Tangerine-Community/tangy-form/issues/158>#158</a>. Bumped tangy-form v4.17.10 and tangy-form-editor to 7.2.5</li> </ul> <h2 id=v3123>v3.12.3<a class=headerlink href=#v3123 title="Permanent link">&para;</a></h2> <ul> <li>Fixed issue with mutually exclusive checkboxes in tangy-form <a href=https://github.com/Tangerine-Community/tangy-form/issues/154>#154</a>. Bumped tangy-form v4.17.9 and tangy-form-editor to 7.2.3</li> </ul> <h2 id=v3122>v3.12.2<a class=headerlink href=#v3122 title="Permanent link">&para;</a></h2> <ul> <li>When saving edits to a form, "Show if" logic has been written as <code>tangy-if</code> logic in the HTML. Form now on it will be written as <code>show-if</code> logic for consistency.</li> <li><code>tangy-if</code> logic in has in the past in just showing/hiding an question on a form. It will now also reset the value if there is input and it is then hidden.</li> <li>In v3.12.0, <code>caseService.getCurrentCaseEventId()</code> was incorrectly removed. It has been added back, and an additional <code>caseService.getCurrentEventFormId()</code> function has been added for consistency.</li> <li>Fix Android 10 compatibility issue with P2P Sync mechanism causing tablets to crash.</li> </ul> <h2 id=v3121>v3.12.1<a class=headerlink href=#v3121 title="Permanent link">&para;</a></h2> <ul> <li>Change behavior of <code>show-if</code> logic so that when a question hides, the value is reset.</li> <li>Adjust behavior of how Event Forms are added: If <code>EventForm.autoPopulate</code> is left undefined and required is true, then the form should be added.</li> </ul> <h2 id=v3120>v3.12.0<a class=headerlink href=#v3120 title="Permanent link">&para;</a></h2> <ul> <li>New Features for Case Module</li> <li>Data Collector finds Event Forms are automatically created on Case Event creation and after adding a Participant <a href=https://github.com/Tangerine-Community/Tangerine/issues/2147>#2147</a> [<a href=https://youtu.be/cNZhLNEKq0A>Demo</a>]</li> <li>Data Collector has found a non required form has become required <a href=https://github.com/Tangerine-Community/Tangerine/issues/2233>#2233</a><ul> <li>Demo Part 1: <a href=https://youtu.be/dnJk4LaGuQw>https://youtu.be/dnJk4LaGuQw</a></li> <li>Demo Part 2: <a href=https://youtu.be/I0JOZounZc4>https://youtu.be/I0JOZounZc4</a></li> </ul> </li> <li>Data Collector finds Case Event is automatically marked as complete <a href=https://github.com/Tangerine-Community/Tangerine/issues/2235>#2235</a> [<a href=https://youtu.be/AsWox69W9vY>Demo</a>]</li> <li>Data Collector sees indicator on Event Form when corresponding Form Response has not been synced to a device <a href=https://github.com/Tangerine-Community/Tangerine/issues/2232>#2232</a> [<a href=https://youtu.be/0nEHvO6Wdy0>Demo</a>]</li> <li>Data Collector views a dedicated page for a Participant's Event Forms for a specific Case Event <a href=https://github.com/Tangerine-Community/Tangerine/issues/2236>#2236</a> [<a href=https://youtu.be/0qrpnRM43gg>Demo</a>]</li> <li>Data Collector is redirected to custom route after Event Form is submitted <a href=https://github.com/Tangerine-Community/Tangerine/issues/2237>#2237</a> [<a href=https://youtu.be/AoowqmZzMOM>Demo</a>]</li> <li>Fixes for Case Module</li> <li>Device User registering only sees user profiles they can associate with restricted by location the Device is assigned <a href=https://github.com/Tangerine-Community/Tangerine/issues/2248>#2248</a></li> <li>When all optional and incomplete forms are removed (no required forms in the event) from an event on the client the + button is not shown to re-add any of them <a href=https://github.com/Tangerine-Community/Tangerine/issues/2113>#2113</a></li> <li>Delete an incomplete form from a case does not refresh the screen <a href=https://github.com/Tangerine-Community/Tangerine/issues/2114>#2114</a></li> <li>Fixes for all of Tangerine</li> <li>Autostop is not triggered when marking the entire lineas incorrect <a href=https://github.com/Tangerine-Community/Tangerine/issues/1869>#1869</a></li> <li>Mark entire line of grid as incorrect cannot be undone <a href=https://github.com/Tangerine-Community/Tangerine/issues/1651>#1651</a></li> <li>Meta data print screen Prompt and Hint are not displayed for Radio Buttons (single type) <a href=https://github.com/Tangerine-Community/Tangerine/issues/1748>#1748</a></li> <li>Form Metadata view of Checkboxes with one option is missing <a href=https://github.com/Tangerine-Community/Tangerine/issues/2239>#2239</a></li> <li>New features for Sync Protocol 2</li> <li> <p>Restore encrypted backup on Device <a href=https://github.com/Tangerine-Community/Tangerine/issues/2127>#2127</a></p> </li> <li> <p>API Changes for Case Module</p> </li> <li><code>caseEvent.status</code> is now <code>caseEvent.complete</code> which has a value of <code>true</code> or <code>false</code> as opposed to the status strings.</li> <li><code>caseService.startEventForm(...)</code> is now <code>caseService.createEventForm(...)</code>.</li> <li><code>caseService.deleteEventFormInstance(...)</code> is now <code>caseService.deleteEventForm(...)</code>.</li> <li><code>caseService.getCaseEventFormsData(...)</code> is now <code>caseService.getEventFormData(...)</code>.</li> <li><code>caseService.setCaseEventFormsData(...)</code> is now <code>caseService.setEventFormData(...)</code>.</li> </ul> <p><strong>Server upgrade instructions:</strong></p> <p><div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.12.0
# Now you are ready to start the server.
./start.sh v3.12.0
# Run upgrade
docker exec -it tangerine reporting-cache-clear 
# Remove Tangerine&#39;s previous version Docker Image.
docker rmi tangerine/tangerine:v3.11.0
</code></pre></div> Note that after running the upgrade script, your reporting caches may take some time to finish rebuilding.</p> <p><strong>Android upgrade instructions:</strong> If you are upgrading an Android device that was installed with Tangerine v3.8.0 or greater, you will need to regenerate your APK and reinstall, otherwise you may use the over the air updater.</p> <h2 id=v3110>v3.11.0<a class=headerlink href=#v3110 title="Permanent link">&para;</a></h2> <ul> <li>New Features in all Tangerine</li> <li>Device Manager installs many Tangerine APKs on a single device <a href=https://github.com/Tangerine-Community/Tangerine/issues/2182>#2182</a></li> <li>CSV output enhancements:<ul> <li>Editor User indicates whether to include PII in CSV export <a href=https://github.com/Tangerine-Community/Tangerine/issues/1771>#1771</a></li> <li>User profile information available in CSV export <a href=https://github.com/Tangerine-Community/Tangerine/issues/2081>#2081</a></li> <li>Editor User exports CSV file that contains the group and form name <a href=https://github.com/Tangerine-Community/Tangerine/issues/2108>#2108</a></li> </ul> </li> <li>New 'T' namespace for helper functions <a href=https://github.com/Tangerine-Community/Tangerine/issues/2198>#2198</a></li> <li>New Features in Tangerine with Case Module enabled</li> <li>Data Collector changes location of Case <a href=https://github.com/Tangerine-Community/Tangerine/issues/20980>#2098</a> [<a href=https://youtu.be/kqf63PGudwc>demo</a>]</li> <li>Data Collector views an alert <a href=https://github.com/Tangerine-Community/Tangerine/issues/2020>#2020</a> [<a href=https://youtu.be/iw1emB9Ddis>demo</a>]</li> <li>Data Collector views custom report <a href=https://github.com/Tangerine-Community/Tangerine/issues/2143>#2143</a> <a href=https://docs.tangerinecentral.org/editor/case-module/custom-case-reports.md>docs</a></li> <li>Developer notes</li> <li>Group permissions <a href=https://github.com/Tangerine-Community/Tangerine/pull/2187>#2187</a></li> </ul> <p><strong>Server upgrade instructions:</strong></p> <p><div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.11.0
# Now you are ready to start the server.
./start.sh v3.11.0
# Run upgrade
docker exec -it tangerine /tangerine/server/src/upgrade/v3.11.0.js
</code></pre></div> Note that after running the upgrade script, your reporting caches may take some time to finish rebuilding.</p> <p><strong>Android upgrade instructions:</strong> If your groups are using Sync Protocol 2 module, an APK reinstall is required. Release the APK and reinstall on all Android Devices. If your groups are not using Sync Protocol 2, you may upgrade Android tablets over the air using the usual release process.</p> <h2 id=v3100>v3.10.0<a class=headerlink href=#v3100 title="Permanent link">&para;</a></h2> <ul> <li>New Features in all Tangerine</li> <li>Editor User updates own profile and/or password <a href=https://github.com/Tangerine-Community/Tangerine/issues/2166>#2166</a> [<a href=https://github.com/Tangerine-Community/Tangerine/issues/2166#issue-630070570>demo</a>]</li> <li>Editor User with appropriate permission manages site level permissions of users and edits details and password of user <a href=https://github.com/Tangerine-Community/Tangerine/issues/2155>#2155</a> [<a href=https://youtu.be/Nz8Cu--Ek1E>demo</a>]</li> <li>Editor User views question configuration by category (as opposed to long list) <a href=https://github.com/Tangerine-Community/Tangerine/issues/2097>#2097</a> [<a href=https://github.com/Tangerine-Community/Tangerine/issues/2097#issue-611877603>demo</a>]</li> <li>Server Admin creates group on command line with local or remote content set <a href=https://github.com/Tangerine-Community/Tangerine/issues/2174>#2174</a><ul> <li><a href=https://youtu.be/dGo4C90aAto>Demo: Server Admin creates group on command line from local or remote content set</a></li> <li><a href=https://youtu.be/OhyCse2jT4M>Demo: Server Admin creates group on command line from content set in a private repository on Github</a></li> </ul> </li> <li>New Features in Tangerine with Case Module enabled</li> <li>Tangerine User views form response in alternative templates <a href=https://github.com/Tangerine-Community/Tangerine/issues/2176>#2176</a> [<a href=https://youtu.be/f9gGjXDeiuw>demo</a>]</li> <li>Data Manager manages Data Issues <a href=https://github.com/Tangerine-Community/Tangerine/issues/1982>#1982</a> [<a href=https://youtu.be/vJRd_MIE2yo>demo</a>]</li> <li>Data Manager rebases proposed changes in Issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2179>#2179</a> [<a href=https://youtu.be/hChZgxOko2k>demo</a>]</li> <li>Data Manager creates Data Issue <a href=https://github.com/Tangerine-Community/Tangerine/issues/2144>#2144</a> [<a href=https://youtu.be/1yQBI5iPYS0>demo</a>]</li> <li>Data Collector causes Issue to be created due to use of API in the form <a href=https://github.com/Tangerine-Community/Tangerine/issues/2145>#2145</a> [<a href=https://youtu.be/sgGRS110qq4>demo</a>]</li> <li>Data Collector causes Issue to be created due to <code>discrepancy-if</code> logic in form <a href=https://github.com/Tangerine-Community/Tangerine/issues/2171>#2171</a> [<a href=https://youtu.be/GSQfP-6HBiY>demo</a>]</li> <li>Synapse consumes structured outputs based on Case ER Diagram <a href=https://github.com/Tangerine-Community/Tangerine/issues/2051>#2051</a></li> <li>New features in Tangerine with Sync Protocol 2 Enabled</li> <li>Improve two-way sync efficiency in PouchDB by using <code>doc_ids</code> filter as opposed to mango query <a href=https://github.com/Tangerine-Community/Tangerine/issues/2040>#2040</a></li> <li>Developer notes</li> <li>Resolve problems with client compilation in Angular <a href=https://github.com/Tangerine-Community/Tangerine/issues/2091>#2091</a></li> </ul> <p><strong>Upgrade instructions:</strong> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.10.0
# Now you are ready to start the server.
./start.sh v3.10.0
# Run upgrade
docker exec -it tangerine /tangerine/server/src/upgrade/v3.10.0.js
</code></pre></div></p> <h2 id=v391>v3.9.1<a class=headerlink href=#v391 title="Permanent link">&para;</a></h2> <ul> <li>Fixes</li> <li>Database views are missing when running <code>tangerine-preview</code> or <code>npm start</code> <a href=https://github.com/Tangerine-Community/Tangerine/issues/2096>#2096</a></li> <li>Event Schedule day view duplicates day event and show it in previous day as well <a href=https://github.com/Tangerine-Community/Tangerine/issues/2103>#2103</a></li> <li>According to date carousel, events appear off by one week <a href=https://github.com/Tangerine-Community/Tangerine/issues/2094>#2094</a></li> <li>Event Schedule templates are failing <a href=https://github.com/Tangerine-Community/Tangerine/issues/2085>#2085</a></li> <li>Reports form is not added to forms.json <a href=https://github.com/Tangerine-Community/Tangerine/issues/2088>#2088</a></li> <li>Events appear off by one day in Schedule List <a href=https://github.com/Tangerine-Community/Tangerine/issues/2101>#2101</a></li> <li>CouchDB port should be configurable in config.sh <a href=https://github.com/Tangerine-Community/Tangerine/issues/2092>#2092</a></li> <li>When opening the schedule view the first page is missing the header dates <a href=https://github.com/Tangerine-Community/Tangerine/issues/2082>#2082</a></li> <li>Data Collector unable to open an Event from the Event Schedule <a href=https://github.com/Tangerine-Community/Tangerine/issues/2102>#2102</a></li> <li>When editing a radio button options in editor, options should be in one column, not two <a href=https://github.com/Tangerine-Community/Tangerine/issues/2090>#2090</a></li> </ul> <h2 id=v390>v3.9.0<a class=headerlink href=#v390 title="Permanent link">&para;</a></h2> <ul> <li>Features</li> <li>Set and get properties for Case Event Forms <a href=https://github.com/Tangerine-Community/Tangerine/issues/2023>#2023</a></li> <li>Data Manager reviews Cases <a href=https://github.com/Tangerine-Community/Tangerine/pull/2011>PR</a></li> <li>Data Collector removes Event Form. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2026>PR</a></li> <li>Fixes</li> <li>Fix additional memory leaks in Case module causing tablets to slow down. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2025>PR</a></li> <li>Make <code>getValue()</code> function in Event Form List Item related templates less likely to crash. <a href=https://github.com/Tangerine-Community/Tangerine/pull/2018/files#diff-c26fa38f2c0963295bb906bd95baf8b0L50>change</a></li> <li>Fixed incompatibilities with 2-way sync and P2P Sync. </li> <li>Fixed issue causing tablets to crash when syncing with a database with tens of thousands of records.</li> <li>Developer notes</li> <li>Editor and Clients upgraded to Angular 8.</li> <li>Changes</li> <li>Due to current limitations of two way sync, two changes have been made to the Device form in Tangerine Editor. First, changing a Device's assigned location and sync settings after the Device record has been claimed will no longer be allowed. Second, devices will now always be required to be assigned to the last level in your location hierarchy.</li> </ul> <p><strong>Upgrade instructions:</strong></p> <p>When you run the upgrade script, if you are using sync protocol 2 and have enabled, forms configured for 2 way sync will now be configured to use CouchDB sync to push documents up as opposed to "custom sync". <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.9.0
# If you did not upgrade your config.sh in v3.8.1, migrate it now.
# Move custom variables from config.sh_backup to config.sh. Note that T_ADMIN and T_PASS are no longer needed. 
mv config.sh config.sh_backup
cp config.defaults.sh config.sh
# To edit both files in vim you would run...
vim -O config.sh config.sh_backup
# Now you are ready to start the server.
./start.sh v3.9.0
# Run upgrade
docker exec -it tangerine /tangerine/server/src/upgrade/v3.9.0.js
</code></pre></div></p> <h2 id=v381>v3.8.1<a class=headerlink href=#v381 title="Permanent link">&para;</a></h2> <ul> <li>Client app performance improvements</li> <li>Improved caching of files. We are caching important configuration files for faster page loads (app-config.json, forms.json, location-list.json) and the Roboto font and have reduced redundant rendering calls. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1991>1991</a></li> <li>Loading spinner when opening an Event Form in a Case. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1992>#1992</a></li> <li>Fixed a memory leak when viewing a Case which was causing tablets to crash if spending too much time on a Case screen. <a href=https://github.com/Tangerine-Community/Tangerine/issues/2000>#2000</a></li> <li>Radiobuttons now load faster on forms.</li> <li>Editor fixes</li> <li>Fixed an issue causing editor content region to be untouchable when window was narrow. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1940>#1940</a></li> <li>Improved CSV output so it now contains Release ID, Device ID, and Build Channel on every row <a href=https://github.com/Tangerine-Community/Tangerine/issues/349>#349</a></li> <li>Developer notes</li> <li>We focused on issues with slow performance on tablets when viewing forms. We are caching important configuration files (app-config.json, forms.json, location-list.json) and the Roboto font and have reduced redundant rendering calls. More information in the <a href=./docs/developer/tangerine-globals.md>Globals doc</a>. </li> <li>Server Admin notes</li> <li>We cleaned up config variables in <code>config.sh</code>, deprecated <code>T_ADMIN</code> and <code>T_PASS</code> <a href=https://github.com/Tangerine-Community/Tangerine/pull/1986>#1986</a></li> <li>New <code>generate-cases</code> command for load testing a large number of Cases based on your custom content in a group. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1993>#1993</a> </li> <li>New <code>reset-all-devices</code> command for reseting the server token and database keys for all devices. Note that after running this command you will need to reinstall on all devices and reregister with new QR codes. This command is useful if you are migrating a large amount of devices to a new group or a new server and you want to maintain Device ID consistency with the Device Serial numbers you are tracking.</li> </ul> <p><strong>Upgrade instructions:</strong> <div class=highlight><pre><span></span><code># Fetch the updates.
cd tangerine
git fetch origin
git checkout v3.8.1
# Now migrate custom variables from config.sh_backup to config.sh. Note that T_ADMIN and T_PASS are no longer needed. 
mv config.sh config.sh_backup
cp config.defaults.sh config.sh
# To edit both files in vim you would run...
vim -O config.sh config.sh_backup
# Now you are ready to start the server.
./start.sh v3.8.1
</code></pre></div></p> <h2 id=v380>v3.8.0<a class=headerlink href=#v380 title="Permanent link">&para;</a></h2> <p>v3.8.0 is a big and exciting release! To accomodate the long list of changes, we split up this round of release notes into sections: General, Sync Protocol 2 Module, and Case Module, and Developer notes.</p> <h3 id=general>General<a class=headerlink href=#general title="Permanent link">&para;</a></h3> <p>The following are features and fixes that are coming to all Tangerine installs. With this release comes an improved Editor UI experience, a faster device setup process, new form features, and much more.</p> <table> <thead> <tr> <th>Group tabs are now in 4 sections</th> <th>Breadcrumbs allows you to navigate back up deeply nested areas</th> </tr> </thead> <tbody> <tr> <td><img alt="group page" src=screenshots/group-page.png></td> <td><img alt="form editing" src=screenshots/form-editing.png></td> </tr> </tbody> </table> <ul> <li>Editor User browses Group UI by nested categories (as opposed to flat list) <a href=https://github.com/Tangerine-Community/Tangerine/issues/1880>#1880</a></li> <li>Device Administrator is prompted to authorize permissions on first app load <a href=https://github.com/Tangerine-Community/Tangerine/issues/1896>#1896</a></li> <li>Data Collector defines password according to policy <a href=https://github.com/Tangerine-Community/Tangerine/issues/1867>#1867</a></li> <li>Data Collector views device info such as Device ID, Assigned Location, Server URL, Group Name, and Release Channel. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1834>#1834</a></li> <li>Data Collector in checkboxes chooses "none of the above", then other options are unselected <a href=https://github.com/Tangerine-Community/Tangerine/issues/1822>#1822</a></li> <li>Editor distinguishes between inputs that are hidden and skipped <a href=https://github.com/Tangerine-Community/Tangerine/issues/1800>#1800</a></li> <li>Minor tweaks to the menu (now there is a single "Sync" item) and added tab bars to some pages for consistency.</li> </ul> <h3 id=sync-protocol-2-module>Sync Protocol 2 Module<a class=headerlink href=#sync-protocol-2-module title="Permanent link">&para;</a></h3> <p>Sync Protocol 2 is a new module that can be enabled on a Tangerine installation that adds Device management, the ability for form responses to sync to the server and back down to tablets, the ablity for two tablets to sync form responses with each other offline, and much more.</p> <table> <thead> <tr> <th>Manage which devices have access to sync, when they last synced, when they last updated and which version</th> <th>Define which form responses are synced up and back down to tablets</th> </tr> </thead> <tbody> <tr> <td><img alt="device management" src=screenshots/device-management.png></td> <td><img alt="sync settings" src=screenshots/sync-settings.png></td> </tr> </tbody> </table> <ul> <li>Data Collector generates encrypted backup of Device <a href=https://github.com/Tangerine-Community/Tangerine/issues/1909>#1909</a></li> <li>Data Collector conducts a two-way sync with server only getting data from server relevant to their location <a href=https://github.com/Tangerine-Community/Tangerine/issues/1755>#1755</a></li> <li>Device sync by Location: Sync Protocol 2: Enables a "Device Setup" process on first boot of the client application. This requires you set up a "Device" record on the server. When setting up a Device record on the server, it will give you a QR code to use to scan from the tablet in order to receive it's device ID and token.</li> <li>Data Collector syncs to server with large dataset <a href=https://github.com/Tangerine-Community/Tangerine/issues/1755>#1757</a></li> <li>Data collector synchronizes data between devices using an Offline P2P mechanism <a href=https://github.com/Tangerine-Community/Tangerine/issues/279>#279</a></li> <li>Editor User configures two-way sync for form responses from specific forms <a href=https://github.com/Tangerine-Community/Tangerine/issues/1753>#1753</a></li> <li>Editor revokes access to syncing with server for a lost Device <a href=https://github.com/Tangerine-Community/Tangerine/issues/1894>#1894</a></li> </ul> <h3 id=case-module>Case Module<a class=headerlink href=#case-module title="Permanent link">&para;</a></h3> <ul> <li>Data Collector views Case Events in Schedule with Estimated Day, Scheduled Day, Window, and Occurred On Dates <a href=https://github.com/Tangerine-Community/Tangerine/issues/1737>#1737</a></li> <li>Data Collector creates (another) instance of a repeatable form for a specific participant in a specific event(8hrs) <a href=https://github.com/Tangerine-Community/Tangerine/issues/1786>#1786</a></li> <li>Data Collector views which Participant they are filling out a form for <a href=https://github.com/Tangerine-Community/Tangerine/issues/1820>#1820</a></li> <li>Data Collector searches for a Case in a large dataset <a href=https://github.com/Tangerine-Community/Tangerine/issues/1893>#1893</a></li> <li>Improvements to Case Home search - limit docs to 25 when no phrase is entered: #1871. Added rule to delay search in Case Home until at least two characters have been entered. Search results now sorted by date record updated.</li> <li>Lazy loading tabs in Case Home - this helps resolve some of the slowness in loading Case Home. Also disabled animations on tabs to remove jankiness.</li> </ul> <h3 id=developer-updates>Developer Updates<a class=headerlink href=#developer-updates title="Permanent link">&para;</a></h3> <ul> <li>Re-enabled git config in Dockerfile - still having git networking error even when off corp network. </li> <li>Updated docker-tangerine-base-image to v3.4.0</li> <li>New load testing doc.</li> <li>Added random name generation to the script that generates new cases - useful for load testing and checking how well search listing works. If using the 'case-mother' switch, record templates are pulled from your group.</li> </ul> <h3 id=upgrade-instructions>Upgrade instructions<a class=headerlink href=#upgrade-instructions title="Permanent link">&para;</a></h3> <p>On the server, backup your data folder and then run the following commands.</p> <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.8.0
./start.sh<span class=w> </span>v3.8.0
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>tangerine<span class=w> </span>/tangerine/server/src/upgrade/v3.8.0.js
</code></pre></div> <p>Replace all ocurrences of <code>localStorage.getItem('currentUser')</code> with <code>window.currentUser</code>.</p> <h2 id=v372>v3.7.2<a class=headerlink href=#v372 title="Permanent link">&para;</a></h2> <ul> <li>More fixes for upgrade process from v3.1.0.</li> </ul> <h2 id=v371>v3.7.1<a class=headerlink href=#v371 title="Permanent link">&para;</a></h2> <ul> <li>Fix translations update script.</li> <li>Fix client update process when upgrading from v3.1.0.</li> </ul> <p><strong>Upgrade instructions:</strong> On the server, backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.7.1
./start.sh<span class=w> </span>v3.7.1
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>translations-update
</code></pre></div></p> <h2 id=v370>v3.7.0<a class=headerlink href=#v370 title="Permanent link">&para;</a></h2> <ul> <li><strong>Fixes</strong></li> <li>When editing forms, they will only save back to the server after clicking the top level "save" button. There is also now messaging around when the save either completes successfully or fails.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1645>https://github.com/Tangerine-Community/Tangerine/issues/1645</a></li> </ul> </li> <li>On <code>&lt;tangy-timed&gt;</code> when using auto stop, return the property instead of the instead of the truthfulness of the value which is always false.<ul> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/110>https://github.com/Tangerine-Community/tangy-form/pull/110</a></li> </ul> </li> <li>When uploadUnlockedFormReponses is set to true only incomplete forms are Synced up.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1725>https://github.com/Tangerine-Community/Tangerine/issues/1725</a></li> </ul> </li> <li>In editor, modifying allowed pattern on text and number inputs does not work.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1770>https://github.com/Tangerine-Community/Tangerine/issues/1770</a></li> </ul> </li> <li>Fix spacing between checkboxes in client<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1690>https://github.com/Tangerine-Community/Tangerine/issues/1690</a></li> </ul> </li> <li>Fix click target and style for Case Event Form list<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1681>https://github.com/Tangerine-Community/Tangerine/issues/1681</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1702>https://github.com/Tangerine-Community/Tangerine/pull/1702</a></li> </ul> </li> <li>Fix Partial Date validation<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1683>https://github.com/Tangerine-Community/Tangerine/issues/1683</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/71>https://github.com/Tangerine-Community/tangy-form/pull/71</a></li> </ul> </li> <li>EF Touch changes<ul> <li><code>&lt;tangy-eftouch multi-select go-next-on-selection="2"&gt;</code> should become <code>&lt;tangy-eftouch multi-select="2" go-next-on-selection&gt;</code>. This allows for expanding functionality of being able to use multi-select without go-next-on-selection but still limit the number of choices the user can make minus the transition.</li> <li><code>no-corrections</code> has been deprecated for new <code>disable-after-selection</code> attribute. When used with <code>multi-select</code>, the number of selections are still limited by the setting on <code>multi-select</code>, but changing selection is not allowed.</li> <li>The <code>required</code> attribute when used with <code>multi-select</code> will only require just one value selected. If you need form example 2 selections to be valid, you can combine <code>required-all multi-select="2"</code>. </li> <li>We have an API change where we used to have <code>TangyEftouch.value.selection</code> was sometimes a string when not using <code>multi-select</code> and then when using <code>multi-select</code>, is was an array of strings. Now <code>TangyEftouch.value.selection</code> will always be an array of strings.</li> </ul> </li> <li><strong>Features</strong></li> <li>When editing forms, the user will be warned of any duplicate variable names that exist in the form.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1793>https://github.com/Tangerine-Community/Tangerine/issues/1793</a></li> </ul> </li> <li>Improve messaging when an APK update fails to download<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1743>https://github.com/Tangerine-Community/Tangerine/issues/1743</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/commit/2ede9d3fb9d43dda234bfdcfc4849769b9b08e69>https://github.com/Tangerine-Community/Tangerine/commit/2ede9d3fb9d43dda234bfdcfc4849769b9b08e69</a></li> </ul> </li> <li>Data Collector sends SMS message from form<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1745>https://github.com/Tangerine-Community/Tangerine/issues/1745</a></li> </ul> </li> <li>Data Collector views events in schedule with icons, estimated date info, and scheduled date info<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1686>https://github.com/Tangerine-Community/Tangerine/issues/1686</a></li> </ul> </li> <li>Data Collector views Case Module screens in French<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1711>https://github.com/Tangerine-Community/Tangerine/issues/1711</a></li> </ul> </li> <li>Data Collector confirms case when opened<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1695>https://github.com/Tangerine-Community/Tangerine/issues/1695</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1741>https://github.com/Tangerine-Community/Tangerine/pull/1741</a></li> </ul> </li> <li>Improved support for changing color scheme of client app using <code>custom-styles.css</code>, possible to have "dark mode".<ul> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1742>https://github.com/Tangerine-Community/Tangerine/pull/1742</a></li> </ul> </li> <li>Data Collector shares all data on Device with other Users on the same Device.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1712>https://github.com/Tangerine-Community/Tangerine/issues/1712</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1709>https://github.com/Tangerine-Community/Tangerine/pull/1709</a></li> </ul> </li> <li>Data Collector finds Case Event status has changed to "complete" when all required forms are submitted.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1693>https://github.com/Tangerine-Community/Tangerine/issues/1693</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1719>https://github.com/Tangerine-Community/Tangerine/pull/1719</a></li> </ul> </li> <li>Data Collector finds all required Event Form instances in a Case Event are created upon opening the Case Event.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1691>https://github.com/Tangerine-Community/Tangerine/issues/1691</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1718>https://github.com/Tangerine-Community/Tangerine/pull/1718</a></li> </ul> </li> <li>Data Collector registers a Participant in a Case and views Event Forms grouped by Participant<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1692>https://github.com/Tangerine-Community/Tangerine/issues/1692</a></li> <li>PR : <a href=https://github.com/Tangerine-Community/Tangerine/pull/1723>https://github.com/Tangerine-Community/Tangerine/pull/1723</a></li> </ul> </li> </ul> <p><strong>Upgrade instructions:</strong> On the server, backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.7.0
./start.sh<span class=w> </span>v3.7.0
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>translations-update
</code></pre></div></p> <h2 id=v365>v3.6.5<a class=headerlink href=#v365 title="Permanent link">&para;</a></h2> <ul> <li>Fix timed grid output to exclude item level variables in logstash output <a href=https://github.com/Tangerine-Community/Tangerine/pull/1806>https://github.com/Tangerine-Community/Tangerine/pull/1806</a></li> </ul> <p><strong>Upgrade instructions:</strong> After the usual upgrade commands, also clear reporting caches with <code>docker exec -it tangerine reporting-cache-clear</code>.</p> <h2 id=v364>v3.6.4<a class=headerlink href=#v364 title="Permanent link">&para;</a></h2> <ul> <li>Fix usage of <code>T_CSV_MARK_DISABLED_OR_HIDDEN_WITH</code> in some cases.</li> </ul> <h2 id=v363>v3.6.3<a class=headerlink href=#v363 title="Permanent link">&para;</a></h2> <ul> <li>Allow disabled or hidden inputs output in CSV to be overridden using CSV_MARK_DISABLED_OR_HIDDEN_WITH in <code>config.sh</code>. The default value in <code>config.defaults.sh</code> is <code>"999"</code> which is what it has been for a few releases. When upgrading, do nothing if you want this to stay the same, otherwise use <code>"ORIGINAL_VALUE"</code> if you want to turn off the feature or set to your own custom value such as <code>"SKIPPED"</code>.</li> </ul> <h2 id=v362>v3.6.2<a class=headerlink href=#v362 title="Permanent link">&para;</a></h2> <ul> <li>Fix import of location list from CSV <a href=https://github.com/Tangerine-Community/Tangerine/pull/1732/commits/05e57e8f1bb869dbd52b927d45fc223903e201db>https://github.com/Tangerine-Community/Tangerine/pull/1732/commits/05e57e8f1bb869dbd52b927d45fc223903e201db</a></li> </ul> <h2 id=v361>v3.6.1<a class=headerlink href=#v361 title="Permanent link">&para;</a></h2> <ul> <li>Fix form routing for archived and active forms.</li> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1722>https://github.com/Tangerine-Community/Tangerine/issues/1722</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1724>https://github.com/Tangerine-Community/Tangerine/pull/1724</a></li> <li>Fix "Mark entire line as incorrect in grids is not reflected in csv #1713"</li> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1713>https://github.com/Tangerine-Community/Tangerine/issues/1713</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/103>https://github.com/Tangerine-Community/tangy-form/pull/103</a></li> </ul> <h2 id=v360>v3.6.0<a class=headerlink href=#v360 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features</strong></li> <li>Support for changing the order of forms.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1523>https://github.com/Tangerine-Community/Tangerine/issues/1523</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1707>https://github.com/Tangerine-Community/Tangerine/pull/1707</a></li> </ul> </li> <li>Support for archiving a form.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1526>https://github.com/Tangerine-Community/Tangerine/issues/1526</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1675>https://github.com/Tangerine-Community/Tangerine/pull/1675</a></li> </ul> </li> <li>Improvements and support on all inputs for <code>error-text</code>, <code>hint-text</code>, <code>question-number</code>, and content translations.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1655>https://github.com/Tangerine-Community/Tangerine/issues/1655</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/88>https://github.com/Tangerine-Community/tangy-form/pull/88</a>, <a href=https://github.com/Tangerine-Community/tangy-form/pull/86>https://github.com/Tangerine-Community/tangy-form/pull/86</a></li> </ul> </li> <li>Add support to <code>&lt;tangy-qr&gt;</code> for scanning data matrix codes.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1653>https://github.com/Tangerine-Community/Tangerine/issues/1653</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/87>https://github.com/Tangerine-Community/tangy-form/pull/87</a></li> </ul> </li> <li>New "Capture Item at N Seconds" feature for <code>&lt;tangy-timed&gt;</code> will prompt Data Collector to mark which item the child last read after a specific amount of time.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1586>https://github.com/Tangerine-Community/Tangerine/issues/1586</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/95>https://github.com/Tangerine-Community/tangy-form/pull/95</a></li> </ul> </li> <li>New <code>goTo('itemID')</code> helper function to navigate users to a specific item given some item level <code>on-change</code> logic.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1652>https://github.com/Tangerine-Community/Tangerine/issues/1652</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/92>https://github.com/Tangerine-Community/tangy-form/pull/92</a></li> </ul> </li> <li>New <code>&lt;tangy-signature&gt;</code> input for capturing signatures.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1656>https://github.com/Tangerine-Community/Tangerine/issues/1656</a> </li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/90>https://github.com/Tangerine-Community/tangy-form/pull/90</a></li> </ul> </li> <li>Visibility of labels and/or icons on item navigation now configurable with <code>&lt;tangy-form-item hide-nav-icons&gt;</code> and <code>&lt;tangy-form-item hide-nav-labels&gt;</code>. <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1682>https://github.com/Tangerine-Community/Tangerine/issues/1682</a> </li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/73>https://github.com/Tangerine-Community/tangy-form/pull/73</a></li> </ul> </li> <li><strong>Fixes</strong></li> <li>Fix Class tablets that are filling up their disk too fast.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1706>https://github.com/Tangerine-Community/Tangerine/issues/1706</a> </li> </ul> </li> <li>Fix metadata print screen options <ul> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1703>https://github.com/Tangerine-Community/Tangerine/pull/1703</a></li> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1670>https://github.com/Tangerine-Community/Tangerine/issues/1670</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/1671>https://github.com/Tangerine-Community/Tangerine/issues/1671</a></li> </ul> </li> <li>Fix missing camera permission blocking APK installs form using QR or Photo Capture<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1646>https://github.com/Tangerine-Community/Tangerine/issues/1646</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/1578>https://github.com/Tangerine-Community/Tangerine/issues/1578</a></li> </ul> </li> <li>Fix performance issues caused by needless TangyForm.on-change events from firing when they don't need to.<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1656>https://github.com/Tangerine-Community/Tangerine/issues/1656</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/89>https://github.com/Tangerine-Community/tangy-form/pull/89</a></li> </ul> </li> <li>Fix data collector reviews completed fullscreen form <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1629>https://github.com/Tangerine-Community/Tangerine/issues/1629</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/75>https://github.com/Tangerine-Community/tangy-form/pull/75</a></li> </ul> </li> <li><code>&lt;tangy-eftouch auto-progress&gt;</code> now distinguishes between going next on the time limit and going next on a number of selections. The API is now <code>&lt;tangy-eftouch go-next-on-selection=2&gt;</code> for going next on 2 selection and <code>&lt;tangy-eftouch go-next-on-time-limit&gt;</code> for going next on the time limit. <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1597>https://github.com/Tangerine-Community/Tangerine/issues/1597</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/84>https://github.com/Tangerine-Community/tangy-form/pull/84</a></li> </ul> </li> <li><code>&lt;tangy-eftouch&gt;</code> content is now more likely to fit above the fold, not overlap with content above it, be more consistent on smaller screens, and also adapt to screen size changes. <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1591>https://github.com/Tangerine-Community/Tangerine/issues/1591</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/1587>https://github.com/Tangerine-Community/Tangerine/issues/1587</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/79>https://github.com/Tangerine-Community/tangy-form/pull/79</a></li> </ul> </li> <li><code>&lt;tangy-eftouch&gt;</code> suffered from going to next item twice due to time limit and selection being made at in a close window. This is now fixed. <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1596>https://github.com/Tangerine-Community/Tangerine/issues/1596</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/76>https://github.com/Tangerine-Community/tangy-form/pull/76</a></li> </ul> </li> <li>Fix Partial Date validation and for disabled attribute not reflecting <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1683>https://github.com/Tangerine-Community/Tangerine/issues/1683</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form/pull/71>https://github.com/Tangerine-Community/tangy-form/pull/71</a></li> </ul> </li> <li>Fix variable names in Editor to allow for only valid variable names. 2 or more characters, begin with alpha, no spaces, periods, allow _ no dash<ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1566>https://github.com/Tangerine-Community/Tangerine/issues/1566</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/1558>https://github.com/Tangerine-Community/Tangerine/issues/1558</a>, <a href=https://github.com/Tangerine-Community/Tangerine/issues/1461>https://github.com/Tangerine-Community/Tangerine/issues/1461</a></li> <li>PR: <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/77>https://github.com/Tangerine-Community/tangy-form-editor/pull/77</a></li> </ul> </li> <li>Fix for Autostop for radio buttons - <ul> <li>Issue: <a href=https://github.com/Tangerine-Community/Tangerine/issues/1519>https://github.com/Tangerine-Community/Tangerine/issues/1519</a></li> <li>PR's: </li> <li><a href=https://github.com/Tangerine-Community/Tangerine/issues/1590>https://github.com/Tangerine-Community/Tangerine/issues/1590</a></li> <li><a href=https://github.com/Tangerine-Community/tangy-form/pull/100>https://github.com/Tangerine-Community/tangy-form/pull/100</a></li> <li><a href=https://github.com/Tangerine-Community/tangy-form/pull/100>https://github.com/Tangerine-Community/tangy-form/pull/100</a></li> </ul> </li> <li><strong>Experimental Features</strong></li> <li>When using the experimental Case module, Editors can now program forms to trigger the creation of a "Data Query" when Data Collectors are entering data. Data queries are then shown later in a "Data Queries" tab where clarification on prior data entered is requested.<ul> <li>PR: <a href=https://github.com/Tangerine-Community/Tangerine/pull/1661>https://github.com/Tangerine-Community/Tangerine/pull/1661</a></li> </ul> </li> </ul> <p><strong>Upgrade instructions:</strong></p> <p>On the server, backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.6.0
./start.sh<span class=w> </span>v3.6.0
</code></pre></div></p> <p>Now you may publish a release to your Devices and run the "Check for Update" on each Device. Note that if you are looking to use the QR Code scanner and you have been using Android Installation, you will need to reinstall the App on Devices and make sure to note the additional permissions installation instructions noted in the README.md file for enabling the App to have Camera Access. If using the Web Browser Installation, there is no need to reinstall the app for Camera access.</p> <h2 id=v350>v3.5.0<a class=headerlink href=#v350 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features</strong></li> <li>Forms with fullscreen enabled now have a toggle button for the user to enable/disable fullscreen mode. Form designers may specify the number of taps in order for fullscreen to disable. <a href=https://github.com/Tangerine-Community/tangy-form/pull/51>https://github.com/Tangerine-Community/tangy-form/pull/51</a>, <a href=https://github.com/Tangerine-Community/tangy-form/pull/72>https://github.com/Tangerine-Community/tangy-form/pull/72</a>, <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/73>https://github.com/Tangerine-Community/tangy-form-editor/pull/73</a></li> <li>An <code>inputs</code> object keyed by input name is now available for use in <code>valid-if</code> statements. <a href=https://github.com/Tangerine-Community/tangy-form/pull/65>https://github.com/Tangerine-Community/tangy-form/pull/65</a></li> <li>A new Partial Date item is available <a href=https://github.com/Tangerine-Community/tangy-form/pull/57>https://github.com/Tangerine-Community/tangy-form/pull/57</a></li> <li>Translations updates. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1613>#1613</a></li> <li>New <code>custom-styles.css</code> file which can be added by modifying a group's assets folder. You may define CSS classes and then utilize them in the editor by adding them under each widget's class attribute.</li> <li>New "Copy form" feature added to to Editor and more descriptive icon for adding a database record <a href=https://github.com/Tangerine-Community/Tangerine/pull/1627>#1627</a></li> <li><strong>Fixes</strong></li> <li>Helper functions for timed grids are now safer, will not crash if a grid was skipped and info is not availble. <a href=https://github.com/Tangerine-Community/tangy-form/pull/61>https://github.com/Tangerine-Community/tangy-form/pull/61</a></li> <li>Print view for a form had a bug where only the first page was printable. This is now fixed so that all pages may be printed. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1605>https://github.com/Tangerine-Community/Tangerine/pull/1605</a></li> <li>Fix tangy-select test regression and work on EFTouch transition sound plays only on auto-progress <a href=https://github.com/Tangerine-Community/Tangerine/issues/1371>#137</a></li> <li>API change in tangy-select - use of secondaryLabel is supported but deprecated; Use optionSelectLabel instead. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1602>#1602</a></li> <li>Fix the display of uploaded docs <a href=https://github.com/Tangerine-Community/Tangerine/pull/1609>#1609</a></li> <li>Enable auto-stop for untimed grids <a href=https://github.com/Tangerine-Community/Tangerine/issues/1522>#1522</a></li> <li>Increased clickable target for forms list and visits tab <a href=https://github.com/Tangerine-Community/Tangerine/pull/1628>#1628</a></li> </ul> <p><strong>Upgrade instructions:</strong></p> <p>Backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.5.0
./start.sh<span class=w> </span>v3.5.0
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>tangerine<span class=w> </span>/tangerine/server/src/upgrade/v3.5.0.js<span class=w> </span>
</code></pre></div></p> <p>If any of your on-change logic looks into a form item's contents using <code>tangyFormItemEl.shadowRoot.querySelector(...)</code> or <code>this.$.content.querySelector(...)</code>, you must change it. The contents of the form can now be accessed at <code>tangyFormItemEl.querySelector(...)</code>. </p> <p>Also, the <code>content</code> element is no longer available.</p> <p>For example:</p> <div class=highlight><pre><span></span><code>// replace
var el = this.$.content.querySelector(&#39;tangy-input[name=\&#39;classId\&#39;]&#39;)
//with 
var el = this.querySelector(&#39;tangy-input[name=\&#39;classId\&#39;]&#39;)
</code></pre></div> <p>The advantage of moving this content out of the shadow DOM is that you can now style it directly from your app.</p> <h2 id=v340>v3.4.0<a class=headerlink href=#v340 title="Permanent link">&para;</a></h2> <ul> <li><strong>New Features</strong></li> <li><strong>New groups now ordered by creation date</strong>: Creating new groups will now order them by the date the were created in the group list. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1584>#1584</a></li> <li><strong>Configurable Web App Device Orientation</strong>: You can now specify the Web App orientation (portrait, landscape, or any) on device <a href=https://github.com/Tangerine-Community/Tangerine/issues/1530>using the <code>T_ORIENTATION</code> variable in <code>config.sh</code></a>. Add <code>T_ORIENTATION="any"</code> to config.sh to have more flexible orientations for PWA's. The options for T_ORIENTATION are at <a href=https://developer.mozilla.org/en-US/docs/Web/Manifest/orientation>https://developer.mozilla.org/en-US/docs/Web/Manifest/orientation</a></li> <li><strong>Media Library and Image support for Forms</strong>: Each group now has a media library tab where they can uplaod images which can then be utilized when inserting the new "Image" item on forms. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1138>#1138</a></li> <li><strong>New ACASI widget</strong>: The ACASI widget is braodly based on the EFTouch widget, but focused on a more static presentation of images and sounds. <a href=https://github.com/Tangerine-Community/tangy-form-editor/pull/56/commits/4f1d02d93ac0fc4637fb244b535b3411e35f131c>#56</a></li> <li><strong>Configurable font size in grids</strong>: You may now configure the font size in tangy-timed and tangy-untimed grids using the Option Font Size input. In tangy-form, it is exposed as option-font-size. Example of generated code: <code>&lt;tangy-timed required columns="3" duration=80 name="class1_term2" option-font-size="5"&gt;</code></li> <li><strong>Auto-stop for tangy-radio-buttons</strong>: Add support for autostop in tangy-radio-buttons <a href=https://github.com/Tangerine-Community/tangy-form/pull/49>#49</a>. In Editor, set the Threshold to the number of incorrect answers: <a href=https://github.com/Tangerine-Community/Tangerine/releases/tag/v3.4.0-prerelease-15>screenshots</a>. Autostop is implemented by using the hideInputsUponThreshhold helper, which takes a tangy-form-item element and compares the number of correct radio button answers to the value in its incorrect-threshold attribute. Example of generated code: <code>&lt;tangy-form-item id="item1" incorrect-threshold="2"&gt;</code></li> <li><strong>New "correct" attribute for radio button options</strong>: A new "correct" attribute has been added to tangy-list-item to store the correct value. There is a "Correct" checkbox next to each option. Example of generated code: <code>&lt;tangy-radio-buttons name="fruit_selection2" label="What is your favorite fruit?"&gt; &lt;option name="tangerine"&gt;Tangerine&lt;/option&gt; &lt;option name="cherry" correct&gt;Cherry&lt;/option&gt; &lt;/tangy-radio-buttons&gt;</code></li> <li><strong>Fixes</strong></li> <li><strong>Critical Sync and "data loss" fix</strong>: Some variants of v3.3.x saw cases where data seemed to be lost on the tablet and sync no longer worked. After this release is deployed to the server, release for your groups and instruct all tablets to upgrade. The upgrade process may take many minutes depending on the amount of data stored on the tablet due to a schema update in the database. For an in depth look at what this update does, see <a href=https://github.com/Tangerine-Community/Tangerine/blob/next/client/src/app/core/update/update/updates.ts#L159>the code here</a>. </li> <li><strong>Logstash Improvements</strong> <a href=https://github.com/Tangerine-Community/Tangerine/issues/1516>#1516</a><ul> <li>User profiles were in a nested object, now they have been merged to be flat in the logstash output doc. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1563#issuecomment-506490643>See example here</a>.</li> <li>If a form response uses a location element, it will now be extracted out into a top level <code>"geoip"</code> property whose value is an object with <code>"lat"</code> and <code>"lon"</code> properties. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1563#issuecomment-506490643>See example here</a>.</li> <li>When new forms are created in the editor, they will no longer have a <code>.</code> character in their ID. This was causing some uneccessary and confusing logic in logstash config files. <a href=https://github.com/Tangerine-Community/Tangerine/pull/1560>See PR here</a>.</li> </ul> </li> <li><strong>EFTouch</strong>: A large number of fixes have been made for EFTouch. See recent issues <a href="https://github.com/Tangerine-Community/Tangerine/issues?q=is%3Aopen+is%3Aissue+label%3ATAN-EFTOUCH-2018">here</a>. </li> <li>Updated to tangy-form-editor ^5.18.0 for <a href=https://github.com/Tangerine-Community/Tangerine/issues/1537>Change grid variables in CSV starting with variable_0 to variable_1</a>. </li> <li>A previous update to tangy-form to 3.15.1, tangy-form-editor to 5.17.0 to fixed <a href=https://github.com/Tangerine-Community/Tangerine/issues/1041>Editing form level HTML requires two Save clicks</a></li> <li><strong>Beta Features</strong></li> <li><strong>Two-way Sync</strong>: Allows for two-way sync of form responses. Can be configured to two way sync form responses for specific forms and also by geographic region defined in the user profile. See <code>docs/feature-two-way-sync.md</code>. and <a href=https://github.com/Tangerine-Community/Tangerine/issues/1364>Add a tangy input inside a tangy box duplicates items</a>, and enable <a href=https://github.com/Tangerine-Community/Tangerine/issues/1525>Adjustable letter size for grids</a></li> <li><strong>Case Module</strong><ul> <li>Add the "case" module to <code>T_MODULES</code> in <code>config.sh</code> and the default landing page for a group will be the cases search page and new "Case Management Editor" tab will appear in groups for creating and editing Case Definitions. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1517>#1517</a></li> <li>Clientside search of Forms for Case Management Groups allows Cases to be found using the device camera to scan a QR code. See <code>docs/case-management-group.md</code>.</li> <li>Add event time and scheduling to Case Mangement Groups <a href=https://github.com/Tangerine-Community/Tangerine/pull/1518>#1518</a></li> <li>New layout for Case and Case Event pages.</li> </ul> </li> </ul> <p>Upgrade instructions:</p> <p>Backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.4.0
</code></pre></div></p> <div class=highlight><pre><span></span><code>./start.sh
</code></pre></div> <h2 id=v331>v3.3.1<a class=headerlink href=#v331 title="Permanent link">&para;</a></h2> <p>This release fixes a feature that made it into v3.3.0 but had a bug and was disabled. This release fixes that bug and makes it available.</p> <ul> <li>As an Editor user I want to be able to do an initial import of my location structure. <a href=https://github.com/Tangerine-Community/Tangerine/issues/1117>#1117</a></li> </ul> <h2 id=v330>v3.3.0<a class=headerlink href=#v330 title="Permanent link">&para;</a></h2> <ul> <li>Features</li> <li>Assessor reviews high level case variables, AKA "Case Manifest" <a href=https://github.com/Tangerine-Community/Tangerine/issues/1399>#1399</a></li> <li>Assessor changes language setting to Russian <a href=https://github.com/Tangerine-Community/Tangerine/issues/1402>#1402</a></li> <li>Untimed Grid subtest <a href=https://github.com/Tangerine-Community/Tangerine/issues/1366>#1366</a></li> <li>Editor Style Upgrades (April 2019) <a href=https://github.com/Tangerine-Community/Tangerine/issues/1421>#1421</a></li> <li>Group Names can now have spaces and special characters <a href=https://github.com/Tangerine-Community/Tangerine/pull/1424>#1424</a></li> <li>Editor configures Timed Grid to show or hide labels on buttons <a href=https://github.com/Tangerine-Community/Tangerine/issues/1432>#1432</a></li> <li>Server Admin tunes the reporting delay between when an upload occurs and it shows up in reporting outputs <a href=https://github.com/Tangerine-Community/Tangerine/issues/1441>#1441</a></li> <li>CSV output for single checkboxes now show up as "0" and "1" as opposed to "" and "on" <a href=https://github.com/Tangerine-Community/Tangerine/issues/1367>#1367</a></li> <li>CSV output for single radiobuttons now show up as "0" and "1" as opposed to "null" and "on" <a href=https://github.com/Tangerine-Community/Tangerine/issues/1433>#1433</a></li> <li>You can now limit who can add/see sitewide users to only the USER1 account by setting <code>T_USER1_MANAGED_SERVER_USERS</code> to <code>"true"</code> in <code>config.sh</code> <a href=https://github.com/Tangerine-Community/Tangerine/issues/1381>#1381</a>.</li> <li>Client now has an "About" page with details about what Tangerine is <a href=https://github.com/Tangerine-Community/Tangerine/issues/1465>#1465</a>.</li> </ul> <p>Upgrade instructions:</p> <p>Backup your data folder and then run the following commands. <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.3.0
./start.sh
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>tangerine<span class=w> </span>/tangerine/server/src/upgrade/v3.3.0.js<span class=w> </span>
</code></pre></div></p> <h2 id=v320>v3.2.0<a class=headerlink href=#v320 title="Permanent link">&para;</a></h2> <ul> <li>Features</li> <li>Assessor changes language of App <a href=https://github.com/Tangerine-Community/Tangerine/issues/1315>#1315</a></li> <li>Editor provides feedback given data entered earlier in the form <a href=https://github.com/Tangerine-Community/Tangerine/issues/1384>#1384</a></li> <li>Assessor starts new Case is immediately forwarded to first form <a href=https://github.com/Tangerine-Community/Tangerine/issues/1362>#1362</a></li> <li>Assessor finds Form and Event in Case has been disabled/enabled due to custom logic <a href=https://github.com/Tangerine-Community/Tangerine/issues/1363>#1363</a></li> <li>Assessor confirms participant info using data from another form <a href=https://github.com/Tangerine-Community/Tangerine/issues/1385>#1385</a></li> <li>Server Admin restarts machine to find containers have automatically come back up <a href=https://github.com/Tangerine-Community/Tangerine/issues/1388>#1388</a></li> <li>Server Admin sets up Tangerine outage alarm <a href=https://github.com/Tangerine-Community/Tangerine/issues/1389>#1389</a></li> <li>Developer Notes<ul> <li>Ability to define database views on a per module basis in Client Angular <a href=https://github.com/Tangerine-Community/Tangerine/pull/1419>#1419</a></li> <li>Integrate test harness and TypeScript with server using NestJS <a href=https://github.com/Tangerine-Community/Tangerine/pull/1413>#1413</a></li> <li>Fix client tests, organize shared services and guards into the shared module, move client/app/ to client/ <a href=https://github.com/Tangerine-Community/Tangerine/pull/1398>#1398</a></li> </ul> </li> </ul> <p>Upgrade instructions: <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.2.0
./start.sh
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>/tangerine/upgrades/v3.2.0.js<span class=w> </span>
</code></pre></div> - In each group's <code>app-config.json</code>, change <code>"direction"</code> to <code>"languageDirection"</code>. - If using a translation other than English, change in each group's <code>app-config.json</code>, change <code>"languageCode"</code> to the corresponding language code. Current codes other than <code>en</code> for English is <code>JO_ar</code> for Jordanian and <code>KH_km</code> for Khmer.</p> <h2 id=v310>v3.1.0<a class=headerlink href=#v310 title="Permanent link">&para;</a></h2> <ul> <li>Features</li> <li>Item Editor UX Improvements #810 </li> <li>Assessor verifies correct location selected by reviewing metadata of location #1191</li> <li>As an assessor I'd like to include a hint option to be displayed below the question text #1279</li> <li>Grids: helper functions for grids #1183</li> <li>Ability to mark an entire row as incorrect on grids #1333</li> <li>Assessor's backed up form responses are archived when storage is filling up #1304</li> <li>Assessor scans a QR Code into form #1309</li> <li>All hidden inputs have reporting values of <code>"999"</code> #1349</li> <li>Merge reporting output of radiobuttons into one column.</li> <li>Bug fixes</li> <li>Editor not properly logging users out resulting in getting stuck every 24 hours #1314 </li> <li>Min and Max for input number cannot be saved through the interface #1297</li> <li>time on grids cannot be changes and is always 60 seconds #1301</li> <li>Unclosed tags in html container can break form #1289</li> <li>Tangy timed option values disappear #1302</li> </ul> <p>Note that #1349 will bve optional in future releases and you may not want to upgrade until that time.</p> <p>Upgrade instructions: <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.1.0
./start.sh
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>reporting-cache-clear
</code></pre></div></p> <h2 id=v300-beta13>v3.0.0-beta13<a class=headerlink href=#v300-beta13 title="Permanent link">&para;</a></h2> <h3 id=upgrade-instructions-from-v3-betas>Upgrade instructions from v3 betas<a class=headerlink href=#upgrade-instructions-from-v3-betas title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>git<span class=w> </span>fetch<span class=w> </span>origin
git<span class=w> </span>checkout<span class=w> </span>v3.0.0
<span class=c1># Note the new T_UPLOAD_TOKEN variable which is a replacement for the old upload account variables.</span>
mv<span class=w> </span>config.sh<span class=w> </span>config.sh_backup
cp<span class=w> </span>config.defaults.sh<span class=w> </span>config.sh
vim<span class=w> </span>config.sh
./start.sh
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>push-all-groups-views
docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>tangerine<span class=w> </span>reporting-cache-clear
</code></pre></div> <p>For existing groups, you need to edit their <code>app-config.json</code> files in the <code>./data/client/content/groups</code> folders. Replace them with the following template and make sure to update variables such as <code>groupName</code>, <code>uploadToken</code>, and <code>serverUrl</code>. <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>   </span><span class=nt>&quot;listUsernamesOnLoginScreen&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;modules&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=p>],</span>
<span class=w>   </span><span class=nt>&quot;groupName&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;pineapple&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;securityQuestionText&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;What is your year of birth?&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;hideProfile&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;direction&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ltr&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;columnsOnVisitsTab&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
<span class=w>   </span><span class=nt>&quot;hashSecurityQuestionResponse&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;uploadUnlockedFormReponses&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;uploadToken&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;change this to match T_UPLOAD_TOKEN in config.sh&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;securityPolicy&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>      </span><span class=s2>&quot;password&quot;</span>
<span class=w>   </span><span class=p>],</span>
<span class=w>   </span><span class=nt>&quot;homeUrl&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;case-management&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;serverUrl&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s2>&quot;https://f571f419.ngrok.io/&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;centrallyManagedUserProfile&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<span class=w>   </span><span class=nt>&quot;registrationRequiresServerUser&quot;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
<span class=p>}</span>
</code></pre></div></p> <h3 id=new-features-since-v300-beta12>New features since v3.0.0-beta12<a class=headerlink href=#new-features-since-v300-beta12 title="Permanent link">&para;</a></h3> <ul> <li>Server admin imports client archives into server #1166</li> <li>After exporting data from clients, we now have an easy command line tool to import them. Place those exported files in <code>./data/archives</code> folder and then run <code>docker exec tangerine import-archives</code>.</li> <li>Consumers of reporting API find user profile data appended to form responses #1147</li> <li>New <code>logstash</code> module for installations that want to use logstash to migrate data to an Elastic Search instance.</li> <li>Enable by adding <code>logstash</code> to the list of modules in <code>config.sh</code>, then clear reporting caches <code>docker exec -it tangerine bash; cd /tangerine/server/src/scripts; ./clear-all-reporting-cache.js;</code>. You will find new <code>&lt;groupName&gt;-logstash</code> databases in CouchDB that you can configure logstash to consume.</li> <li>Upload Tokens instead of upload usernames and passwords. </li> <li>In your <code>config.sh</code> change <code>T_UPLOAD_TOKEN</code> to a secret phrase and then in existing groups add that to <code>app-config.json</code> as an <code>"uploadToken"</code> property and <code>uploadUrl</code> to <code>serverUrl</code> but without the username and password and <code>upload/&lt;groupName&gt;</code>. For example, <code>"uploadUrl": "http://uploader:password@foo.tangerinecentral.org/upload/foo"</code> would become <code>"serverUrl":"http://foo.tangerinecentral.org", "groupName":"foo", "uploadToken":"secret_foo_passphrase"</code>.</li> <li>If you not planning on updating clients right away, in <code>config.sh</code> set <code>T_LEGACY="true"</code> to support the older upload API that those clients expect. When all clients are upgraded, set that variable back to false.</li> <li>Editor edits location list for group #982</li> <li>@TODO</li> <li>Editor creates, edits, and deletes form responses on the server #1047</li> <li>Editor exports CSV of a form for a month of their choosing #1143</li> <li>Editor sees user profile form related columns joined to CSV of all forms #1142</li> <li>On client, prevent users from editing their own profile.</li> <li>To impact new groups, change <code>T_HIDE_PROFILE</code> to <code>"true"</code> in <code>config.sh</code> .</li> <li>To modify existing groups, change <code>"hideProfile"</code> in group level <code>app-config.json</code> to <code>true</code>.</li> <li>Assessor registers on tablet, downloads form responses created on server #1129</li> <li>On device registration, after user creates account, will force user to enter 6 character code that references online account.</li> <li>To impact new groups, change <code>T_REGISTRATION_REQUIRES_SERVER_USER</code> to <code>"true"</code>.</li> <li>To modify existing groups, change <code>"registrationRequiresServerUser"</code> in group level <code>app-config.json</code> to <code>true</code>.</li> <li>Editor updates client user profile on server, Assessor sees updated profile after next sync #1134</li> <li>On client sync, will result in any changes made to a user profile on the server to be downloaded and reflected on the client.<ul> <li>To impact new groups, change <code>T_CENTRALLY_MANAGED_USER_PROFILE</code> to <code>"true"</code> in <code>config.sh</code>.</li> <li>To modify existing groups, change <code>"centrallyManagedUserProfile"</code> in group level <code>app-config.json</code> to <code>true</code>.</li> </ul> </li> <li>Editor views tangy-timed items_per_minute calculation in the CSV #1100</li> <li><code>&lt;tangy-location&gt;</code> can be filtered by entries in the profile by adding attribute <code>&lt;tangy-location filter-by-global&gt;</code>. In the editor when editing a <code>&lt;tangy-location&gt;</code> you will find a new option "Filter by locations in the user profile?" you can check.</li> <li>Advanced forms features (no GUI for these features)</li> <li><code>&lt;tangy-input-group&gt;</code> can be used to create repeatable groups of inputs. See the demo <a href=https://github.com/Tangerine-Community/Tangerine/issues/1055#issuecomment-427451539>here</a>. </li> <li>Geofence for v3 #941<ul> <li>If you location list has <code>latitude</code> and <code>longitude</code> properties for each location, you can validate your <code>&lt;tangy-location&gt;</code> selection given a geofence in <code>&lt;tangy-gps&gt;</code>. See the screenshots <a href=https://github.com/Tangerine-Community/Tangerine/issues/941#issuecomment-400778890>here</a> and a code example of how to build this in your form <a href=https://github.com/rjsteinert/tangerine-forms-for-cyanobacteria-surveillance-at-burlington-vermont-beaches/blob/master/cyanobacteria-surveillance-form/item-1.html>here</a>.</li> </ul> </li> <li>Upload incomplete form responses (important for Class module)</li> <li>To modify existing groups, set <code>"uploadUnlockedFormReponses"</code> to <code>true</code> in <code>app-config.json</code>.</li> <li>Server Admin clears reporting cache #1064</li> <li>Server Admin runs script to update views in databases #962</li> <li>Server Admin limits by site or by group the number of form responses uploaded end up in reporting outputs #1155</li> <li>This feature brings two new settings to <code>config.sh</code>.</li> <li>Set <code>T_PAID_MODE</code> to <code>"site"</code> to limit on a sitewide level, use <code>"group"</code> to limit on a per group level.</li> <li>Set <code>T_PAID_ALLOWANCE</code> from <code>"umlimited"</code> to a specific number like <code>"1000"</code> to limit form responses that end up in reporting outputs to one thousand. </li> <li>This mechanism works by marking uploaded form responses as "paid". When you first upgrade to this release, none of your form responses will be marked as paid and will not end up in reporting outputs until they are marked as paid against the allowance. If you want to mark all current uploaded form responses as paid and only mark against their allowance for future uploads, set the allowance to unlimited and after the reporting caches have been built, set the allowance desired and run <code>./start.sh</code> again. </li> <li>Optional Modules you can turn on and off in <code>config.sh</code> <code>T_MODULES</code> list.</li> <li>Note that if you are going to override the default <code>T_MODULES</code> list with an additional module such as <code>class</code>, don't forget to add modules such as <code>csv</code> if you still need them! </li> <li>Reporting outputs (inluding CSVs) include the information about the number of children a location has. #1174</li> </ul> <h3 id=known-issues>Known issues<a class=headerlink href=#known-issues title="Permanent link">&para;</a></h3> <ul> <li>Memory leak results in <code>Error: spawn ENOMEM</code> #886</li> <li>On the server command line run <code>crontab -e</code> and then add the following entry to restart the program every 24 hours <code>0 0 * * * docker stop tangerine; docker start tangerine</code>.</li> </ul> <h2 id=200-pre-release>2.0.0 (pre-release)<a class=headerlink href=#200-pre-release title="Permanent link">&para;</a></h2> <h3 id=user-stories>User Stories<a class=headerlink href=#user-stories title="Permanent link">&para;</a></h3> <ul> <li>As a Tangerine Database admin, I want to control which users have the "Manager" role for creating new groups <a href=https://github.com/Tangerine-Community/Tangerine/issues/218>#218</a></li> <li>As a Tangerine Editor User, I expect to see timestamps on CSVs down to the second <a href=https://github.com/Tangerine-Community/Tangerine/issues/223>#223</a></li> <li>As a user, if I end up on a http:// URL I want to be redirected to the https:// version of that URL <a href=https://github.com/Tangerine-Community/Tangerine/issues/98>#98</a></li> </ul> <h3 id=bugs>Bugs<a class=headerlink href=#bugs title="Permanent link">&para;</a></h3> <ul> <li>New groups default Client tabs are set up for workflow, should be vanilla tangerine <a href=https://github.com/Tangerine-Community/Tangerine/issues/230>#230</a></li> <li>When Tangerine is first installed, User1 does not have the required Manager role so groups cannot be created <a href=https://github.com/Tangerine-Community/Tangerine/issues/229>#229</a></li> <li>School Location Subtest does not render after upgrading from Tangerine 0.4.x to v2.0.0 <a href=https://github.com/Tangerine-Community/Tangerine/issues/189>#189</a></li> <li>If a group was upgraded from 0.x.x and does not have a media folder, APK generating fails <a href=https://github.com/Tangerine-Community/Tangerine/issues/186>#186</a></li> <li>Deleting group does not set security correctly on resulting "deleted" database <a href=https://github.com/Tangerine-Community/Tangerine/issues/227>#227</a></li> <li>Large CSVs fail to generate <a href=https://github.com/Tangerine-Community/Tangerine/issues/221>#221</a></li> <li>When a new Workflow is created it is missing retrictToRole, reporting, and authenticityParameters <a href=https://github.com/Tangerine-Community/Tangerine/issues/228>#228</a></li> <li>Ensure /var/log/couchdb exists so CouchDB does not crash <a href=https://github.com/Tangerine-Community/Tangerine/issues/216>#216</a></li> </ul> <h3 id=technical>Technical<a class=headerlink href=#technical title="Permanent link">&para;</a></h3> <ul> <li>Document how to use SSL with Tangerine <a href=https://github.com/Tangerine-Community/Tangerine/issues/219>#219</a></li> <li>Things to add to .gitignore <a href=https://github.com/Tangerine-Community/Tangerine/issues/185>#185</a></li> <li>Clean up build process so client does not need to compile twice <a href=https://github.com/Tangerine-Community/Tangerine/issues/74>#74</a></li> </ul> <h3 id=upgrade-directions>Upgrade directions<a class=headerlink href=#upgrade-directions title="Permanent link">&para;</a></h3> <ul> <li>This is the first release with upgrade scripts so you will need to run all upgrade scripts between the version you started at and this one. </li> </ul> <p>For example, if you are at Tangerine 0.4.6, then you must run... <div class=highlight><pre><span></span><code>docker exec -it tangerine-container /tangerine-server/upgrades/v1.0.0.sh
docker exec -it tangerine-container /tangerine-server/upgrades/v2.0.0.sh
</code></pre></div></p> <p>If you are at Tangerine 1.7.8, then you must run... <div class=highlight><pre><span></span><code>docker exec -it tangerine-container /tangerine-server/upgrades/v2.0.0.sh
</code></pre></div></p> <h2 id=v220>v2.2.0<a class=headerlink href=#v220 title="Permanent link">&para;</a></h2> <h3 id=user-stories_1>User Stories<a class=headerlink href=#user-stories_1 title="Permanent link">&para;</a></h3> <ul> <li>As a Site Owner I want to know how many results have been uploaded given arbitrary time period #457</li> </ul> <h3 id=technical_1>Technical<a class=headerlink href=#technical_1 title="Permanent link">&para;</a></h3> <ul> <li>Refactor start.sh and config.defaults.sh to allow configurable ports and tag #456</li> </ul> <h3 id=upgrade-direcections>Upgrade direcections<a class=headerlink href=#upgrade-direcections title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>docker exec -it tangerine-container /tangerine-server/upgrades/v2.2.0.sh
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["tabs"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.1e8ae164.min.js></script> </body> </html>