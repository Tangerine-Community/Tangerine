<div>

  <h2>{{'Sync to server'|translate}}</h2>
  <p>{{'Press the Start button below to transfer records to the server.'|translate}}</p>
  <p>{{'If you wish to compare al local records to the server, press the "Comparison" checkbox and then "Start". Please note that the comparison takes much longer than the typical sync.'|translate}}</p>

  <div class="container" *ngIf="status === 'STATUS_INITIAL'">
    <div>
        <mat-checkbox (change)="enableComparison($event.checked)">{{'Comparison (takes longer)'|translate}}</mat-checkbox>
        <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
    </div>
    <mat-progress-bar value="0"></mat-progress-bar>
    <div class="status">{{'Status'|translate}}: {{'Ready'|translate}}</div>
  </div>

  <div class="container" *ngIf="status === 'STATUS_IN_PROGRESS'">
    <div>
      <mat-checkbox disabled>{{'Comparison (takes longer)'|translate}}</mat-checkbox>
      <button mat-raised-button color="primary" disabled>{{'Start'|translate}}</button>
    </div>
    <mat-progress-bar mode="buffer"></mat-progress-bar>
    <div class="status">{{'Status'|translate}}: {{'In progress'|translate}}</div>
    <div class="status">{{syncMessage}}</div>
    <div class="status">{{otherMessage}}</div>
    <div class="status">{{direction}}</div>
  </div>

  <div class="container" *ngIf="status === 'STATUS_COMPLETED'">
    <div>
      <mat-checkbox (change)="enableComparison($event.checked)">{{'Comparison (takes longer)'|translate}}</mat-checkbox>
      <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
    </div>
    <mat-progress-bar mode="buffer" value="100"></mat-progress-bar>
    <div class="status">{{'Status'|translate}}: {{'Complete'|translate}}</div>
    <div class="status" *ngIf="replicationStatus">
      <ul>
        <li>{{'Pulled from the server'|translate}}: {{replicationStatus.pulled}}</li>
        <li>{{'Pushed to the server'|translate}}: {{replicationStatus.pushed}}</li>
        <li>{{'Records in the database'|translate}}: {{dbDocCount}}</li>
      </ul>
    </div>
  </div>

  <div class="container" *ngIf="status === 'STATUS_ERROR'">
    <div>
      <mat-checkbox (change)="enableComparison($event.checked)">{{'Comparison (takes longer)'|translate}}</mat-checkbox>
      <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
    </div>
    <mat-progress-bar mode="buffer" color="warn"></mat-progress-bar>
    <div class="status">{{'Status'|translate}}: {{'Error'|translate}}</div>
    <div class="status">{{syncMessage}}</div>
    <div class="status">{{direction}}</div>
    <div><p>{{'Records in the local database'|translate}}: {{dbDocCount}}</p></div>
  </div>

  <div class="errorMessage" *ngIf="errorMessage">{{errorMessage}}</div>
  <div class="errorMessage" *ngIf="pullError">Pull Error: {{pullError}}</div>
  <div class="errorMessage" *ngIf="pushError">Push Error: {{pushError}}</div>

</div>





