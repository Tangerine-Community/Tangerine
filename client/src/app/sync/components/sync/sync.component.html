<mat-tab-group animationDuration="0ms">
  <mat-tab label="{{'Online Sync'|translate}}">
    <ng-template matTabContent>
      <div>
        <p>{{'Online Sync is used when there is a reliable Internet connection. If you have no Internet connection, use the P2P tab above to transfer records between nearby devices.'|translate}}</p>
        <h2>{{'Online Sync'|translate}}</h2>
        <p>{{'Press the Start button below to transfer records to the server.'|translate}}</p>

        <div class="container" *ngIf="status === 'STATUS_INITIAL'">
          <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
          <mat-progress-bar value="0"></mat-progress-bar>
          <div class="status">{{'Status'|translate}}: {{'Ready'|translate}}</div>
        </div>

        <div class="container" *ngIf="status === 'STATUS_IN_PROGRESS'">
          <button mat-raised-button color="primary" disabled>Start</button>
          <mat-progress-bar mode="buffer"></mat-progress-bar>
          <div class="status">{{'Status'|translate}}: {{'In progress'|translate}}</div>
          <div class="status">{{syncMessage}}</div>
          <div class="status">{{otherMessage}}</div>
          <div class="status">{{direction}}</div>
        </div>

        <div class="container" *ngIf="status === 'STATUS_COMPLETED'">
          <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
          <mat-progress-bar mode="buffer" value="100"></mat-progress-bar>
          <div class="status">{{'Status'|translate}}: {{'Complete'|translate}}</div>
          <div class="status" *ngIf="replicationStatus">
            <div *ngIf="replicationStatus.pullConflicts?.length > 0">
              <p class="mat-error">{{'Conflicts detected.'|translate}}</p>
            </div>
            <ul>
              <li>{{'Pulled from the server'|translate}}: {{replicationStatus.pulled}}</li>
              <li>{{'Pushed to the server'|translate}}: {{replicationStatus.pushed}}</li>
              <li>{{'Records in the database'|translate}}: {{dbDocCount}}</li>
            </ul>
          </div>
        </div>

        <div class="container" *ngIf="status === 'STATUS_ERROR'">
          <button mat-raised-button color="primary" (click)="sync()">{{'Start'|translate}}</button>
          <mat-progress-bar mode="buffer" color="warn"></mat-progress-bar>
          <div class="status">{{'Status'|translate}}: {{'Error'|translate}}</div>
          <div class="status">{{syncMessage}}</div>
          <div class="status">{{direction}}</div>
          <div>{{'Records in the local database'|translate}}: {{dbDocCount}}</div>
        </div>

      </div>
    </ng-template>
  </mat-tab>

  <mat-tab label="{{'P2P Sync'|translate}}">
    <ng-template matTabContent>
      <app-peers></app-peers>
    </ng-template>
  </mat-tab>

</mat-tab-group>




