<mat-card class="tangy-card-content-container">
  <div class="attendance-report-div">
    <h1>{{'Attendance'|translate}}</h1>

<!--    <div *ngFor="let attendanceReport of attendanceReports" class="attendance-report-div">-->

<!--      <div *ngFor="let attendanceReport of attendanceReports">-->
      <table class="subtest">
        <tr>
          <td colspan="1">&nbsp;</td>
          <td colspan="2">{{'Most Recent'|translate}}: {{attendanceReport?._id.split('-')[2]}}-{{attendanceReport?._id.split('-')[3]}}-{{attendanceReport?._id.split('-')[4]}}</td>
          <td>&nbsp;</td>
          <td colspan="2">{{'30 days'|translate}}</td>
        </tr>
        <tr>
          <th>{{'Student'|translate}}</th>
          <th>{{'Attendance'|translate}}</th>
          <th>{{'Behavior'|translate}}</th>
          <td>&nbsp;</td>
          <th>{{'Attendance'|translate}}</th>
          <th>{{'Behavior'|translate}}</th>
        </tr>
      <tr *ngFor="let student of attendanceReport?.attendanceList">
        <td>{{student.name}}</td>
        <td [ngClass]="{'red': student.absent, 'green': !student.absent}"></td>
        <td [ngClass]="{'red': student.mood === 'sad', 'orange': student.mood === 'neutral', 'green': student.mood === 'happy'}"></td>
        <td>&nbsp;</td>
        <td [ngClass]="{'red': student.presentPercentage < 21, 'green': student.presentPercentage > 79}"> {{student.presentPercentage}} % </td>
        <td [ngClass]="{'red': student.moodPercentage <=20, 'orange': (student.moodPercentage >=20 && student.moodPercentage < 90), 'green': student.moodPercentage >=90}"> {{student.moodPercentage}} % </td>
      </tr>
      </table>
<!--    </div>-->
  </div>

</mat-card>
