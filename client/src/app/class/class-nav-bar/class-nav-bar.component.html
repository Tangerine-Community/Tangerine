<span class="class-dashboard-button-spacer-left">
  <button mat-button [matMenuTriggerFor]="classesMenu" class="white-menu-item">
    <span>{{'Grade'|translate}} <ng-template [ngIf]="selectedClass">: {{getClassTitle(selectedClass)}}</ng-template></span>
    </button>
  <mat-menu #classesMenu="matMenu">
    <ng-template [ngIf]="enabledClasses.length > 0">
        <button mat-menu-item disabled class="menu-section-header" *ngIf="enabledClasses.length > 1">
          {{'Change Class'|translate}}
        </button>
      <span *ngFor="let grade of enabledClasses; let classIndex=index" class="class-dashboard-curr-button-spacer">
        <button mat-menu-item [matMenuTriggerFor]="curriculumMenu" *ngIf="!grade.ignoreCurriculumsForTracking; else noCurriculums">
          {{getClassTitle(grade.doc)}}
        </button>
        <mat-menu #curriculumMenu="matMenu">
          <ng-container *ngFor="let curriculum of curriculumInputValues;">
            <button mat-menu-item *ngIf="curriculum.value ==='on' && useAttendanceFeature && !linkToDashboardUrl"
                    [routerLink]="['/attendance-dashboard/']"
                    [queryParams]={classIndex:classIndex,formId:curriculum.name}>
              {{curriculum?.label}}
              </button>
            <button mat-menu-item *ngIf="curriculum.value ==='on' && linkToDashboardUrl"
                    [routerLink]="['/dashboard/']"
                    [queryParams]={classIndex:classIndex,formId:curriculum.name}>
              {{curriculum?.label}}
              </button>
          </ng-container>
        </mat-menu>
        <ng-template #noCurriculums>
          <button mat-menu-item [matMenuTriggerFor]="curriculumMenu" *ngIf="linkToDashboardUrl; else attendanceOnly">
            {{getClassTitle(grade.doc)}}
        </button>
        </ng-template>
        <ng-template #attendanceOnly>
          <button mat-menu-item [routerLink]="['/attendance-dashboard/']"
                  *ngIf="useAttendanceFeature"
                  [queryParams]={classIndex:classIndex}>
              {{getClassTitle(grade.doc)}}
          </button>
        </ng-template>
      </span>
    </ng-template>

        <mat-divider></mat-divider>
        <button mat-menu-item
                [routerLink]="['/class-form/']"
                [queryParams]={formId:studentRegistrationFormId,classId:selectedClass?._id}
                *ngIf="selectedClass">
          {{'Add Student'|translate}}
        </button>
        <mat-divider *ngIf="selectedClass && linkToDashboardUrl && useAttendanceFeature"></mat-divider>
<!--        Show button for attendance Dashboard if homeUrl is 'dashboard' and attendance feature is enabled-->
        <button mat-menu-item [routerLink]="['/attendance-dashboard/']"
                *ngIf="selectedClass && linkToDashboardUrl && useAttendanceFeature">
          <span>{{'Dashboard'|translate}}</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item [routerLink]="['/attendance-check/']"
                [queryParams]='classRegistrationParams'
                *ngIf="selectedClass && useAttendanceFeature">
          <span>{{'Attendance'|translate}}</span>
        </button>
        <button mat-menu-item [routerLink]="['/behavior-check/']"
                [queryParams]='classRegistrationParams'
                *ngIf="selectedClass && useAttendanceFeature">
          <span>{{'Behavior'|translate}}</span>
        </button>
        <button mat-menu-item [routerLink]="['/attendance-scores/']"
                [queryParams]='classRegistrationParams'
                *ngIf="selectedClass && useAttendanceFeature">
          <span>{{'Scores'|translate}}</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item routerLink="/reports/attendance/{{selectedClass?._id}}"
                *ngIf="selectedClass && useAttendanceFeature"
                >{{'Report'|translate}}
        </button>
  </mat-menu>
  </span>