<h2>{{data.student.name}} {{data.student.surname}}</h2>
<h3>{{curriculumLabel}}</h3>
<div>
  <p>{{'Attendance'|translate}}</p>
  <ul>
    <li *ngFor="let record of absentRecords">
      {{record.reportLocaltime}}
    </li>
  </ul>
  <p style="margin-left: 1em" *ngIf="absentRecords.length === 0">{{'No absences recorded in the past month.'|translate}}</p>

  <mwl-calendar-month-view
    [viewDate]="viewDate"
    [events]="events"
    [locale]="locale">
  </mwl-calendar-month-view>
  
  <ng-container *ngIf="data.student.ignoreCurriculumsForTracking; else notSharedScores">
    <p>{{'Scores'|translate}}</p>
    <ul>
      <li *ngFor="let item of data.student.unitScoresPretty | keyvalue">
        {{item.key}}: {{item.value}}
      </li>
    </ul>
    <p>{{'score average is'|translate}}</p>
    <ul>
      <li *ngFor="let item of data.student.scores | keyvalue">
        {{item.key}}: {{item.value}}%
      </li>
    </ul>
  </ng-container>
  
  <ng-template #notSharedScores>
    <p>{{'Scores'|translate}}</p>
    <ul>
      <ng-container *ngFor="let unit of this.units; index as unitIndex">
      <li *ngIf="data.student['score_'+unitIndex]">
        {{unit}}: {{data.student['score_'+unitIndex]}}
      </li>
      </ng-container>
    </ul>
    <p *ngIf="data.student['score']">{{'score average is'|translate}}: {{data.student['score']}}%</p>
  </ng-template>
</div>

<!--{{data | json}}-->