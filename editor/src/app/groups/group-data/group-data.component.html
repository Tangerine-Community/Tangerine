<app-breadcrumb [title]="title" [breadcrumbs]="breadcrumbs"></app-breadcrumb>

<ng-container *ngIf="groupId">

  <mat-card *appHasAPermission="let i;group:groupId; permission:'can_access_dashboard'" class="mat-elevation-z3" routerLink="../dashboard">
    <mat-card-header>
        <div mat-card-avatar><i class="material-icons tangy-foreground-secondary group-avatar">dashboard</i>
        </div>
        <mat-card-title>
            <a>Dashboard</a>
        </mat-card-title>
        <mat-card-subtitle>Dashboard with custom reports.</mat-card-subtitle>
    </mat-card-header>
  </mat-card>

  <mat-card *appHasAPermission="let i;group:groupId; permission:'can_access_uploads'" class="is-link mat-elevation-z3" routerLink="uploads">
    <mat-card-header>
        <div mat-card-avatar>
          <mwc-icon class="tangy-foreground-secondary">cloud_upload</mwc-icon>
        </div>
        <mat-card-title>
            <a>{{'Uploads'|translate}}</a>
        </mat-card-title>
        <mat-card-subtitle>{{'View uploaded form responses from devices.'|translate}}</mat-card-subtitle>
    </mat-card-header>
  </mat-card>
  
  <mat-card *appHasAPermission="let i;group:groupId; permission:'can_access_download_csv'" class="is-link mat-elevation-z3" routerLink="download-csv">
    <mat-card-header>
        <div mat-card-avatar>
          <mwc-icon class="tangy-foreground-secondary">table_chart</mwc-icon>
        </div>
        <mat-card-title>
            <a>{{'Download CSV'|translate}}</a>
        </mat-card-title>
        <mat-card-subtitle>{{'Download CSVs of data.'|translate}}</mat-card-subtitle>
    </mat-card-header>
  </mat-card>

  <span *ngIf="config.enabledModules.includes('case')">
    <mat-card *appHasAPermission="let i;group:groupId; permission:'can_access_cases'"  class="is-link mat-elevation-z3" routerLink="cases">
      <mat-card-header>
          <div mat-card-avatar>
            <mwc-icon class="tangy-foreground-secondary">folder</mwc-icon>
          </div>
          <mat-card-title>
              <a>{{'Cases'|translate}}</a>
          </mat-card-title>
          <mat-card-subtitle>{{'Review uploaded cases.'|translate}}</mat-card-subtitle>
      </mat-card-header>
    </mat-card>
  </span>
  
  <span *ngIf="config.enabledModules.includes('case')">
    <mat-card *appHasAPermission="let i;group:groupId; permission:'can_access_issues'" class="is-link mat-elevation-z3" routerLink="issues">
      <mat-card-header>
          <div mat-card-avatar>
            <mwc-icon class="tangy-foreground-secondary">receipt</mwc-icon>
          </div>
          <mat-card-title>
            <a>{{'Issues'|translate}}</a>
          </mat-card-title>
          <mat-card-subtitle>{{'Review issues.'|translate}}</mat-card-subtitle>
      </mat-card-header>
    </mat-card>
  </span>
  
</ng-container>